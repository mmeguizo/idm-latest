"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[4718],{4718:(L,g,e)=>{e.r(g),e.d(g,{LoginModule:()=>T});var f=e(6814),m=e(5965),v=e(9773),y=e(8645),r=e(5219),t=e(9212),x=e(3859),b=e(5355),d=e(707),u=e(3714),a=e(95),c=e(7853),p=e(4104);let C=(()=>{class n{constructor(s,o,i){this.layoutService=s,this.auth=o,this.msg=i,this.valCheck=["remember"],this.getSubscription=new y.x}onLoginSubmit(){this.auth.getRoute("post","authentication","login",{email:this.email,password:this.password}).pipe((0,v.R)(this.getSubscription)).subscribe(s=>{if(s.success){let o=this.auth.decoded(s.token);this.auth.storeUserData(s.token,o),this.auth.CurrentlyloggedIn()&&(this.msg.add({severity:"success",summary:"Success",detail:"Login Successful"}),this.auth.loggingIn(o.role))}else this.msg.add({severity:"error",summary:"Error",detail:"Login Failed"})})}ngOnDestroy(){this.getSubscription.unsubscribe()}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(x.P),t.Y36(b.e),t.Y36(r.ez))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],features:[t._Bn([r.ez])],decls:20,vars:4,consts:[[1,"surface-ground","flex","align-items-center","justify-content-center","min-h-screen","min-w-screen","overflow-hidden"],[1,"flex","flex-column","align-items-center","justify-content-center"],["alt","Sakai logo",1,"mb-5","w-10rem","flex-shrink-0",3,"src"],[2,"border-radius","56px","padding","0.3rem","background","linear-gradient(\n                    180deg,\n                    var(--primary-color) 10%,\n                    rgba(33, 150, 243, 0) 30%\n                )"],[1,"w-full","surface-card","py-8","px-5","sm:px-8",2,"border-radius","53px"],[1,"text-center","mb-5"],[1,"text-900","text-3xl","font-medium","mb-3"],[1,"text-600","font-medium"],["for","email",1,"block","text-900","text-xl","font-medium","mb-2"],["id","email","type","text","placeholder","Email address","pInputText","",1,"w-full","md:w-30rem","mb-5",2,"padding","1rem",3,"ngModel","ngModelChange"],["for","password1",1,"block","text-900","font-medium","text-xl","mb-2"],["id","password1","placeholder","Password","styleClass","mb-5","inputStyleClass","w-full p-3 md:w-30rem",3,"ngModel","toggleMask","ngModelChange"],[1,"flex","align-items-center","justify-content-between","mb-5","gap-5"],["pButton","","pRipple","","label","Sign In",1,"w-full","p-3","text-xl",3,"click"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"p-toast"),t.TgZ(2,"div",1),t._UZ(3,"img",2),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),t._uU(8," Institutional Dashboard Monitoring "),t.qZA(),t.TgZ(9,"span",7),t._uU(10,"Sign in to continue"),t.qZA()(),t.TgZ(11,"div")(12,"label",8),t._uU(13,"Email"),t.qZA(),t.TgZ(14,"input",9),t.NdJ("ngModelChange",function(l){return i.email=l}),t.qZA(),t.TgZ(15,"label",10),t._uU(16,"Password"),t.qZA(),t.TgZ(17,"p-password",11),t.NdJ("ngModelChange",function(l){return i.password=l}),t.qZA(),t._UZ(18,"div",12),t.TgZ(19,"button",13),t.NdJ("click",function(){return i.onLoginSubmit()}),t.qZA()()()()()()),2&o&&(t.xp6(3),t.MGl("src","assets/layout/images/",(i.layoutService.config(),"logo"),".png",t.LSH),t.xp6(11),t.Q6J("ngModel",i.email),t.xp6(3),t.Q6J("ngModel",i.password)("toggleMask",!0))},dependencies:[d.Hq,u.o,a.Fj,a.JJ,a.On,c.ro,p.FN],styles:["[_nghost-%COMP%]     .pi-eye, [_nghost-%COMP%]     .pi-eye-slash{transform:scale(1.6);margin-right:1rem;color:var(--primary-color)!important}"]})}return n})(),M=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild([{path:"",component:C}]),m.Bz]})}return n})();var Z=e(8057),S=e(703);let T=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[r.ez,S.Ar],imports:[f.ez,M,d.hJ,Z.nD,u.j,a.u5,c.gz,p.EV]})}return n})()}}]);