(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[4360],{4360:(F,I,d)=>{"use strict";d.r(I),d.d(I,{AdminModule:()=>Ao});var j=d(5965),O=d(5861),G=d(8645),u=d(9773),_=d(4844),e=d(9212),q=d(1206),D=d(1187),T=d(9907),A=d(1931),Z=d(9305),P=d(8360),x=d(5219),b=d(6814),l=d(95),p=d(9252),c=d(9552),m=d(3965),h=d(4227),f=d(5359),C=d(2162);function w(o,s){if(1&o&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",(null==t.users?null:t.users.document)||"0"," ")}}function y(o,s){1&o&&e._UZ(0,"p-skeleton",29)}function U(o,s){if(1&o&&(e.TgZ(0,"span",30),e._uU(1),e.qZA(),e.TgZ(2,"span",31),e._uU(3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij("",(null==t.users?null:t.users.user)||0," Users"),e.xp6(2),e.hij(" - ",(null==t.users?null:t.users.admin)||0," Admins ")}}function S(o,s){1&o&&e._UZ(0,"p-skeleton",32)}function B(o,s){if(1&o&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",(null==t.deparmentData?null:t.deparmentData.departmentCount)||"0"," ")}}function $(o,s){1&o&&e._UZ(0,"p-skeleton",29)}function K(o,s){if(1&o&&(e.TgZ(0,"span",31),e._uU(1,"Active: "),e.qZA(),e.TgZ(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"span",31),e._uU(5,"Inactive: "),e.qZA(),e.TgZ(6,"span",33),e._uU(7),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.hij("",(null==t.deparmentData?null:t.deparmentData.departmentActive)||0," - "),e.xp6(4),e.hij("",(null==t.deparmentData?null:t.deparmentData.departmentInactive)||0," ")}}function L(o,s){1&o&&e._UZ(0,"p-skeleton",32)}function R(o,s){if(1&o&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",(null==t.objectivesData?null:t.objectivesData.objectivesCount)||"0"," ")}}function N(o,s){1&o&&e._UZ(0,"p-skeleton",29)}function k(o,s){if(1&o&&(e.TgZ(0,"span",31),e._uU(1,"Done: "),e.qZA(),e.TgZ(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"span",31),e._uU(5,"Working: "),e.qZA(),e.TgZ(6,"span",33),e._uU(7),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.hij("",(null==t.objectivesData?null:t.objectivesData.objectiveCompleted)||0," - "),e.xp6(4),e.hij("",(null==t.objectivesData?null:t.objectivesData.objectiveUncompleted)||0," ")}}function E(o,s){1&o&&e._UZ(0,"p-skeleton",32)}function V(o,s){if(1&o&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.hij(" ",(null==t.NewGoals?null:t.NewGoals.goalCount)||"0"," ")}}function X(o,s){1&o&&e._UZ(0,"p-skeleton",29)}function Q(o,s){if(1&o&&(e.TgZ(0,"span",31),e._uU(1,"Active : "),e.qZA(),e.TgZ(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"span",31),e._uU(5,"Deleted : "),e.qZA(),e.TgZ(6,"span",33),e._uU(7),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.hij("",(null==t.NewGoals?null:t.NewGoals.goalCount)||0," - "),e.xp6(4),e.hij("",(null==t.NewGoals?null:t.NewGoals.goalDeletedCount)||0," ")}}function fe(o,s){1&o&&e._UZ(0,"p-skeleton",32)}function z(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Goal"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Campus"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Department"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Budget"),e.qZA()())}function te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.selectedGoal(a))}),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"peso"),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,4,t.goals)," "),e.xp6(3),e.hij(" ",e.lcZ(6,6,t.campus)," "),e.xp6(3),e.hij(" ",e.lcZ(9,8,t.department)," "),e.xp6(3),e.Oqu(e.lcZ(12,10,t.budget))}}function ne(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",40),e._uU(2,"No Goals found."),e.qZA()())}function ie(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",40),e._uU(2," Loading Goals data. Please wait. "),e.qZA()())}function ae(o,s){if(1&o&&(e.TgZ(0,"p-table",34),e.YNc(1,z,9,0,"ng-template",35)(2,te,13,12,"ng-template",36)(3,ne,3,0,"ng-template",37)(4,ie,3,0,"ng-template",38),e.qZA()),2&o){const t=e.oxw();e.Q6J("value",t.goals)("loading",t.loading)}}function pe(o,s){1&o&&e._UZ(0,"p-skeleton",32)}function le(o,s){if(1&o&&(e.TgZ(0,"div",41)(1,"div",42)(2,"p",43),e._uU(3),e.ALo(4,"peso"),e.qZA(),e.TgZ(5,"p",43),e._uU(6),e.ALo(7,"peso"),e.qZA(),e._UZ(8,"hr",44),e.TgZ(9,"div",45)(10,"div",46),e._UZ(11,"i",47),e._uU(12," \xa0 "),e.TgZ(13,"p",48),e._uU(14),e.qZA()(),e.TgZ(15,"div",46),e._UZ(16,"i",49),e._uU(17," \xa0 "),e.TgZ(18,"p",48),e._uU(19),e.qZA()(),e.TgZ(20,"div",46),e._UZ(21,"i",50),e._uU(22," \xa0 "),e.TgZ(23,"p",48),e._uU(24),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(3),e.hij(" Total Goal : ",e.lcZ(4,5,t.totalBudget)," "),e.xp6(3),e.hij(" Total Objective Goal : ",e.lcZ(7,7,t.knobValue)," "),e.xp6(8),e.hij(" Complete : ",t.completedGoals," "),e.xp6(5),e.hij(" In Progress :",t.inProgressGoals," "),e.xp6(5),e.hij(" Not Started : ",t.notStartedGoals," ")}}const oe=(o,s)=>s.id;function _e(o,s){1&o&&(e.TgZ(0,"div",57)(1,"span",58),e._uU(2,"No , "),e.qZA(),e.TgZ(3,"span",59),e._uU(4,"Objectives Yet."),e.qZA()())}function re(o,s){if(1&o&&e._UZ(0,"p-chart",60),2&o){const t=e.oxw(2);e.Q6J("data",t.pieData)("options",t.pieOptions)}}function Re(o,s){1&o&&e._UZ(0,"i",65)}function Qe(o,s){1&o&&e._UZ(0,"i",66)}function He(o,s){if(1&o&&(e.TgZ(0,"li",61)(1,"span",62),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e._uU(4," \xa0 - \xa0 "),e.TgZ(5,"span",62),e._uU(6),e.ALo(7,"peso"),e.qZA(),e._uU(8," \xa0 - \xa0 "),e.TgZ(9,"span",62),e._uU(10),e.ALo(11,"date"),e.qZA(),e._uU(12," \xa0 - \xa0 "),e.YNc(13,Re,1,0,"i",63)(14,Qe,1,0),e.qZA(),e._UZ(15,"hr",64)),2&o){const t=s.$implicit;e.xp6(2),e.hij("",e.lcZ(3,4,t.functional_objective)," "),e.xp6(4),e.hij("",e.lcZ(7,6,t.budget)," "),e.xp6(4),e.Oqu(e.xi3(11,8,t.date_added,"mediumDate")),e.xp6(3),e.um2(13,t.complete?13:14)}}function Be(o,s){if(1&o&&(e.TgZ(0,"div",20)(1,"div",16),e.YNc(2,_e,5,0,"div",51)(3,re,1,2),e.TgZ(4,"div",52),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"div",53),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e._UZ(10,"hr",44),e.TgZ(11,"div",54)(12,"span",55),e._uU(13),e.ALo(14,"peso"),e.qZA()(),e._UZ(15,"hr",44),e.TgZ(16,"ul",56),e.SjG(17,He,16,11,null,null,oe),e.qZA()()()),2&o){const t=e.oxw();e.xp6(2),e.um2(2,t.pieDataBool?3:2),e.xp6(3),e.hij(" ",e.lcZ(6,4,null==t.selectedGoalData?null:t.selectedGoalData.goals)," "),e.xp6(3),e.hij(" ",e.lcZ(9,6,null==t.selectedGoalData?null:t.selectedGoalData.department)," "),e.xp6(5),e.Oqu(e.lcZ(14,8,null==t.selectedGoalData?null:t.selectedGoalData.budget)),e.xp6(4),e.wJu(t.objectivesSideData)}}const ue=()=>({width:"2.5rem",height:"2.5rem"});let Oe=(()=>{class o{constructor(t,i,n,a,r,v,g,M){this.userService=t,this.goalService=i,this.dept=n,this.obj=a,this.campus=r,this.branch=v,this.messageService=g,this.changeDetectorRef=M,this.getDashboardSubscription=new G.x,this.loading=!1,this.countries=[],this.selectedAgoal=!1,this.pieDataBool=!1,this.totalBudget=0,this.totalSubBudget=0,this.remainingBudget=0,this.completionPercentage=0,this.completedGoals=0,this.inProgressGoals=0,this.selectedIndex=0}ngOnInit(){this.getAllusers(),this.getAllGoals(),this.getAllDept(),this.getAllObjectives(),this.getAllObjectivesWithObjectives(),this.getAllCampusForDashboard()}processDashboardData(t){this.totalBudget=t.goals?.reduce((n,a)=>n+(a.budget||0),0)||0,this.totalSubBudget=(t.goals??[]).reduce((n,a)=>n+(a.objectivesDetails?.reduce((r,v)=>r+(v.budget||0),0)??0),0),this.knobValue=this.remainingBudget=(0!==this.totalSubBudget?this.totalBudget:0)-this.totalSubBudget;const i=(t.goals??[]).filter(n=>n.objectivesDetails&&n.objectivesDetails.length>0);this.completedGoals=i.filter(n=>n.objectivesDetails.every(a=>a.complete)).length,this.inProgressGoals=i.filter(n=>n.objectivesDetails.some(a=>!a.complete)).length,this.notStartedGoals=t.goals?.length?t.goals.length-this.inProgressGoals-this.completedGoals:0,this.completionPercentage=this.totalBudget>0?this.completedGoals/i.length*100:0}getAllCampusForDashboard(){var t=this;return(0,O.Z)(function*(){yield t.branch.getCampus().then(i=>{t.campusList=i})})()}getAllusers(){var t=this;return(0,O.Z)(function*(){yield t.userService.getRoute("get","users","getAllUsersForDashboard").pipe((0,u.R)(t.getDashboardSubscription)).subscribe(i=>{t.users=i.data[0]})})()}getAllGoals(){var t=this;return(0,O.Z)(function*(){yield t.goalService.getRoute("get","goals","getGoalsForDashboard").pipe((0,u.R)(t.getDashboardSubscription)).subscribe(i=>{t.NewGoals=i.data})})()}getAllDept(){var t=this;return(0,O.Z)(function*(){yield t.dept.getRoute("get","department","getAllDepartmentForDashboard").pipe((0,u.R)(t.getDashboardSubscription)).subscribe(i=>{t.deparmentData=i.data[0]})})()}getAllObjectives(){var t=this;return(0,O.Z)(function*(){yield t.obj.getRoute("get","objectives","getAllObjectivesForDashboard").pipe((0,u.R)(t.getDashboardSubscription)).subscribe(i=>{t.objectivesData=i.data[0]||[]})})()}getAllObjectivesWithObjectives(t){var i=this;return(0,O.Z)(function*(){i.loading=!0,i.goalService.getRoute("get","goals",`getAllObjectivesWithObjectivesForDashboard/${t}`).pipe((0,u.R)(i.getDashboardSubscription)).subscribe({next:n=>{i.goals=n.goals||[],i.thisBarCharts(n.goals),i.processDashboardData(n),i.loading=!1},error:n=>{console.error("Error fetching data:",n),i.messageService.add({severity:"error",summary:"Error",detail:"Failed to fetch goals"}),i.loading=!1}})})()}getAllDepartmentForDashboard(){var t=this;return(0,O.Z)(function*(){yield t.dept.getRoute("get","department","getAllDepartmentDropdown").pipe((0,u.R)(t.getDashboardSubscription)).subscribe(i=>{t.departmentList=i.data[0]})})()}showDetails(t){}selectedGoal(t){this.selectedAgoal=!0,this.selectedGoalData=t,t&&this.obj.getRoute("get","objectives",`getAllObjectivesForDashboardPie/${t.id}`).pipe((0,u.R)(this.getDashboardSubscription)).subscribe(i=>{let{objectivesData:r}=i.data[0];this.objectivesSideData=r,this.pieDataBool=r.length>1,this.initCharts(r),this.loading=!1})}onChangeCampus(t=""){this.loading=!0,this.selectedAgoal=!1,this.goals=[],this.totalBudget=0,this.totalSubBudget=0,this.remainingBudget=0,this.completionPercentage=0,this.completedGoals=0,this.inProgressGoals=0,this.notStartedGoals=0,this.knobValue=0,this.getAllObjectivesWithObjectives(t?.value?.name??"")}onClearCampus(){this.loading=!0,this.selectedAgoal=!1,this.goals=[],this.getAllObjectivesWithObjectives()}initCharts(t){const i=getComputedStyle(document.documentElement),n=i.getPropertyValue("--text-color");i.getPropertyValue("--text-color-secondary"),i.getPropertyValue("--surface-border"),this.pieData={labels:t.map(v=>v.functional_objective),datasets:[{data:t.map(v=>1),backgroundColor:[i.getPropertyValue("--indigo-500"),i.getPropertyValue("--purple-500"),i.getPropertyValue("--teal-500")],hoverBackgroundColor:[i.getPropertyValue("--indigo-400"),i.getPropertyValue("--purple-400"),i.getPropertyValue("--teal-400")]}]},this.pieOptions={plugins:{legend:{labels:{usePointStyle:!0,color:n}}}}}createPieChart(){if(this.objectivesSideData&&this.objectivesSideData.length>0){const t=this.objectivesSideData.filter(n=>n.complete).length;this.pieData={labels:["Completed","Not Completed"],datasets:[{data:[t,this.objectivesSideData.length-t],backgroundColor:["#42A5F5","#FFA726"],hoverBackgroundColor:["#64B5F6","#FFB74D"]}]},this.pieDataBool=!0}else this.pieDataBool=!1}ngOnDestroy(){this.getDashboardSubscription.next(),this.getDashboardSubscription.complete()}onChange(t){this.selectedIndex=t.index}getSelectedHeader(){alert(this.tabView.tabs[this.selectedIndex].header)}thisBarCharts(t=[]){var i=this;return(0,O.Z)(function*(){const n=getComputedStyle(document.documentElement),a=n.getPropertyValue("--text-color"),r=n.getPropertyValue("--text-color-secondary"),v=n.getPropertyValue("--surface-border"),g=[],Y=[],ce=[];t.forEach(Ae=>{Ae.objectivesDetails&&Ae.objectivesDetails.map(ye=>{ce.push(ye.budget),g.push(ye.functional_objective)})}),Y.push({label:"Sub Goals",backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgb(255, 159, 64)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)"],data:ce}),i.barCharts={labels:g,datasets:Y},i.options={plugins:{legend:{labels:{color:a}}},scales:{y:{beginAtZero:!0,ticks:{color:r},grid:{color:v,drawBorder:!1}},x:{ticks:{color:r},grid:{color:v,drawBorder:!1}}}}})()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(q.K),e.Y36(D.O),e.Y36(T.n),e.Y36(A.v),e.Y36(Z.j),e.Y36(P.b),e.Y36(x.ez),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin-dashboard"]],viewQuery:function(i,n){if(1&i&&e.Gf(_.xf,5),2&i){let a;e.iGM(a=e.CRH())&&(n.tabView=a.first)}},decls:68,vars:26,consts:[[1,"grid"],["routerLink","/admin/users",1,"col-12","lg:col-6","xl:col-3","cursor-pointer"],[1,"card","mb-0"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],["class","text-900 font-medium text-xl"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-users","text-blue-500","text-xl"],["routerLink","/admin/departments",1,"col-12","lg:col-6","xl:col-3","cursor-pointer"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",3,"ngStyle"],[1,"pi","pi-building","text-orange-500","text-xl"],["routerLink","/admin/goals",1,"col-12","lg:col-6","xl:col-3","cursor-pointer"],[1,"pi","pi-map","text-blue-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","pi-compass","text-purple-500","text-xl"],[1,"col-12"],[1,"card"],["optionLabel","name","placeholder","Select Campus",3,"options","ngModel","showClear","ngModelChange","onChange","onClear"],["orientation","right",3,"activeIndex","onChange"],["header","Goals List",1,"line-height-3","m-0",3,"selected"],[1,"col-5","align-items-center","justify-content-center"],["selectionMode","single",3,"value","loading",4,"ngIf"],["width","12rem","height","2rem",4,"ngIf"],[1,"col-2"],["layout","vertical"],["class","col-5 align-items-center justify-content-center md:flex-column"],["header","Charts","cache","false",1,"line-height-3","m-0"],["type","bar",3,"data","options"],[1,"text-900","font-medium","text-xl"],["shape","circle","size","3rem","styleClass","mr-2"],[1,"text-green-500","font-medium"],[1,"text-500"],["width","12rem","height","2rem"],[1,"text-red-500","font-medium"],["selectionMode","single",3,"value","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"cursor-pointer","hover:shadow-8","text-sm",3,"click"],["colspan","8"],[1,"col-5","align-items-center","justify-content-center","md:flex-column"],[1,"card","flex","justify-content-center","flex-column"],[1,"text-sm","text-center"],[1,"my-3","mx-0","border-top-1","border-none","surface-border"],["id","progress",1,"justify-content-around","align-items-center","flex","flex-row","sm:flex-column","md:flex-row"],[1,"flex","align-items-center","md:flex-column","justify-content-center"],[1,"pi","pi-check","text-green-500","mr-2"],[1,"text-xs"],[1,"pi","pi-spin","pi-spinner","text-yellow-500","mr-2"],[1,"pi","pi-wrench","text-red-500","mr-2"],["class","mb-3 font-bold text-2xl"],[1,"text-900","font-medium","text-xl","mb-2"],[1,"text-600"],[1,"flex","align-items-center"],[1,"font-bold","text-2xl","text-900"],[1,"list-none","p-0","m-0","flex-grow-1"],[1,"mb-3","font-bold","text-2xl"],[1,"text-900"],[1,"text-blue-600"],["type","doughnut","width","100%","height","100%",3,"data","options"],[1,"flex","align-items-center","mb-3"],[1,"text-sm"],["class","pi pi-check-circle text-green-500 mr-2"],[1,"mb-3","mx-0","border-top-1","border-none","surface-border","mt-auto"],[1,"pi","pi-check-circle","text-green-500","mr-2"],[1,"pi","pi-exclamation-triangle","text-red-500","mr-2"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"span",4),e._uU(6,"Users"),e.qZA(),e.YNc(7,w,2,1,"div",5)(8,y,1,0),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"i",7),e.qZA()(),e.YNc(11,U,4,2)(12,S,1,0),e.qZA()(),e.TgZ(13,"div",8)(14,"div",2)(15,"div",3)(16,"div")(17,"span",4),e._uU(18,"Departments"),e.qZA(),e.YNc(19,B,2,1,"div",5)(20,$,1,0),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"i",10),e.qZA()(),e.YNc(23,K,8,2)(24,L,1,0),e.qZA()(),e.TgZ(25,"div",11)(26,"div",2)(27,"div",3)(28,"div")(29,"span",4),e._uU(30,"Objectives"),e.qZA(),e.YNc(31,R,2,1,"div",5)(32,N,1,0),e.qZA(),e.TgZ(33,"div",6),e._UZ(34,"i",12),e.qZA()(),e.YNc(35,k,8,2)(36,E,1,0),e.qZA()(),e.TgZ(37,"div",11)(38,"div",2)(39,"div",3)(40,"div")(41,"span",4),e._uU(42,"Goals"),e.qZA(),e.YNc(43,V,2,1,"div",5)(44,X,1,0),e.qZA(),e.TgZ(45,"div",13),e._UZ(46,"i",14),e.qZA()(),e.YNc(47,Q,8,2)(48,fe,1,0),e.qZA()(),e.TgZ(49,"div",15)(50,"div",16)(51,"p-dropdown",17),e.NdJ("ngModelChange",function(r){return n.selectedCampusDropdown=r})("onChange",function(r){return n.onChangeCampus(r)})("onClear",function(){return n.onClearCampus()}),e.qZA(),e.TgZ(52,"p-tabView",18),e.NdJ("onChange",function(r){return n.onChange(r)}),e.TgZ(53,"p-tabPanel",19)(54,"div",16)(55,"div",0)(56,"div",20),e.YNc(57,ae,5,2,"p-table",21)(58,pe,1,0,"p-skeleton",22),e.qZA(),e.TgZ(59,"div",23)(60,"p-divider",24)(61,"b"),e._uU(62,"OR"),e.qZA()()(),e.YNc(63,le,25,9,"div",25)(64,Be,19,10),e.qZA()()(),e.TgZ(65,"p-tabPanel",26)(66,"div",16),e._UZ(67,"p-chart",27),e.qZA()()()()()()),2&i&&(e.xp6(7),e.um2(7,n.users?7:8),e.xp6(2),e.Q6J("ngStyle",e.DdM(22,ue)),e.xp6(2),e.um2(11,n.users?11:12),e.xp6(8),e.um2(19,n.deparmentData?19:20),e.xp6(2),e.Q6J("ngStyle",e.DdM(23,ue)),e.xp6(2),e.um2(23,n.deparmentData?23:24),e.xp6(8),e.um2(31,n.objectivesData?31:32),e.xp6(2),e.Q6J("ngStyle",e.DdM(24,ue)),e.xp6(2),e.um2(35,n.objectivesData?35:36),e.xp6(8),e.um2(43,n.NewGoals?43:44),e.xp6(2),e.Q6J("ngStyle",e.DdM(25,ue)),e.xp6(2),e.um2(47,n.NewGoals?47:48),e.xp6(4),e.Q6J("options",n.campusList)("ngModel",n.selectedCampusDropdown)("showClear",!0),e.xp6(1),e.Q6J("activeIndex",n.selectedIndex),e.xp6(1),e.Q6J("selected",!0),e.xp6(4),e.Q6J("ngIf",n.goals),e.xp6(1),e.Q6J("ngIf",!n.goals),e.xp6(5),e.um2(63,n.selectedAgoal?64:63),e.xp6(4),e.Q6J("data",n.barCharts)("options",n.options))},dependencies:[j.rH,b.O5,b.PC,l.JJ,l.On,p.C,c.iA,x.jx,m.Lt,h.O,_.xf,_.x4,f.i,b.rS,b.uU,C.vZ],styles:['.doughnut-container{width:50%;margin:auto}@media (max-width: 768px){  .doughnut-container{width:66.67%;margin:0 auto}}.container[_ngcontent-%COMP%]{display:grid;grid-template-rows:auto 1fr;padding:20px;gap:20px;container:container/inline-size}.top-area[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:20px}.top-area[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px;outline:1px solid;display:grid;align-content:center}.top-area[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{justify-content:center}.bottom-area[_ngcontent-%COMP%]{padding:20px;outline:1px solid}@container container (max-width: 425px){.top-area[_ngcontent-%COMP%]{grid-template-columns:1fr}}body[_ngcontent-%COMP%]{background-color:#ba4828;font-family:Concert One,cursive;margin:0;overflow:hidden;padding:0}.text[_ngcontent-%COMP%]{left:50%;position:absolute;transform:translate(-50%);font-size:5em;margin:0;opacity:.3;text-align:center;top:50px;width:80%}.container[_ngcontent-%COMP%]{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);height:400px;width:400px}.container[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{left:50%;position:absolute;transform:translate(-50%);background-color:#ff565633;border-radius:50%;bottom:-5px;height:450px;width:450px}.container[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]:after{left:50%;position:absolute;transform:translate(-50%);background-color:#ff565633;border-radius:50%;bottom:0;content:"";height:350px;width:350px}.arm-left[_ngcontent-%COMP%]{position:absolute;background-color:#ca906f;border-radius:80px;height:160px;left:40px;top:190px;transform:rotate(30deg);width:60px}.arm-left[_ngcontent-%COMP%]:after{position:absolute;background-color:#ca906f;border-radius:50%;content:"";height:80px;left:-10px;top:-40px;width:80px}.blacksmith[_ngcontent-%COMP%]{position:absolute;bottom:0;height:300px;left:50%;transform-origin:center;transform:translate(-50%) rotate(0);width:300px}.blacksmith[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);background-color:#eab08c;border-radius:50%;height:250px;overflow:hidden;width:250px}.blacksmith[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]:after{content:"";left:50%;position:absolute;transform:translate(-50%,-50%);background-color:#777a7a;border-radius:50%;height:200%;top:130%;width:200%}.blacksmith[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]   .dress[_ngcontent-%COMP%]{position:absolute;background-color:#777a7a;height:100px;top:0;width:20px}.blacksmith[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]   .dress[_ngcontent-%COMP%]:after, .blacksmith[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]   .dress[_ngcontent-%COMP%]:before{position:absolute;border:5px solid #a0a0a0;box-sizing:border-box;border-radius:50%;content:"";height:30px;left:-5px;top:75px;width:30px;z-index:1}.blacksmith[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]   .dress[_ngcontent-%COMP%]:nth-child(1){left:50px}.blacksmith[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]   .dress[_ngcontent-%COMP%]:nth-child(2){right:50px}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{left:50%;position:absolute;transform:translate(-50%);background-color:#13242c;border-radius:50px;height:200px;top:-20px;width:90px}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:after, .blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:before{content:"";left:50%;position:absolute;transform:translate(-50%);background-color:#13242c;border-radius:10px;height:20px;transform-origin:bottom;top:-10px;width:7px}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:after{transform:rotate(20deg)}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]:before{transform:rotate(-20deg)}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]{position:absolute;background-color:#777a7a;box-shadow:28px 0 #777a7a;border-radius:50%;height:30px;left:10px;top:50px;width:30px}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]:after, .blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]:before{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);border:5px solid #a0a0a0;border-radius:50%;box-sizing:border-box;content:"";height:100%;width:100%}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]:before{left:43px}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .moustache[_ngcontent-%COMP%]{position:absolute;background-color:#777a7a;height:30px;top:70px;width:35px}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .moustache[_ngcontent-%COMP%]:nth-child(1){border-radius:0 60%;left:40px}.blacksmith[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   .moustache[_ngcontent-%COMP%]:nth-child(2){border-radius:60% 0;left:5px}.blacksmith[_ngcontent-%COMP%]   .arm-right[_ngcontent-%COMP%]{position:absolute;background-color:#eab08c;border-radius:50px;height:170px;left:230px;top:60px;transform-origin:30px 30px;transform:rotate(160deg);width:60px}.blacksmith[_ngcontent-%COMP%]   .arm-right[_ngcontent-%COMP%]:after{position:absolute;background-color:#eab08c;border-radius:50%;content:"";height:80px;left:-10px;width:80px}.blacksmith[_ngcontent-%COMP%]   .arm-right[_ngcontent-%COMP%]   .hammer[_ngcontent-%COMP%]{position:absolute;background-color:#444;border-radius:50% 0 0;height:60px;left:-50px;top:140px;transform:rotate(-30deg);width:50px;z-index:1}.blacksmith[_ngcontent-%COMP%]   .arm-right[_ngcontent-%COMP%]   .hammer[_ngcontent-%COMP%]:after{content:"";position:absolute;background-color:#666;border-radius:10px;height:10px;left:-5px;top:52px;width:60px}.blacksmith[_ngcontent-%COMP%]   .arm-right[_ngcontent-%COMP%]   .hammer[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;transform:translateY(-50%);background-color:#666;border-radius:0 10px 10px 0;height:10px;left:100%;width:30px}.anvil[_ngcontent-%COMP%]{left:50%;position:absolute;transform:translate(-50%);background-color:#444;bottom:25px;height:50px;width:120px}.anvil[_ngcontent-%COMP%]:after{left:50%;position:absolute;transform:translate(-50%);content:"";border-color:transparent transparent #444 transparent;border-style:solid;border-width:0 50px 60px 50px;bottom:-25px;height:0;width:0}.anvil[_ngcontent-%COMP%]:before{left:50%;position:absolute;transform:translate(-50%);background-color:#666;content:"";border-radius:10px;height:10px;width:140px}.sword[_ngcontent-%COMP%]{position:absolute;background-color:silver;bottom:75px;height:15px;left:40px;width:200px}.sword[_ngcontent-%COMP%]:after{position:absolute;top:50%;transform:translateY(-50%);background-color:#13242c26;border-radius:5px;content:"";height:5px;left:20px;width:170px}.sword[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background-color:#444;border-radius:10px;height:30px;width:10px}.sword[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]:after{position:absolute;background-color:#ff5656e6;border-radius:10px 0 0 10px;content:"";height:15px;left:80px;top:8px;width:120px}.sword[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]:before{position:absolute;border-color:transparent transparent transparent #ff5656;border-style:solid;border-width:7.5px 0 7.5px 15px;content:"";height:0;left:200px;opacity:.9;top:8px;width:0}.fire-box[_ngcontent-%COMP%]{position:absolute;height:100px;left:130px;overflow:hidden;top:225px;width:140px}.fire-box[_ngcontent-%COMP%]   .fire[_ngcontent-%COMP%]{position:absolute;background-color:#ff5656;border-radius:20px;box-shadow:0 -5px 30px #ffb256;height:100px;width:30px}.fire-box[_ngcontent-%COMP%]   .fire[_ngcontent-%COMP%]:after{content:"";left:50%;position:absolute;transform:translate(-50%);background-color:#ffb256;border-radius:10px 10px 0 0;height:70px;top:10px;width:15px}.fire-box[_ngcontent-%COMP%]   .fire[_ngcontent-%COMP%]:nth-child(1){left:10px}.fire-box[_ngcontent-%COMP%]   .fire[_ngcontent-%COMP%]:nth-child(2){left:40px}.fire-box[_ngcontent-%COMP%]   .fire[_ngcontent-%COMP%]:nth-child(3){left:70px}.fire-box[_ngcontent-%COMP%]   .fire[_ngcontent-%COMP%]:nth-child(4){left:100px}.blacksmith[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blacksmith-anima 1.5s infinite cubic-bezier(.59,.01,.99,.22)}@keyframes _ngcontent-%COMP%_blacksmith-anima{0%{transform:translate(-50%) rotate(0)}50%{transform:translate(-50%) rotate(-10deg)}}.arm-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_arm-anima 1.5s infinite cubic-bezier(.59,.01,.99,.22)}@keyframes _ngcontent-%COMP%_arm-anima{0%{transform:rotate(160deg)}50%{transform:rotate(30deg)}60%{transform:rotate(30deg)}80%{transform:rotate(30deg)}to{transform:rotate(160deg)}}.arm-left[_ngcontent-%COMP%]:after{animation:_ngcontent-%COMP%_arm-left-anima 1.5s infinite cubic-bezier(.59,.01,.99,.22)}@keyframes _ngcontent-%COMP%_arm-left-anima{0%{top:-40px}50%{top:-10px}}.fire[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fire-anima 1.5s infinite cubic-bezier(.59,.01,.99,.22)}@keyframes _ngcontent-%COMP%_fire-anima{0%{top:130px}50%{top:130px}52%{top:30px}70%{top:30px}90%{top:130px}to{top:130px}}.fire[_ngcontent-%COMP%]:nth-child(2){animation-delay:.05s}.fire[_ngcontent-%COMP%]:nth-child(3){animation-delay:.08s}#link[_ngcontent-%COMP%]{bottom:20px;color:#000;opacity:.5;display:flex;align-items:center;position:absolute;left:50%;transform:translate(-50%)}#link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 0 5px}#link[_ngcontent-%COMP%]:hover{opacity:1}  .p-knob-text{text-align:center!important;font-size:xx-small!important}  .p-knob.p-component{display:flex;justify-content:center;align-items:center}']})}return o})();var H=d(5355),J=d(707),W=d(3530),Ye=d(7853),ee=d(3714);const $e=["filter"];function Ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",39)(1,"button",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(8);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"span",41),e._UZ(3,"i",42),e.TgZ(4,"input",43,44),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(8);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}}function ze(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",45)(2,"div",46),e._uU(3," Username "),e._UZ(4,"p-columnFilter",47),e.qZA()(),e.TgZ(5,"th",45)(6,"div",46),e._uU(7," Email "),e._UZ(8,"p-columnFilter",48),e.qZA()(),e.TgZ(9,"th",45)(10,"div",46),e._uU(11," Department "),e._UZ(12,"p-columnFilter",49),e.qZA()(),e.TgZ(13,"th",45)(14,"div",46),e._uU(15," Role "),e._UZ(16,"p-columnFilter",50),e.qZA()(),e.TgZ(17,"th",45)(18,"div",46),e._uU(19," Campus "),e._UZ(20,"p-columnFilter",51),e.qZA()(),e.TgZ(21,"th",45)(22,"div",46),e._uU(23," Status "),e._UZ(24,"p-columnFilter",52),e.qZA()(),e.TgZ(25,"th",45)(26,"div",46),e._uU(27," Options "),e.qZA()()())}function Ke(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"titlecase"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"td")(16,"span",53),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.changeUserStatus(a.id))}),e._uU(17),e.qZA()(),e.TgZ(18,"td")(19,"div",54)(20,"i",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.updateUser(a))}),e.qZA(),e.TgZ(21,"i",56),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteUser(a.id))}),e.qZA()()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,8,t.username)," "),e.xp6(3),e.hij(" ",t.email," "),e.xp6(2),e.hij(" ",e.lcZ(8,10,t.department)," "),e.xp6(3),e.hij(" ",e.lcZ(11,12,t.role)," "),e.xp6(3),e.hij(" ",e.lcZ(14,14,t.campus)," "),e.xp6(3),e.Tol("cursor-pointer  customer-badge status-"+t.status),e.xp6(1),e.Oqu(t.status)}}function We(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",57),e._uU(2,"No Users found."),e.qZA()())}function Xe(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",57),e._uU(2,"Loading Users data. Please wait."),e.qZA()())}function et(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changeUserStatuExecution())}),e.qZA()}}function tt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteUserExec())}),e.qZA()}}const nt=()=>({flexWrap:"wrap",flexDirection:"column",gap:"1rem",width:"100%",maxWidth:"100vw"});function it(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"form",20)(1,"div",21)(2,"div",22)(3,"div",23)(4,"label",24),e._uU(5,"Username"),e.qZA(),e._UZ(6,"input",59),e.qZA(),e.TgZ(7,"div",21)(8,"div",23)(9,"label",26),e._uU(10,"Email"),e.qZA(),e._UZ(11,"input",60),e.qZA()()()(),e.TgZ(12,"div",21)(13,"div",23)(14,"label",33),e._uU(15,"Department"),e.qZA(),e.TgZ(16,"form",20),e._UZ(17,"p-dropdown",35),e.qZA()()(),e.TgZ(18,"div",21)(19,"div",23)(20,"label",33),e._uU(21,"Campus"),e.qZA(),e.TgZ(22,"form",20),e._UZ(23,"p-dropdown",34),e.qZA()()(),e.TgZ(24,"div",61)(25,"p-button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateUserCard=!1)}),e.qZA(),e._uU(26," \xa0\xa0 "),e.TgZ(27,"p-button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateUserExecution(n.form))}),e.qZA()()()}if(2&o){const t=e.oxw();e.Akn(e.DdM(9,nt)),e.Q6J("formGroup",t.form),e.xp6(6),e.Q6J("ngClass",null!=t.form&&t.form.get("username").touched&&null!=t.form&&null!=t.form.controls.username.errors&&t.form.controls.username.errors.required?"ng-invalid":""),e.xp6(5),e.Q6J("ngClass",null!=t.form&&t.form.get("email").touched&&null!=t.form&&null!=t.form.controls.email.errors&&t.form.controls.email.errors.required?"ng-invalid":""),e.xp6(5),e.Q6J("formGroup",t.formGroupDemo),e.xp6(1),e.Q6J("options",t.deptDropdownValue),e.xp6(5),e.Q6J("formGroup",t.formGroupCampus),e.xp6(1),e.Q6J("options",t.deptDropdownCampusValue)}}function ot(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1," You must enter an email address. "),e.qZA())}function at(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Please enter a valid email address."),e.qZA())}function lt(o,s){1&o&&(e.TgZ(0,"span"),e._uU(1,"Only Chmsu addresses (chmsu.edu.ph) are accepted."),e.qZA())}function rt(o,s){if(1&o&&(e.TgZ(0,"div",62),e.YNc(1,ot,2,0,"span",63)(2,at,2,0,"span",63)(3,lt,2,0,"span",63),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.Addform.get("email").touched&&t.form.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.Addform.get("email").hasError("email")),e.xp6(1),e.Q6J("ngIf",t.Addform.get("email").hasError("pattern"))}}const st=()=>["username","email","department","role","campus","status","options"],Te=()=>({width:"20vw"}),je=()=>({"960px":"50vw"}),we=()=>({width:"23vw"}),Ge=()=>({"1199px":"23vw","575px":"23vw"});let dt=(()=>{class o{constructor(t,i,n,a,r,v,g){this.user=t,this.auth=i,this.dept=n,this.camp=a,this.messageService=r,this.formBuilder=v,this.AddUserFormBuilder=g,this.users=[],this.statuses=[],this.deptDropdownValue=[],this.deptDropdownCampusValue=[],this.loading=!0,this.changeStatusCard=!1,this.updateUserCard=!1,this.addUserDialogCard=!1,this.getUserSubscription=new G.x,this.roles=[{name:"admin",code:"admin"},{name:"user",code:"user"}]}ngOnInit(){this.getAllusers(),this.getAllDepartments(),this.getAllCampuses(),this.getAllDepartmentDropdown(),this.cols=[{field:"username",header:"Username"},{field:"email",header:"Email"},{field:"department",header:"Department"},{field:"status",header:"Status"},{field:"role",header:"Role"}],this.statuses=[{label:"Inactive",value:"unqualified"},{label:"Active",value:"qualified"},{label:"Pending",value:"proposal"}],this.createForm(),this.createFormAddUser(),this.formGroupDemo=new l.cw({selectDepartment:new l.NI}),this.formGroupCampus=new l.cw({selectedCampus:new l.NI})}createForm(){this.form=this.formBuilder.group({username:["",[l.kI.required]],email:["",[l.kI.required]],department:["",[l.kI.required]]})}getAllCampuses(){this.camp.getRoute("get","campus","getAllCampus").pipe((0,u.R)(this.getUserSubscription)).subscribe(t=>{this.deptDropdownCampusValue=t.data[0]})}getAllDepartmentDropdown(){this.camp.getRoute("get","department","getAllDepartmentDropdown").pipe((0,u.R)(this.getUserSubscription)).subscribe(t=>{this.deptDropdownValue=t.data[0]})}createFormAddUser(){this.Addform=this.AddUserFormBuilder.group({username:["",[l.kI.required]],email:["",[l.kI.required,l.kI.email,l.kI.pattern("^.+@chmsu.edu.ph$")]],department:new l.NI,password:["",[l.kI.required]],confirm:["",[l.kI.required]]})}getAllusers(){this.loading=!0,this.user.getRoute("get","users",`getAllUsersExceptLoggedIn/${this.auth.getTokenUserID()}`).pipe((0,u.R)(this.getUserSubscription)).subscribe(t=>{this.users=t.users,this.loading=!1})}ngOnDestroy(){this.getUserSubscription.unsubscribe()}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}clear(t){t.clear(),this.filter.nativeElement.value=""}updateUser(t){this.selectedDept=t.department,this.selectedRole=t.role,this.formGroupDemo.setValue({selectDepartment:this.deptDropdownValue.find(i=>i.name===t.department)}),this.formGroupCampus.setValue({selectedCampus:this.deptDropdownCampusValue.find(i=>i.name===t.campus)}),this.form.setValue({username:t.username,email:t.email,department:t.department}),this.updateUserCard=!0,this.updateUserId=t.id}updateUserExecution(t){this.user.getRoute("put","users","updateUser",{id:this.updateUserId,username:t.value.username,email:t.value.email,department:this.formGroupDemo.value.selectDepartment.name,campus:this.formGroupCampus.value.selectedCampus.name}).pipe((0,u.R)(this.getUserSubscription)).subscribe(n=>{n.success?(this.getAllusers(),this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.updateUserCard=!1):this.messageService.add({severity:"danger  ",summary:"Error",detail:n.message})})}deleteUser(t){this.deleteUserCard=!0,this.deleteUserId=t}deleteUserExec(){this.user.getRoute("put","users","setInactiveUser",{id:this.deleteUserId}).pipe((0,u.R)(this.getUserSubscription)).subscribe(t=>{t.success?(this.getAllusers(),this.messageService.add({severity:"success  ",summary:"Done",detail:t.message}),this.deleteUserCard=!1):this.messageService.add({severity:"danger  ",summary:"Error",detail:t.message})})}changeUserStatus(t){this.changeStatusCard=!0,this.changeStatusId=t}changeUserStatuExecution(t){this.changeStatusCard=!1,this.user.getRoute("put","users","changeUserStatus",{id:this.changeStatusId}).pipe((0,u.R)(this.getUserSubscription)).subscribe(i=>{i.success?(this.getAllusers(),this.changeStatusCard=!1,this.messageService.add({severity:"success  ",summary:"Done",detail:i.message})):(this.messageService.add({severity:"danger  ",summary:"Error",detail:i.message}),this.changeStatusCard=!1)})}getAllDepartments(){this.dept.getRoute("get","department","getAllDepartment").pipe((0,u.R)(this.getUserSubscription)).subscribe(t=>{this.AllDepartments=t.department})}addUser(t){let i={username:t.value.username,email:t.value.email,department:this.formGroupDemo.value.selectDepartment.name,campus:this.formGroupCampus.value.selectedCampus.name,password:t.value.password,confirm:t.value.confirm};if(!(i.username&&i.email&&i.password&&i.confirm&&i.department))return this.messageService.add({severity:"error  ",summary:"Error",detail:"Please fill in all required fields."});this.user.getRoute("post","users","addUser",i).pipe((0,u.R)(this.getUserSubscription)).subscribe(n=>{n.success?(this.getAllusers(),this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.addUserDialogCard=!1,this.Addform.reset()):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}addUserDialogButton(){this.addUserDialogCard=!0}getErrorMessage(t){return this.Addform.get(t)?.hasError("required")?"You must enter a value.":this.Addform.get(t)?.hasError("email")?"Please enter a valid email address.":this.Addform.get(t)?.hasError("pattern")?"Only Chmsu addresses (chmsu.edu.ph) are accepted.":""}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(q.K),e.Y36(H.e),e.Y36(T.n),e.Y36(Z.j),e.Y36(x.ez),e.Y36(l.qu),e.Y36(l.qu))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ngx-users"]],viewQuery:function(i,n){if(1&i&&e.Gf($e,5),2&i){let a;e.iGM(a=e.CRH())&&(n.filter=a.first)}},decls:61,vars:49,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"add-user-heading"],[1,"text-xl","font-medium","mt-2","text-slate-950"],["pButton","","icon","pi pi-user-plus","label","Add User",3,"click"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["header","Change User","id","tester","showEffect","fade",3,"visible","modal","breakpoints","visibleChange"],[1,"line-height-3","m-0"],["pTemplate","footer"],["header","Dialog","id","tester","showEffect","fade",3,"visible","modal","breakpoints","visibleChange"],["header","Edit User","position","top",3,"visible","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup","style",4,"ngIf"],["header","Add User","id","tester","showEffect","fade",3,"visible","modal","breakpoints","draggable","resizable","visibleChange"],[3,"formGroup"],[1,"flex","align-items-center","gap-3"],[1,"p-fluid"],[1,"field","col-10","md:col-10"],["for","username"],["pInputText","","id","username","autocomplete","off","formControlName","username","required","",1,"flex-auto",3,"ngClass"],["for","email"],["pInputText","","id","email","formControlName","email","autocomplete","off","required","",1,"flex-auto",3,"ngClass"],["class","bg-red-500 text-white p-2 rounded",4,"ngIf"],["for","password"],["id","password","autocomplete","off","formControlName","password","required","",1,"flex-auto",3,"ngClass"],["for","confirm"],["id","confirm","formControlName","confirm","autocomplete","off","required","",1,"flex-auto",3,"ngClass"],["htmlFor","department"],["formControlName","selectedCampus","optionLabel","name","placeholder","Select a Campus",3,"options"],["formControlName","selectDepartment","optionLabel","name","placeholder","Select a Department",3,"options"],[1,"flex","footer-button-adduser"],["label","Cancel","severity","secondary",3,"click"],["label","Save",3,"click"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Keyword",1,"p-inputtext","p-component","p-element","w-full",3,"input"],["filter",""],[2,"min-width","12rem"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","username","display","menu","placeholder","Search by Username"],["type","text","field","email","display","menu","placeholder","Search by Email"],["type","text","field","department","display","menu","placeholder","Search by Department"],["type","text","field","role","display","menu","placeholder","Search by Role"],["type","text","field","campus","display","menu","placeholder","Search by Campus"],["type","text","field","status","display","menu","placeholder","Search by Status"],[3,"click"],[1,"options-users"],[1,"pi","pi-user-edit","text-xl",2,"color","#0ea5e9","cursor","pointer",3,"click"],[1,"pi","pi-trash","text-xl",2,"color","#ef4444","cursor","pointer",3,"click"],["colspan","8"],["pButton","","icon","pi pi-check","label","Ok",1,"p-button-outlined",3,"click"],["pInputText","","id","username","autocomplete","off","formControlName","username",1,"flex-auto",3,"ngClass"],["pInputText","","id","email","formControlName","email","autocomplete","off",1,"flex-auto",3,"ngClass"],[1,"flex","footer-button"],[1,"bg-red-500","text-white","p-2","rounded"],[4,"ngIf"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"Users"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.addUserDialogButton()}),e.qZA()(),e.TgZ(7,"p-table",6,7),e.YNc(9,Ve,6,0,"ng-template",8)(10,ze,28,0,"ng-template",9)(11,Ke,22,16,"ng-template",10)(12,We,3,0,"ng-template",11)(13,Xe,3,0,"ng-template",12),e.qZA()()()(),e.TgZ(14,"p-dialog",13),e.NdJ("visibleChange",function(r){return n.changeStatusCard=r}),e.TgZ(15,"p",14),e._uU(16,"Change Users Status"),e.qZA(),e.YNc(17,et,1,0,"ng-template",15),e.qZA(),e.TgZ(18,"p-dialog",16),e.NdJ("visibleChange",function(r){return n.deleteUserCard=r}),e.TgZ(19,"p",14),e._uU(20,"Delete User?"),e.qZA(),e.YNc(21,tt,1,0,"ng-template",15),e.qZA(),e.TgZ(22,"p-dialog",17),e.NdJ("visibleChange",function(r){return n.updateUserCard=r}),e.YNc(23,it,28,10,"form",18),e.qZA(),e.TgZ(24,"p-dialog",19),e.NdJ("visibleChange",function(r){return n.addUserDialogCard=r}),e.TgZ(25,"form",20)(26,"div",21)(27,"div",22)(28,"div",23)(29,"label",24),e._uU(30,"Username"),e.qZA(),e._UZ(31,"input",25),e.qZA(),e.TgZ(32,"div",21)(33,"div",23)(34,"label",26),e._uU(35,"Email"),e.qZA(),e._UZ(36,"input",27),e.YNc(37,rt,4,3,"div",28),e.qZA()(),e.TgZ(38,"div",23)(39,"label",29),e._uU(40,"Password"),e.qZA(),e._UZ(41,"p-password",30),e.qZA(),e.TgZ(42,"div",21)(43,"div",23)(44,"label",31),e._uU(45,"Confirm Password"),e.qZA(),e._UZ(46,"p-password",32),e.qZA()(),e.TgZ(47,"div",21)(48,"div",23)(49,"label",33),e._uU(50,"Campus"),e.qZA(),e.TgZ(51,"form",20),e._UZ(52,"p-dropdown",34),e.qZA()()(),e.TgZ(53,"div",21)(54,"div",23)(55,"form",20),e._UZ(56,"p-dropdown",35),e.qZA()()()()(),e.TgZ(57,"div",36)(58,"p-button",37),e.NdJ("click",function(){return n.addUserDialogCard=!1}),e.qZA(),e._uU(59," \xa0\xa0 "),e.TgZ(60,"p-button",38),e.NdJ("click",function(){return n.addUser(n.Addform)}),e.qZA()()()()),2&i&&(e.xp6(7),e.Q6J("value",n.users)("rows",10)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(40,st)),e.xp6(7),e.Akn(e.DdM(41,Te)),e.Q6J("visible",n.changeStatusCard)("modal",!0)("breakpoints",e.DdM(42,je)),e.xp6(4),e.Akn(e.DdM(43,Te)),e.Q6J("visible",n.deleteUserCard)("modal",!0)("breakpoints",e.DdM(44,je)),e.xp6(4),e.Akn(e.DdM(45,we)),e.Q6J("visible",n.updateUserCard)("breakpoints",e.DdM(46,Ge))("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("ngIf",n.updateUserCard),e.xp6(1),e.Akn(e.DdM(47,we)),e.Q6J("visible",n.addUserDialogCard)("modal",!0)("breakpoints",e.DdM(48,Ge))("draggable",!1)("resizable",!1),e.xp6(1),e.Q6J("formGroup",n.Addform),e.xp6(6),e.Q6J("ngClass",null!=n.Addform&&n.Addform.get("username").touched&&null!=n.Addform&&null!=n.Addform.controls.username.errors&&n.Addform.controls.username.errors.required?"ng-invalid ng-dirty":""),e.xp6(5),e.Q6J("ngClass",null!=n.Addform&&n.Addform.get("email").touched&&null!=n.Addform&&null!=n.Addform.controls.email.errors&&n.Addform.controls.email.errors.required?"ng-invalid ng-dirty":""),e.xp6(1),e.Q6J("ngIf",n.Addform.get("email").hasError("required")&&n.Addform.get("email").touched||n.Addform.get("email").hasError("email")||n.Addform.get("email").hasError("pattern")),e.xp6(4),e.Q6J("ngClass",null!=n.Addform&&n.Addform.get("password").touched&&null!=n.Addform&&null!=n.Addform.controls.password.errors&&n.Addform.controls.password.errors.required?"ng-invalid ng-dirty":""),e.xp6(5),e.Q6J("ngClass",null!=n.Addform&&n.Addform.get("confirm").touched&&null!=n.Addform&&null!=n.Addform.controls.confirm.errors&&n.Addform.controls.confirm.errors.required?"ng-invalid ng-dirty":""),e.xp6(5),e.Q6J("formGroup",n.formGroupCampus),e.xp6(1),e.Q6J("options",n.deptDropdownCampusValue),e.xp6(3),e.Q6J("formGroup",n.formGroupDemo),e.xp6(1),e.Q6J("options",n.deptDropdownValue))},dependencies:[b.mk,b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,c.iA,x.jx,c.xl,J.Hq,J.zx,W.V,Ye.ro,ee.o,m.Lt,b.rS],styles:[".options-users[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.customer-badge.status-active[_ngcontent-%COMP%]{background:#c8e6c9;color:#256029}.customer-badge.status-inactive[_ngcontent-%COMP%]{background:#ffcdd2;color:#c63737}.customer-badge.status-pending[_ngcontent-%COMP%]{background:#ffd8b2;color:#805b36}  .p-dialog-content{overflow-y:visible!important}.add-user-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 0 1.5rem}@media screen and (max-width: 757px){.footer-button-adduser[_ngcontent-%COMP%]{flex-direction:column!important}}"]})}return o})();var ct=d(9397),pt=d(6306),ut=d(8504);const gt=["printTable"];function mt(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"titlecase"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"titlecase"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"date"),e.ALo(25,"date"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.ALo(28,"titlecase"),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.ALo(31,"titlecase"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.ALo(34,"peso"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,12,null==t?null:t.functional_objective)),e.xp6(3),e.Oqu(e.lcZ(6,14,null==t?null:t.performance_indicator)),e.xp6(3),e.Oqu(e.lcZ(9,16,null==t?null:t.target)),e.xp6(3),e.Oqu(e.lcZ(12,18,null==t?null:t.formula)),e.xp6(3),e.Oqu(e.lcZ(15,20,null==t?null:t.programs)),e.xp6(3),e.Oqu(e.lcZ(18,22,null==t?null:t.responsible_persons)),e.xp6(3),e.Oqu(e.lcZ(21,24,null==t?null:t.clients)),e.xp6(3),e.AsE(" ",e.xi3(24,26,null==t?null:t.timetable[0],"MMM d yyyy")," - ",e.xi3(25,29,null==t?null:t.timetable[1],"MMM d yyyy")," "),e.xp6(4),e.Oqu(e.lcZ(28,32,null==t?null:t.frequency_monitoring)),e.xp6(3),e.Oqu(e.lcZ(31,34,null==t?null:t.data_source)),e.xp6(3),e.Oqu(e.lcZ(34,36,null==t?null:t.budget))}}function ht(o,s){if(1&o&&(e.TgZ(0,"tbody",4),e.YNc(1,mt,35,38,"tr",5),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.objectiveDatas)}}function ft(o,s){if(1&o&&(e.TgZ(0,"thead")(1,"tr")(2,"th"),e._uU(3,"Functional Objectives"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Performance Indicators"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Target"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Formula"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Programs, Projects or Activities"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Responsible Persons & Partners"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"Target Participants or Clients"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"Timetable"),e.qZA(),e.TgZ(18,"th"),e._uU(19,"Frequency of Monitoring"),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Means of Verification (Data Source)"),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Budget"),e.qZA()()(),e.YNc(24,ht,2,1,"tbody",2),e.TgZ(25,"tfoot")(26,"tr")(27,"td",3)(28,"div")(29,"div")(30,"div"),e._uU(31,"Prepared by:"),e.qZA(),e.TgZ(32,"div"),e._uU(33),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()(),e.TgZ(36,"div")(37,"div"),e._uU(38,"Reviewed and verified by:"),e.qZA(),e.TgZ(39,"div"),e._uU(40,"YRIKA MARIE R. DUSARAN, PhDTM"),e.qZA(),e.TgZ(41,"div"),e._uU(42,"Director for Quality Management"),e.qZA()(),e.TgZ(43,"div")(44,"div"),e._uU(45,"Approved by:"),e.qZA(),e.TgZ(46,"div"),e._uU(47,"ROSALINDA S. TUVILLA"),e.qZA(),e.TgZ(48,"div"),e._uU(49,"Vice President for Administrator and Finance"),e.qZA()()()()()()),2&o){const t=e.oxw();e.xp6(24),e.Q6J("ngIf",0!=(null==t.objectiveDatas?null:t.objectiveDatas.length)),e.xp6(9),e.Oqu((null==t.nameValue?null:t.nameValue.toLocaleUpperCase())||""),e.xp6(2),e.Oqu((null==t.officeValue?null:t.officeValue.toLocaleUpperCase())||"")}}const _t=o=>({hidden:o});let bt=(()=>{class o{constructor(t){this.authService=t,this.objectiveDatas=[],this.subOnjectiveHeaderData="",this.nameValue="",this.officeValue="",this.printingOfficeName="",this.printFlag=!1,this.isPrintableVisible=!1}ngOnInit(){this.imageSrc=this.authService.domain+"/assets/layout/images/logo.png"}ngOnChanges(t){}printTable(){this.isPrintableVisible=!0,setTimeout(()=>{let i;const n=document.getElementById("tableBody").innerHTML;i=window.open("","_blank","top=0,left=0,height=100%,width=auto"),i.document.open(),i.document.write(`\n        <html lang="en">\n        <head>\n          <meta charset="UTF-8" />\n          <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n          <title>Document</title>\n        </head>\n        <style>\n          /* Your print-specific CSS styles here (or link an external CSS file) */\n        </style>\n        <body>\n          <div id="tobeprinted">\n            <table>\n              <thead>\n                <tr>\n                  <th class="p-0" rowspan="4" colspan="10">\n                    <table class="nested-table">\n                      <tr>\n                        <td rowspan="4" class="logo">\n                          <img src="${this.imageSrc}" alt="CHMSU Logo" />\n                        </td>\n                        <td rowspan="4">\n                          <div>\n                            <h1>Carlos Hilado Memorial State University</h1>\n                            <h5>Alijis Campus . Binalbagan Campus . Fortune Towne Campus . Talisay Campus</h5>\n                            <hr />\n                          </div>\n                        </td>\n                        <td>Revision No.</td>\n                      </tr>\n                      <tr>\n                        <td>Date of Revision</td>\n                      </tr>\n                      <tr>\n                        <td>Date of Effectivity</td>\n                      </tr>\n                      <tr>\n                        <td>Page No.</td>\n                      </tr>\n                    </table>\n                  </th>\n                  <th>&nbsp;</th>\n                </tr>\n                <tr>\n                  <th>&nbsp;</th>\n                </tr>\n                <tr>\n                  <th>&nbsp;</th>\n                </tr>\n                <tr>\n                  <th class="text-align-end">Page 2</th>\n                </tr>\n                <tr class="font-condensed">\n                  <th colspan="5">${this.subOnjectiveHeaderData.toUpperCase()||this.printingOfficeName.toUpperCase()}</th>\n                  <th colspan="5">QUALITY OBJECTIVES AND ACTION PLAN</th>\n                  <th class="text-align-end">CY</th>\n                </tr>\n                <tr>\n                  <th class="border-x-0" colspan="11"></th>\n                </tr>\n                <tr>\n                  <th class="border-x-0" colspan="11"></th>\n                </tr>\n              </thead>\n              <body onload="window.print();window.close()">${n}</body>\n              <tfoot>\n                <tr>\n                  <td colspan="11">\n                    <div>\n                      <div>\n                        <div>Prepared by:</div>\n                        <div>${this.nameValue.toLocaleUpperCase()}</div>\n                        <div>${this.officeValue.toLocaleUpperCase()}</div>\n                      </div>\n                      <div>\n                        <div>Reviewed and verified by:</div>\n                        <div>YRIKA MARIE R. DUSARAN, PhDTM</div>\n                        <div>Director for Quality Management</div>\n                      </div>\n                      <div>\n                        <div>Approved by:</div>\n                        <div>ROSALINDA S. TUVILLA</div>\n                        <div>Vice President for Administrator and Finance</div>\n                      </div>\n                    </div>\n                  </td>\n                </tr>\n              </tfoot>\n            </table>\n          </div>\n        </body>\n        </html>\n    `),i.document.close(),this.isPrintableVisible=!1},1e3)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(H.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-print-table"]],viewQuery:function(i,n){if(1&i&&e.Gf(gt,5),2&i){let a;e.iGM(a=e.CRH())&&(n.printTableElement=a.first)}},inputs:{objectiveDatas:"objectiveDatas",subOnjectiveHeaderData:"subOnjectiveHeaderData",nameValue:"nameValue",officeValue:"officeValue",printingOfficeName:"printingOfficeName",printFlag:"printFlag"},features:[e.TTD],decls:3,vars:4,consts:[[3,"ngClass"],["printTable",""],["id","tableBody",4,"ngIf"],["colspan","11"],["id","tableBody"],[4,"ngFor","ngForOf"]],template:function(i,n){1&i&&(e.TgZ(0,"table",0,1),e.YNc(2,ft,50,3),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(2,_t,!n.isPrintableVisible)),e.xp6(2),e.um2(2,n.isPrintableVisible&&0!=(null==n.objectiveDatas?null:n.objectiveDatas.length)?2:-1))},dependencies:[b.mk,b.sg,b.O5,b.rS,b.uU,C.vZ],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;font-size:12px}body[_ngcontent-%COMP%]{width:11in;height:8.5in}@media print{body[_ngcontent-%COMP%]{padding:unset;width:unset;height:unset;-webkit-print-color-adjust:exact;print-color-adjust:exact;margin:1.5in 0 0}@page{size:landscape}}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}table[_ngcontent-%COMP%]:not(:is(.nested-table)){border-top:1px solid;border-left:1px solid;table-layout:fixed}table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(th, td)[_ngcontent-%COMP%]{padding:4px 6px;border-right:1px solid;border-bottom:1px solid}.nested-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600}.nested-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[rowspan="4"][_ngcontent-%COMP%]{border-bottom:0}.nested-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:0}.nested-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom:0}.logo[_ngcontent-%COMP%]{border-right:0}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;margin-left:auto;display:block}.logo[_ngcontent-%COMP%] + td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.logo[_ngcontent-%COMP%] + td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:26px}.logo[_ngcontent-%COMP%] + td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{color:#064f7c}.logo[_ngcontent-%COMP%] + td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-top:8px;width:80%;border:1px solid}tr.font-condensed[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{font-size:18px;padding:8px 6px}tr.font-condensed[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:first-child{background-color:#f57e3a}tr.font-condensed[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:nth-child(2){background-color:#057a40}tr.font-condensed[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]:last-child{background-color:#efdf10}tr.font-condensed[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:8px}tr.font-condensed[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:0 4px;font-stretch:condensed;font-size:16px}tr.font-condensed[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%] + tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:2px}tbody.data-cells[_ngcontent-%COMP%]{font-stretch:condensed}tbody.data-cells[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{height:0}tbody.data-cells[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;gap:1rem;justify-content:space-evenly;text-align:center}tbody.data-cells[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}tfoot[_ngcontent-%COMP%]{font-stretch:condensed}tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0}tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid}tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:14px;padding:3px 6px}tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid}tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){text-align:center;font-size:16px;padding-top:32px;font-weight:600;padding-bottom:0}tfoot[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{text-align:center;font-size:14px}.p-0[_ngcontent-%COMP%]{padding:0}.text-align-end[_ngcontent-%COMP%]{text-align:end}.border-x-0[_ngcontent-%COMP%]{border-left:1px solid white;border-right:1px solid white}.font-condensed[_ngcontent-%COMP%]{font-stretch:condensed}']})}return o})();var se=d(6116),ge=d(3259),vt=d(4104),be=d(1494),De=d(6651),Ct=d(2169),xt=d(8454),qe=d(4532),Zt=d(6263),me=d(7613),de=d(5167);const At=()=>({width:"25rem"});let yt=(()=>{class o{constructor(t,i,n,a,r,v,g){this.formBuilder=t,this.dept=i,this.messageService=n,this.camp=a,this.auth=r,this.goallistService=v,this.goal=g,this.childAddGoalEvent=new e.vpe,this.addGoalSubscription=new G.x,this.deptDropdownValue=[],this.deptDropdownCampusValue=[],this.deptDropdownGoalListValue=[],this.addGoalDialogCard=!1,this.USERID=this.auth.getTokenUserID()}ngOnInit(){this.createAddGoalForm(),this.initializeDropdown(),this.getAllCampuses(),this.getAllDept(),this.getAllGoallistsDropdown()}initializeDropdown(){this.formGroupDemo=new l.cw({selectDepartment:new l.NI}),this.formGroupCampus=new l.cw({selectedCampus:new l.NI})}getAllCampuses(){this.camp.getRoute("get","campus","getAllCampus").pipe((0,u.R)(this.addGoalSubscription)).subscribe({next:t=>{this.deptDropdownCampusValue=t.data[0]},error:t=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to Campus Dropdown"})},complete:()=>{}})}getAllGoallistsDropdown(){this.goallistService.getRoute("get","goallists","getAllGoallistsDropdown").pipe((0,u.R)(this.addGoalSubscription)).subscribe({next:t=>{this.deptDropdownGoalListValue=t.data[0]},error:t=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to Goallist Dropdown"})},complete:()=>{}})}getAllDept(){this.dept.getRoute("get","department","getAllDepartmentDropdown").pipe((0,u.R)(this.addGoalSubscription)).subscribe({next:t=>{this.deptDropdownValue=t.data[0]},error:t=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to Department Dropdown"})},complete:()=>{}})}createAddGoalForm(){this.addGoalform=this.formBuilder.group({goals:["",[l.kI.required]],budget:["",[l.kI.required]],campus:["",[l.kI.required]],department:["",[l.kI.required]]})}ngOnChanges(t){this.addGoalTrigger=t.addNewGoal?.currentValue,this.addGoalTrigger&&this.addGoalTrigger.addGoal&&(this.addGoalDialogCard=!0)}addGoalDialogExec(t){let i={goals:t.value.goals.name||this.customGoalName,budget:t.value.budget,campus:this.formGroupCampus.value.selectedCampus.name,department:this.formGroupDemo.value.selectDepartment.name,createdBy:this.USERID,goallistsId:this.selectedGoalId||""};""!==i.goals&&""!==i.budget&&""!==i.campus&&""!==i.department?this.goal.getRoute("post","goals","addGoals",i).pipe((0,u.R)(this.addGoalSubscription)).subscribe(n=>{n.success?(this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.addGoalDialogCard=!1,this.addGoalform.reset(),this.formGroupDemo.reset(),this.formGroupCampus.reset(),this.childAddGoalEvent.emit({success:!0,message:"Added Goal Successfully"})):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})}):this.messageService.add({severity:"error",summary:"Error",detail:"Error: One or more required fields are missing or empty."})}onHide(){this.addGoalDialogCard=!1}onGoalChange(t){t.value&&(this.selectedGoalId=t.value.id)}ngOnDestroy(){this.addGoalSubscription.next(),this.addGoalSubscription.complete()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.qu),e.Y36(T.n),e.Y36(x.ez),e.Y36(Z.j),e.Y36(H.e),e.Y36(me.i),e.Y36(D.O))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-adding-goal"]],inputs:{addNewGoal:"addNewGoal"},outputs:{childAddGoalEvent:"childAddGoalEvent"},features:[e.TTD],decls:25,vars:14,consts:[["header","Add Goal",3,"visible","visibleChange","onHide"],[1,"p-fluid"],[1,"field","col-10","md:col-10"],[3,"formGroup"],[1,"field"],["htmlFor","department"],["formControlName","goals","optionLabel","name","placeholder","Select a Goal",3,"options","ngModel","editable","ngModelChange","onChange"],["htmlFor","name1"],["mode","decimal","formControlName","budget",3,"showButtons","min"],["formControlName","selectDepartment","optionLabel","name","placeholder","Select a Department",3,"options"],["formControlName","selectedCampus","optionLabel","name","placeholder","Select a Campus",3,"options"],[1,"flex","justify-space-between","gap-2"],["label","Cancel","severity","secondary",3,"click"],["label","Save",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return n.addGoalDialogCard=r})("onHide",function(){return n.onHide()}),e.TgZ(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),e._uU(6,"Goal name"),e.qZA(),e.TgZ(7,"p-dropdown",6),e.NdJ("ngModelChange",function(r){return n.customGoalName=r})("onChange",function(r){return n.onGoalChange(r)}),e.qZA()(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Budget"),e.qZA(),e._UZ(11,"p-inputNumber",8),e.qZA(),e.TgZ(12,"div",4)(13,"label",5),e._uU(14,"Department"),e.qZA(),e.TgZ(15,"form",3),e._UZ(16,"p-dropdown",9),e.qZA()(),e.TgZ(17,"div",4)(18,"label",5),e._uU(19,"Campus"),e.qZA(),e.TgZ(20,"form",3),e._UZ(21,"p-dropdown",10),e.qZA()()()()(),e.TgZ(22,"div",11)(23,"p-button",12),e.NdJ("click",function(){return n.addGoalDialogCard=!1}),e.qZA(),e.TgZ(24,"p-button",13),e.NdJ("click",function(){return n.addGoalDialogExec(n.addGoalform)}),e.qZA()()()),2&i&&(e.Akn(e.DdM(13,At)),e.Q6J("visible",n.addGoalDialogCard),e.xp6(3),e.Q6J("formGroup",n.addGoalform),e.xp6(4),e.Q6J("options",n.deptDropdownGoalListValue)("ngModel",n.customGoalName)("editable",!1),e.xp6(4),e.Q6J("showButtons",!0)("min",0),e.xp6(4),e.Q6J("formGroup",n.formGroupDemo),e.xp6(1),e.Q6J("options",n.deptDropdownValue),e.xp6(4),e.Q6J("formGroup",n.formGroupCampus),e.xp6(1),e.Q6J("options",n.deptDropdownCampusValue))},dependencies:[l._Y,l.JJ,l.JL,l.sg,l.u,J.zx,W.V,m.Lt,de.Rn]})}return o})();var Ot=d(6218);function Tt(o,s){if(1&o&&(e.TgZ(0,"div",24)(1,"label",25),e._uU(2),e.qZA(),e._UZ(3,"p-inputNumber",26),e.qZA()),2&o){const t=s.$implicit,i=s.index;e.xp6(1),e.MGl("for","month_",i,""),e.xp6(1),e.Oqu(t),e.xp6(1),e.MGl("id","month_",i,"")("formControlName","month_",i,""),e.Q6J("min",0)}}function jt(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",22),e.YNc(2,Tt,4,5,"div",23),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.months)}}function wt(o,s){if(1&o&&(e.TgZ(0,"div",28)(1,"label",25),e._uU(2),e.qZA(),e._UZ(3,"p-inputNumber",26),e.qZA()),2&o){const t=s.$implicit,i=s.index;e.xp6(1),e.MGl("for","quarter_",i,""),e.xp6(1),e.Oqu(t),e.xp6(1),e.MGl("id","quarter_",i,"")("formControlName","quarter_",i,""),e.Q6J("min",0)}}function Gt(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",22),e.YNc(2,wt,4,5,"div",27),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.quarters)}}function Dt(o,s){if(1&o&&(e.TgZ(0,"div",30)(1,"label",25),e._uU(2),e.qZA(),e._UZ(3,"p-inputNumber",26),e.qZA()),2&o){const t=s.$implicit,i=s.index;e.xp6(1),e.MGl("for","semi_annual_",i,""),e.xp6(1),e.Oqu(t),e.xp6(1),e.MGl("id","semi_annual_",i,"")("formControlName","semi_annual_",i,""),e.Q6J("min",0)}}function qt(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",22),e.YNc(2,Dt,4,5,"div",29),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.semi_annual)}}const Mt=()=>({width:"50rem"}),Ut=()=>({"1199px":"75vw","575px":"90vw"});let Pt=(()=>{class o{constructor(t,i,n,a,r){this.formBuilder=t,this.messageService=i,this.auth=n,this.obj=a,this.goallistService=r,this.childAddObjectiveEvent=new e.vpe,this.addObjectiveGoalDialogCard=!1,this.addObjectiveSubscription=new G.x,this.goalDataRemainingBudget=0,this.frequencyOptions=[{name:"yearly",code:"yearly"},{name:"quarterly",code:"quarterly"},{name:"semi_annual",code:"semi_annual"}],this.months=[],this.quarters=[],this.semi_annual=[],this.USERID=this.auth.getTokenUserID();for(let v=0;v<12;v++)this.months.push(new Date(0,v).toLocaleString("default",{month:"short"}));this.quarters=["Q1 (Jan-Mar)","Q2 (Apr-Jun)","Q3 (Jul-Sep)","Q4 (Oct-Dec)"],this.semi_annual=["(Jan-Feb-Mar-Apr-May-Jun)","(Jul-Aug-Sep-Oct-Nov-Dec)"]}ngOnInit(){this.createAddObjectiveGoalform(),this.formGroupDropdown=new l.cw({selectedDropdown:new l.NI}),this.dropdwonSelection=[{name:"daily",code:"Daily"},{name:"weekly",code:"Weekly"},{name:"monthly",code:"Monthly"},{name:"yearly",code:"Yearly"},{name:"quarterly",code:"Quarterly"},{name:"biannually",code:"Biannually"}]}ngOnDestroy(){this.addObjectiveSubscription.next(),this.addObjectiveSubscription.complete()}ngOnChanges(t){var i=this;return(0,O.Z)(function*(){i.addGoalTrigger=t.addNewObjective?.currentValue;let n=i.addGoalTrigger?.goallistsId;i.addExecutionGoalId=i.addGoalTrigger?.goalId,i.addExecutionGoal_Id=i.addGoalTrigger?.goal_ObjectId,i.addGoalTrigger?.addObjective&&i.addGoalTrigger?.goallistsId&&(i.getAllGoallistsDropdown(n),setTimeout(()=>{i.addObjectiveGoalDialogCard=!0},0))})()}onFrequencyChange(t){const i=t.value.name;this.clearDynamicControls(),"yearly"===i?this.addMonthlyControls():"quarterly"===i?this.addQuarterlyControls():"semi_annual"===i&&this.addSemiAnnualControls(),this.addObjectiveGoalform.get("frequency_monitoring").setValue(i)}clearDynamicControls(){this.months.forEach((t,i)=>{this.addObjectiveGoalform.contains(`month_${i}`)&&this.addObjectiveGoalform.removeControl(`month_${i}`)}),this.quarters.forEach((t,i)=>{this.addObjectiveGoalform.contains(`quarter_${i}`)&&this.addObjectiveGoalform.removeControl(`quarter_${i}`)}),this.semi_annual.forEach((t,i)=>{this.addObjectiveGoalform.contains(`semi_annual_${i}`)&&this.addObjectiveGoalform.removeControl(`semi_annual_${i}`)})}addMonthlyControls(){this.months.forEach((t,i)=>{this.addObjectiveGoalform.addControl(`month_${i}`,new l.NI(0,l.kI.min(0)))})}addQuarterlyControls(){this.quarters.forEach((t,i)=>{this.addObjectiveGoalform.addControl(`quarter_${i}`,new l.NI(0,l.kI.min(0)))})}addSemiAnnualControls(){this.semi_annual.forEach((t,i)=>{this.addObjectiveGoalform.addControl(`semi_annual_${i}`,new l.NI(0,l.kI.min(0)))})}ngAfterViewInit(){}createAddObjectiveGoalform(){this.addObjectiveGoalform=this.formBuilder.group({userId:["",[l.kI.required]],goalId:["",[l.kI.required]],functional_objective:["",[l.kI.required]],performance_indicator:["",[l.kI.required]],target:["",[l.kI.required]],formula:["",[l.kI.required]],programs:["",[l.kI.required]],responsible_persons:["",[l.kI.required]],clients:["",[l.kI.required]],timetable:["",[l.kI.required]],frequency_monitoring:["",[l.kI.required]],data_source:["",[l.kI.required]],remarks:["",[l.kI.required]],budget:["",[l.kI.required]],month_0:[0],month_1:[0],month_2:[0],month_3:[0],month_4:[0],month_5:[0],month_6:[0],month_7:[0],month_8:[0],month_9:[0],month_10:[0],month_11:[0],quarter_1:[0],quarter_2:[0],quarter_3:[0],quarter_4:[0],semi_annual_1:[0],semi_annual_2:[0]})}getAllGoallistsDropdown(t){var i=this;return(0,O.Z)(function*(){i.goallistService.getRoute("get","goallists",`getAllAddObjectivesGoallistsDropdown/${t}`).pipe((0,u.R)(i.addObjectiveSubscription)).subscribe({next:n=>{i.dropdwonGoallistSelection=n.objectives},error:n=>{i.messageService.add({severity:"error",summary:"Error",detail:"Failed to Goallist Dropdown"})},complete:()=>{}})})()}clearAddObjectiveGoalDialogCardDatas(){this.addObjectiveGoalDialogCard=!1,this.addObjectiveGoalform.reset()}addSubObjectiveGoalDialogExec(t){const{addExecutionGoalId:i,USERID:r}=this;let v={...t.value,functional_objective:t.value.functional_objective.name,userId:r,goalId:i,goal_Id:this.addExecutionGoal_Id,createdBy:r,timetable:new Map};if("yearly"===v.frequency_monitoring){for(let g=1;g<=4;g++)delete v[`quarter_${g}`];for(let g=0;g<=2;g++)delete v[`semi_annual_${g}`];for(let g=0;g<12;g++)v[`file_month_${g.toString()}`]=""}else if("quarterly"===v.frequency_monitoring){for(let g=0;g<=12;g++)delete v[`month_${g}`];for(let g=0;g<=2;g++)delete v[`semi_annual_${g}`];for(let g=0;g<4;g++)v[`file_quarter_${g.toString()}`]=""}else if("semi_annual"===v.frequency_monitoring){for(let g=0;g<=12;g++)delete v[`month_${g}`];for(let g=1;g<=4;g++)delete v[`quarter_${g}`];for(let g=0;g<2;g++)v[`file_semi_annual_${g.toString()}`]=""}this.obj.getRoute("post","objectives","addObjectives",v).pipe((0,u.R)(this.addObjectiveSubscription)).subscribe(g=>{g.success?(this.addObjectiveGoalDialogCard=!1,this.messageService.add({severity:"success",summary:"Done",detail:g.message}),this.goal_ObjectId=g.data.goal_Id,this.addObjectiveGoalform.reset(),this.formGroupDropdown.reset(),this.goalDataRemainingBudget=0,this.childAddObjectiveEvent.emit(g.data)):this.messageService.add({severity:"warn"})})}onGoalChange(t){}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.qu),e.Y36(x.ez),e.Y36(H.e),e.Y36(A.v),e.Y36(me.i))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-objective"]],inputs:{addNewObjective:"addNewObjective"},outputs:{childAddObjectiveEvent:"childAddObjectiveEvent"},features:[e.TTD],decls:54,vars:26,consts:[["styleClass","addObjective","header","Add Objectives","position","top",3,"visible","modal","breakpoints","visibleChange","onHide"],[1,"p-fluid"],[1,"field","col-10","md:col-10"],[3,"formGroup"],[1,"field"],["htmlFor","department"],["formControlName","functional_objective","optionLabel","name","placeholder","Select an Objective",3,"options","ngModel","editable","ngModelChange","onChange"],["htmlFor","name1"],["pInputText","","id","performance_indicator","autocomplete","off","formControlName","performance_indicator","required","",1,"flex-auto",3,"ngClass"],["mode","decimal","formControlName","target",3,"showButtons","min","ngClass"],["pInputText","","id","formula","autocomplete","off","formControlName","formula","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","programs","autocomplete","off","formControlName","programs","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","responsible_persons","autocomplete","off","formControlName","responsible_persons","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","clients","autocomplete","off","formControlName","clients","required","",1,"flex-auto",3,"ngClass"],["formControlName","frequency_monitoring","optionLabel","name","placeholder","Select a Frequency",3,"options","onChange"],[4,"ngIf"],["pInputText","","id","data_source","autocomplete","off","formControlName","data_source","required","",1,"flex-auto",3,"ngClass"],["mode","decimal","formControlName","budget",3,"min","showButtons"],["rows","5","cols","30","formControlName","remarks","placeholder","Your Message","pInputTextarea",""],[1,"flex","justify-space-between","gap-2"],["label","Cancel","severity","secondary",3,"click"],["label","Save",3,"click"],[1,"grid"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],[3,"for"],[3,"id","formControlName","min"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],["class","col-6",4,"ngFor","ngForOf"],[1,"col-6"]],template:function(i,n){if(1&i&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return n.addObjectiveGoalDialogCard=r})("onHide",function(){return n.clearAddObjectiveGoalDialogCardDatas()}),e.TgZ(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),e._uU(6,"Functional Objective"),e.qZA(),e.TgZ(7,"p-dropdown",6),e.NdJ("ngModelChange",function(r){return n.customFunctionalName=r})("onChange",function(r){return n.onGoalChange(r)}),e.qZA()(),e.TgZ(8,"div",4)(9,"label",7),e._uU(10,"Performance Indicator"),e.qZA(),e._UZ(11,"input",8),e.qZA(),e.TgZ(12,"div",4)(13,"label",7),e._uU(14,"Target"),e.qZA(),e._UZ(15,"p-inputNumber",9),e.qZA(),e.TgZ(16,"div",4)(17,"label",7),e._uU(18,"Formula"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",4)(21,"label",7),e._uU(22,"Programs"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",4)(25,"label",7),e._uU(26,"Responsible Persons"),e.qZA(),e._UZ(27,"input",12),e.qZA(),e.TgZ(28,"div",4)(29,"label",7),e._uU(30,"Clients"),e.qZA(),e._UZ(31,"input",13),e.qZA(),e.TgZ(32,"div",4)(33,"label",5),e._uU(34,"Frequency Monitoring"),e.qZA(),e.TgZ(35,"p-dropdown",14),e.NdJ("onChange",function(r){return n.onFrequencyChange(r)}),e.qZA()(),e.YNc(36,jt,3,1,"div",15)(37,Gt,3,1,"div",15)(38,qt,3,1,"div",15),e.TgZ(39,"div",4)(40,"label",7),e._uU(41,"Means of Verification(Data Source)"),e.qZA(),e._UZ(42,"input",16),e.qZA(),e.TgZ(43,"div",4)(44,"label",7),e._uU(45," budget "),e.qZA(),e._UZ(46,"p-inputNumber",17),e.qZA(),e.TgZ(47,"div",4)(48,"label",7),e._uU(49," Remarks "),e.qZA(),e._UZ(50,"textarea",18),e.qZA(),e.TgZ(51,"div",19)(52,"p-button",20),e.NdJ("click",function(){return n.clearAddObjectiveGoalDialogCardDatas()}),e.qZA(),e.TgZ(53,"p-button",21),e.NdJ("click",function(){return n.addSubObjectiveGoalDialogExec(n.addObjectiveGoalform)}),e.qZA()()()()()()),2&i){let a,r;e.Akn(e.DdM(24,Mt)),e.Q6J("visible",n.addObjectiveGoalDialogCard)("modal",!0)("breakpoints",e.DdM(25,Ut)),e.xp6(3),e.Q6J("formGroup",n.addObjectiveGoalform),e.xp6(4),e.Q6J("options",n.dropdwonGoallistSelection)("ngModel",n.customFunctionalName)("editable",!1),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&null!=(a=n.addObjectiveGoalform.get("performance_indicator"))&&a.touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.performance_indicator.errors&&n.addObjectiveGoalform.controls.performance_indicator.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("showButtons",!0)("min",0)("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("target").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.target.errors&&n.addObjectiveGoalform.controls.target.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("formula").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.formula.errors&&n.addObjectiveGoalform.controls.formula.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("programs").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.programs.errors&&n.addObjectiveGoalform.controls.programs.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&null!=(r=n.addObjectiveGoalform.get("responsible_persons"))&&r.touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.responsible_persons.errors&&n.addObjectiveGoalform.controls.responsible_persons.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("clients").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.clients.errors&&n.addObjectiveGoalform.controls.clients.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("options",n.frequencyOptions),e.xp6(1),e.Q6J("ngIf","yearly"===n.addObjectiveGoalform.get("frequency_monitoring").value),e.xp6(1),e.Q6J("ngIf","quarterly"===n.addObjectiveGoalform.get("frequency_monitoring").value),e.xp6(1),e.Q6J("ngIf","semi_annual"===n.addObjectiveGoalform.get("frequency_monitoring").value),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("data_source").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.data_source.errors&&n.addObjectiveGoalform.controls.data_source.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("min",0)("showButtons",!0)}},dependencies:[b.mk,b.sg,b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,J.zx,W.V,ee.o,m.Lt,de.Rn,Ot.g],styles:[".addObjective{overflow-y:auto}"]})}return o})();const Ft=()=>({width:"25rem"});let kt=(()=>{class o{constructor(t,i,n,a,r,v,g,M){this.messageService=t,this.goal=i,this.formBuilder=n,this.auth=a,this.dept=r,this.objective=v,this.file=g,this.campus=M,this.childEditGoalEvent=new e.vpe,this.updateGoalSubscription=new G.x,this.updateGoalDialogCard=!1,this.deptDropdownValue=[],this.deptDropdownCampusValue=[],this.getAllDept(),this.getAllCampuses(),this.createUpdateGoalForm(),this.formGroupDemo=new l.cw({selectDepartment:new l.NI}),this.formGroupCampus=new l.cw({selectedCampus:new l.NI})}ngOnInit(){}ngOnDestroy(){this.updateGoalSubscription.next(),this.updateGoalSubscription.complete()}ngOnChanges(t){this.editGoalTrigger=t.editGoal?.currentValue;let i=t.editGoal?.currentValue?.goal;this.goalName=i?.goals,this.goalId=i?.id,this.editGoalTrigger&&this.editGoalTrigger.editGoal&&(this.formGroupDemo.setValue({selectDepartment:this.deptDropdownValue.find(n=>n.name===i.department)}),this.formGroupCampus.setValue({selectedCampus:this.deptDropdownCampusValue.find(n=>n.name===i.campus)}),this.updateGoalform=this.formBuilder.group({goals:[i.goals],budget:[i.budget||0,[l.kI.required]]}),this.updateGoalform.get("goals")?.disable(),this.updateGoalDialogCard=!0)}createUpdateGoalForm(){this.updateGoalform=this.formBuilder.group({goals:["",[l.kI.required]],budget:["",[l.kI.required]],campus:["",[l.kI.required]]})}getAllDept(){this.dept.getRoute("get","department","getAllDepartmentDropdown").pipe((0,u.R)(this.updateGoalSubscription)).subscribe(t=>{this.deptDropdownValue=t?.data[0]})}getAllCampuses(){this.campus.getRoute("get","campus","getAllCampus").pipe((0,u.R)(this.updateGoalSubscription)).subscribe(t=>{this.deptDropdownCampusValue=t.data[0]})}updateGoalDialogExec(t){this.goal.getRoute("put","goals","updateGoals",{id:this.goalId,goals:this.goalName,budget:t.value.budget,department:this.formGroupDemo.value.selectDepartment.name,campus:this.formGroupCampus.value.selectedCampus.name}).pipe((0,u.R)(this.updateGoalSubscription)).subscribe(n=>{n.success?(this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.updateGoalDialogCard=!1,this.childEditGoalEvent.emit({success:!0}),this.updateGoalform.reset()):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(x.ez),e.Y36(D.O),e.Y36(l.qu),e.Y36(H.e),e.Y36(T.n),e.Y36(A.v),e.Y36(se.I),e.Y36(Z.j))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-goal"]],inputs:{editGoal:"editGoal"},outputs:{childEditGoalEvent:"childEditGoalEvent"},features:[e.TTD],decls:25,vars:11,consts:[["header","Update Goal",3,"visible","visibleChange"],[1,"p-fluid"],[1,"field","col-10","md:col-10"],[3,"formGroup"],[1,"field"],["htmlFor","name1"],["pInputText","","id","goals","autocomplete","off","formControlName","goals","pTooltip","Edit not allowed due to Objective values present","tooltipPosition","top",1,"flex-auto"],["mode","decimal","formControlName","budget",3,"showButtons","min"],["htmlFor","department"],["formControlName","selectDepartment","optionLabel","name","placeholder","Select a Department",3,"options"],["formControlName","selectedCampus","optionLabel","name","placeholder","Select a Campus",3,"options"],[1,"flex","justify-space-between","gap-2"],["label","Cancel","severity","secondary",3,"click"],["label","Save",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return n.updateGoalDialogCard=r}),e.TgZ(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"label",5),e._uU(6,"Goals name"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"label",5),e._uU(10,"Budget"),e.qZA(),e._UZ(11,"p-inputNumber",7),e.qZA(),e.TgZ(12,"div",4)(13,"label",8),e._uU(14,"Department"),e.qZA(),e.TgZ(15,"form",3),e._UZ(16,"p-dropdown",9),e.qZA()(),e.TgZ(17,"div",4)(18,"label",8),e._uU(19,"Campus"),e.qZA(),e.TgZ(20,"form",3),e._UZ(21,"p-dropdown",10),e.qZA()()()()(),e.TgZ(22,"div",11)(23,"p-button",12),e.NdJ("click",function(){return n.updateGoalDialogCard=!1}),e.qZA(),e.TgZ(24,"p-button",13),e.NdJ("click",function(){return n.updateGoalDialogExec(n.updateGoalform)}),e.qZA()()()),2&i&&(e.Akn(e.DdM(10,Ft)),e.Q6J("visible",n.updateGoalDialogCard),e.xp6(3),e.Q6J("formGroup",n.updateGoalform),e.xp6(8),e.Q6J("showButtons",!0)("min",0),e.xp6(4),e.Q6J("formGroup",n.formGroupDemo),e.xp6(1),e.Q6J("options",n.deptDropdownValue),e.xp6(4),e.Q6J("formGroup",n.formGroupCampus),e.xp6(1),e.Q6J("options",n.deptDropdownCampusValue))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,ge.u,J.zx,W.V,ee.o,m.Lt,de.Rn]})}return o})();var ve=d(3722);const St=()=>({width:"50rem"}),It=()=>({"1199px":"75vw","575px":"90vw"});let Me=(()=>{class o{constructor(t,i,n,a){this.messageService=t,this.fileService=i,this.formBuilder=n,this.auth=a,this.childAddFile=new e.vpe,this.getAddFilesComponentSubscription=new G.x,this.uploadedFiles=[],this.AllObjectivesFiles=[],this.USERID=this.auth.getTokenUserID()}ngOnChanges(t){const i=t.addNewFile?.currentValue;this.addFileTrigger=t.addNewFile?.currentValue,i&&i.addFile&&(this.addObjectiveFileDialogCard=!0,this.objectiveIDforFile=i?.objectiveId,this.frequencyFileName=i?.frequencyFileName)}ngOnInit(){this.createaddFileForm()}ngOnDestroy(){this.getAddFilesComponentSubscription.next(),this.getAddFilesComponentSubscription.complete()}createaddFileForm(){this.addFileForm=this.formBuilder.group({files:["",[l.kI.required]]})}onUpload(t){for(const i of t.files)this.uploadedFiles.push(i);this.validateFileType(this.uploadedFiles)||(this.messageService.add({severity:"error",summary:"File Unsupported",detail:"Unsupported file type! Please select only images, documents, or spreadsheets"}),t.preventDefault()),this.fileService.addMultipleFiles(this.USERID,this.objectiveIDforFile,this.uploadedFiles,this.frequencyFileName?this.frequencyFileName:"").pipe((0,u.R)(this.getAddFilesComponentSubscription)).subscribe({next:i=>{this.childAddFile.emit({USERID:this.USERID,objectiveId:this.objectiveIDforFile,viewObjectiveFileDialogCard:!1,frequencyFileNameForUpdate:i.fileNames[0],frequencyFileName:this.frequencyFileName}),this.addObjectiveFileDialogCard=!1,this.AllObjectivesFiles=[],i.success&&(this.messageService.add({severity:"success  ",summary:"View the files",detail:"Files added successfully"}),this.addFileForm.reset(),this.uploadedFiles=[],this.addObjectiveFileDialogCard=!1)},error:i=>{this.messageService.add({severity:"error  ",summary:"Error",detail:i.message})},complete:()=>{}})}validateFileType(t){const i=["image/jpeg","image/png","image/svg+xml","image/gif","image/x-jif","image/x-jiff","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/csv","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","application/zip","image/x-photoshop","image/vnd.dxf","audio/mpeg","audio/wav","audio/aac"];for(const n of t)if(!i.includes(n.type))return console.log(`Invalid file type: ${n.type}`),!1;return!0}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(x.ez),e.Y36(se.I),e.Y36(l.qu),e.Y36(H.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-files"]],inputs:{addNewFile:"addNewFile"},outputs:{childAddFile:"childAddFile"},features:[e.TTD],decls:5,vars:9,consts:[["styleClass","addObjective","header","Drag and Drop Files","position","top",3,"visible","modal","breakpoints","visibleChange"],[1,"p-fluid"],[3,"formGroup"],["name","files","customUpload","true","multiple","true","maxFileSize","20000000","formControlName","files","ngDefaultControl","",3,"files","uploadHandler"]],template:function(i,n){1&i&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return n.addObjectiveFileDialogCard=r}),e.TgZ(1,"div",1)(2,"form",2)(3,"p-fileUpload",3),e.NdJ("uploadHandler",function(r){return n.onUpload(r)}),e.qZA()()(),e._uU(4," \xa0\xa0\n"),e.qZA()),2&i&&(e.Akn(e.DdM(7,St)),e.Q6J("visible",n.addObjectiveFileDialogCard)("modal",!0)("breakpoints",e.DdM(8,It)),e.xp6(2),e.Q6J("formGroup",n.addFileForm),e.xp6(1),e.Q6J("files",n.uploadedFiles))},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,W.V,ve.p]})}return o})();function Nt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"span",16),e._UZ(1,"i",17),e.TgZ(2,"input",18),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw().index,r=e.oxw(2);return e.KtG(r.onUpload(n,"month",a))}),e.qZA(),e.TgZ(3,"label",19),e._uU(4,"Upload Files"),e.qZA()()}if(2&o){const t=e.oxw().index;e.xp6(2),e.MGl("formControlName","file_month_",t,"")}}function Et(o,s){1&o&&e._UZ(0,"i",20)}function Jt(o,s){if(1&o&&(e.TgZ(0,"div",11)(1,"label",12),e._uU(2),e.qZA(),e._UZ(3,"p-inputNumber",13),e.YNc(4,Nt,5,1,"span",14)(5,Et,1,0,"i",15),e.qZA()),2&o){const t=s.$implicit,i=s.index,n=e.oxw(2);e.xp6(1),e.MGl("for","month_",i,""),e.xp6(1),e.Oqu(t),e.xp6(1),e.MGl("id","month_",i,"")("formControlName","month_",i,""),e.Q6J("min",0),e.xp6(1),e.Q6J("ngIf",!n.editObjectiveGoalform.get("file_month_"+i).value),e.xp6(1),e.Q6J("ngIf",n.editObjectiveGoalform.get("file_month_"+i).value)}}function Lt(o,s){if(1&o&&(e.TgZ(0,"div")(1,"div",9),e.YNc(2,Jt,6,7,"div",10),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.months)}}function Rt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"span",16),e._UZ(1,"i",17),e.TgZ(2,"input",18),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw().index,r=e.oxw(2);return e.KtG(r.onUpload(n,"quarter",a))}),e.qZA(),e.TgZ(3,"label",19),e._uU(4,"Upload Files"),e.qZA()()}if(2&o){const t=e.oxw().index;e.xp6(2),e.MGl("formControlName","file_quarter_",t,"")}}function Qt(o,s){1&o&&e._UZ(0,"i",20)}function Ht(o,s){if(1&o&&(e.TgZ(0,"div",11)(1,"label",12),e._uU(2),e.qZA(),e._UZ(3,"p-inputNumber",13),e.YNc(4,Rt,5,1,"span",14)(5,Qt,1,0,"i",15),e.qZA()),2&o){const t=s.index,i=e.oxw(2);e.xp6(1),e.MGl("for","quarter_",t,""),e.xp6(1),e.hij("Q",t+1,""),e.xp6(1),e.MGl("id","quarter_",t,"")("formControlName","quarter_",t,""),e.Q6J("min",0),e.xp6(1),e.Q6J("ngIf",!i.editObjectiveGoalform.get("file_quarter_"+t).value),e.xp6(1),e.Q6J("ngIf",i.editObjectiveGoalform.get("file_quarter_"+t).value)}}const Bt=()=>[0,1,2,3];function Yt(o,s){1&o&&(e.TgZ(0,"div")(1,"div",9),e.YNc(2,Ht,6,7,"div",10),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("ngForOf",e.DdM(1,Bt)))}function $t(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"span",16),e._UZ(1,"i",17),e.TgZ(2,"input",18),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw().index,r=e.oxw(2);return e.KtG(r.onUpload(n,"semi_annual",a))}),e.qZA(),e.TgZ(3,"label",19),e._uU(4,"Upload Files"),e.qZA()()}if(2&o){const t=e.oxw().index;e.xp6(2),e.MGl("formControlName","file_semi_annual_",t,"")}}function Vt(o,s){1&o&&e._UZ(0,"i",20)}function zt(o,s){if(1&o&&(e.TgZ(0,"div",11)(1,"label",12),e._uU(2),e.qZA(),e._UZ(3,"p-inputNumber",13),e.YNc(4,$t,5,1,"span",14)(5,Vt,1,0,"i",15),e.qZA()),2&o){const t=s.index,i=e.oxw(2);e.xp6(1),e.MGl("for","semi_annual_",t,""),e.xp6(1),e.hij("Semi",t+1,""),e.xp6(1),e.MGl("id","semi_annual_",t,"")("formControlName","semi_annual_",t,""),e.Q6J("min",0),e.xp6(1),e.Q6J("ngIf",!i.editObjectiveGoalform.get("file_semi_annual_"+t).value),e.xp6(1),e.Q6J("ngIf",i.editObjectiveGoalform.get("file_semi_annual_"+t).value)}}const Kt=()=>[0,1];function Wt(o,s){1&o&&(e.TgZ(0,"div")(1,"div",9),e.YNc(2,zt,6,7,"div",10),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("ngForOf",e.DdM(1,Kt)))}function Xt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-add-files",21),e.NdJ("childAddFile",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.receivedAddFileEvent(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("addNewFile",t.parentAddnewFile)}}const en=()=>({width:"50rem"}),tn=()=>({"1199px":"75vw","575px":"90vw"});let nn=(()=>{class o{constructor(t,i,n,a,r,v){this.formBuilder=t,this.messageService=i,this.auth=n,this.obj=a,this.goallistService=r,this.fileService=v,this.childUpdateObjective=new e.vpe,this.editObjectiveGoalDialogCard=!1,this.updateObjectiveSubscription=new G.x,this.goalDataRemainingBudget=0,this.frequencyOptions=[{name:"yearly",code:"yearly"},{name:"quarterly",code:"quarterly"},{name:"semi_annual",code:"semi_annual"}],this.months=[],this.quarters=[],this.semi_annual=[],this.uploadedFiles=[],this.AllObjectivesFiles=[],this.disableUpload=!1,this.uploadSuccessFlag=!1,this.showAddFilesComponent=!1,this.uploadInProgress=!1,this.counter=0,this.USERID=this.auth.getTokenUserID();for(let g=0;g<12;g++)this.months.push(new Date(0,g).toLocaleString("default",{month:"short"}));this.quarters=["quarter_0","quarter_1","quarter_2","quarter_3"],this.semi_annual=["semi_annual_0","semi_annual_1"]}ngOnInit(){this.createeditObjectiveGoalform(),this.formGroupDropdown=new l.cw({selectedDropdown:new l.NI}),this.dropdwonSelection=[{name:"daily",code:"Daily"},{name:"weekly",code:"Weekly"},{name:"monthly",code:"Monthly"},{name:"yearly",code:"Yearly"},{name:"quarterly",code:"Quarterly"},{name:"biannually",code:"Biannually"}],this.uploadSuccessFlag=!1}ngOnDestroy(){this.updateObjectiveSubscription.next(),this.updateObjectiveSubscription.complete()}ngOnChanges(t){var i=this;return(0,O.Z)(function*(){if(t.updateObjective?.currentValue){const{editGoal:n,data:a}=t.updateObjective?.currentValue;if(console.log({ngOnChanges:a}),n&&a){const{id:r,userId:v,goalId:g,functional_objective:M,performance_indicator:Y,target:ce,formula:yo,programs:Ae,responsible_persons:ye,clients:Do,timetable:qo,frequency_monitoring:Oo,data_source:Mo,budget:Uo,remarks:Po,...Fo}=a;i.goal_ObjectId=g,console.log({ngOnChangesupdateobjectives:a}),i.tobeUpdatedSubGoal=r,yield i.getObjectiveById(r,Oo)}}})()}onFrequencyChange(t,i){var n=this;return(0,O.Z)(function*(){console.log({onFrequencyChange:i});const a=t?.value?.name||t;n.selectedfrequencyOptions={name:t?.value?.name||t,code:t?.value?.name||t},n.clearDynamicControls(),"yearly"===a?yield n.addMonthlyControls(yield i):"quarterly"===a?yield n.addQuarterlyControls(yield i):"semi_annual"===a&&(yield n.addSemiAnnualControls(yield i))})()}getObjectiveById(t,i){var n=this;return(0,O.Z)(function*(){n.obj.getRoute("get","objectives",`getObjectiveById/${t}`).pipe((0,u.R)(n.updateObjectiveSubscription)).subscribe(a=>{n.onFrequencyChange(i,a.data),n.editObjectiveGoalform.get("frequency_monitoring").setValue(i),setTimeout(()=>{n.editObjectiveGoalDialogCard=!0},300)})})()}clearDynamicControls(){this.months.forEach((t,i)=>{this.editObjectiveGoalform.contains(`month_${i}`)&&this.editObjectiveGoalform.removeControl(`month_${i}`)}),this.quarters.forEach((t,i)=>{this.editObjectiveGoalform.contains(`quarter_${i}`)&&this.editObjectiveGoalform.removeControl(`quarter_${i}`)}),this.semi_annual.forEach((t,i)=>{this.editObjectiveGoalform.contains(`semi_annual_${i}`)&&this.editObjectiveGoalform.removeControl(`semi_annual_${i}`)})}addMonthlyControls(t){var i=this;return(0,O.Z)(function*(){i.months.forEach((n,a)=>{const v=t&&t[`file_month_${a}`]||"";i.editObjectiveGoalform.addControl(`month_${a}`,new l.NI(t&&t[`month_${a}`]||0,l.kI.min(0))),i.editObjectiveGoalform.addControl(`file_month_${a}`,new l.NI(v))})})()}addQuarterlyControls(t){var i=this;return(0,O.Z)(function*(){for(let n=0;n<=3;n++){const r=t&&t[`file_quarter_${n}`]||"";i.editObjectiveGoalform.addControl(`quarter_${n}`,new l.NI(t&&t[`quarter_${n}`]||0,l.kI.min(0))),i.editObjectiveGoalform.addControl(`file_quarter_${n}`,new l.NI(r))}})()}addSemiAnnualControls(t){var i=this;return(0,O.Z)(function*(){console.log({addSemiAnnualControls:t}),i.semi_annual.forEach((n,a)=>{const v=t&&t[`file_semi_annual_${a}`]||"";i.editObjectiveGoalform.addControl(`semi_annual_${a}`,new l.NI(t&&t[`semi_annual_${a}`]||0,l.kI.min(0))),i.editObjectiveGoalform.addControl(`file_semi_annual_${a}`,new l.NI(v))})})()}createeditObjectiveGoalform(){this.editObjectiveGoalform=this.formBuilder.group({userId:["",[l.kI.required]],goalId:["",[l.kI.required]],functional_objective:["",[l.kI.required]],performance_indicator:["",[l.kI.required]],target:["",[l.kI.required]],formula:["",[l.kI.required]],programs:["",[l.kI.required]],responsible_persons:["",[l.kI.required]],clients:["",[l.kI.required]],timetable:["",[l.kI.required]],frequency_monitoring:["",[l.kI.required]],data_source:["",[l.kI.required]],remarks:["",[l.kI.required]],budget:["",[l.kI.required]]})}clearEditObjectiveGoalDialogCardDatas(){this.editObjectiveGoalDialogCard=!1}updateSubObjectiveGoalDialogExec(t){t.value.id=this.tobeUpdatedSubGoal,t.value.goalId=this.goal_ObjectId;let i={};for(const n in t.value)t.value[n]&&(i[n]=t.value[n]);this.obj.getRoute("put","objectives","updateObjectives",i).pipe((0,u.R)(this.updateObjectiveSubscription)).subscribe(n=>{n.success?(this.editObjectiveGoalDialogCard=!1,this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.childUpdateObjective.emit({success:!0,id:n.data?.goalId}),this.uploadSuccessFlag=!1):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}onGoalChange(t){}onUpload(t,i,n){this.showAddFilesComponent=!0,this.parentAddnewFile={addFile:!0,objectiveId:this.tobeUpdatedSubGoal,frequencyFileName:`file_${i}_${n}`}}receivedAddFileEvent(t){t&&(this.showAddFilesComponent=!1),this.onFileUploadSuccess(t.frequencyFileName,t.frequencyFileNameForUpdate)}onFileUploadSuccess(t,i){this.uploadSuccessFlag=!0,this.editObjectiveGoalform.contains(t)?this.editObjectiveGoalform.get(t).setValue(i):this.editObjectiveGoalform.addControl(t,new l.NI(i))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.qu),e.Y36(x.ez),e.Y36(H.e),e.Y36(A.v),e.Y36(me.i),e.Y36(se.I))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-objective"]],inputs:{updateObjective:"updateObjective"},outputs:{childUpdateObjective:"childUpdateObjective"},features:[e.TTD],decls:11,vars:14,consts:[["styleClass","addObjective","header","Note: Once file is uploaded dialog cannot be cancelled","position","top",3,"visible","modal","breakpoints","closable","visibleChange","onHide"],[1,"p-fluid"],[1,"field","col-10","md:col-10"],[3,"formGroup"],[4,"ngIf"],[1,"flex","justify-space-between","gap-2"],["label","Cancel","severity","secondary",3,"disabled","click"],["label","Edit",3,"click"],[3,"addNewFile","childAddFile",4,"ngIf"],[1,"grid","flex-column"],["class","col-3 frequency",4,"ngFor","ngForOf"],[1,"col-3","frequency"],[3,"for"],[3,"id","formControlName","min"],["class","p-float-label p-input-icon-left",4,"ngIf"],["class","pi pi-check-circle text-teal-400 text-2xl pr-3 pb-2",4,"ngIf"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-file-import"],["type","text","id","lefticon","pInputText","",3,"formControlName","click"],["for","lefticon"],[1,"pi","pi-check-circle","text-teal-400","text-2xl","pr-3","pb-2"],[3,"addNewFile","childAddFile"]],template:function(i,n){1&i&&(e.TgZ(0,"p-dialog",0),e.NdJ("visibleChange",function(r){return n.editObjectiveGoalDialogCard=r})("onHide",function(){return n.clearEditObjectiveGoalDialogCardDatas()}),e.TgZ(1,"div",1)(2,"div",2)(3,"form",3),e.YNc(4,Lt,3,1,"div",4)(5,Yt,3,2,"div",4)(6,Wt,3,2,"div",4),e.qZA()()(),e.TgZ(7,"div",5)(8,"p-button",6),e.NdJ("click",function(){return n.clearEditObjectiveGoalDialogCardDatas()}),e.qZA(),e.TgZ(9,"p-button",7),e.NdJ("click",function(){return n.updateSubObjectiveGoalDialogExec(n.editObjectiveGoalform)}),e.qZA()()(),e.YNc(10,Xt,1,1,"app-add-files",8)),2&i&&(e.Akn(e.DdM(12,en)),e.Q6J("visible",n.editObjectiveGoalDialogCard)("modal",!0)("breakpoints",e.DdM(13,tn))("closable",!1),e.xp6(3),e.Q6J("formGroup",n.editObjectiveGoalform),e.xp6(1),e.Q6J("ngIf","yearly"===n.editObjectiveGoalform.get("frequency_monitoring").value),e.xp6(1),e.Q6J("ngIf","quarterly"===n.editObjectiveGoalform.get("frequency_monitoring").value),e.xp6(1),e.Q6J("ngIf","semi_annual"===n.editObjectiveGoalform.get("frequency_monitoring").value),e.xp6(2),e.Q6J("disabled",n.uploadSuccessFlag),e.xp6(2),e.Q6J("ngIf",n.showAddFilesComponent))},dependencies:[b.sg,b.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,J.zx,W.V,ee.o,de.Rn,Me],styles:[".addObjective{overflow-x:hidden}.frequency[_ngcontent-%COMP%]{display:flex;column-gap:1rem;align-items:flex-end;width:60%}.grid.flex-column[_ngcontent-%COMP%]{width:150%!important}@media (max-width: 440px){.grid.flex-column[_ngcontent-%COMP%]{width:200%!important}}@media (max-width: 372px){.grid.flex-column[_ngcontent-%COMP%]{width:260%!important}}@media (max-width: 305px){.grid.flex-column[_ngcontent-%COMP%]{width:260%!important}}"]})}return o})();const on=["filter"];function an(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(9);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"span",46),e._UZ(3,"i",47),e.TgZ(4,"input",48,49),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(9);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}}function ln(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",50)(2,"div",51),e._uU(3," Goals "),e._UZ(4,"p-columnFilter",52),e.qZA()(),e.TgZ(5,"th",50)(6,"div",51),e._uU(7," Budget Utilization "),e._UZ(8,"p-columnFilter",53),e.qZA()(),e.TgZ(9,"th",50)(10,"div",51),e._uU(11," Department "),e._UZ(12,"p-columnFilter",54),e.qZA()(),e.TgZ(13,"th",50)(14,"div",51),e._uU(15," Campus "),e._UZ(16,"p-columnFilter",55),e.qZA()(),e.TgZ(17,"th",50)(18,"div",51),e._uU(19," Created By "),e._UZ(20,"p-columnFilter",56),e.qZA()(),e.TgZ(21,"th",50)(22,"div",51),e._uU(23," Created Date "),e._UZ(24,"p-columnFilter",57),e.qZA()(),e.TgZ(25,"th",50)(26,"div",51),e._uU(27," Progress Completion "),e.qZA()(),e.TgZ(28,"th",50)(29,"div",51),e._uU(30," Options "),e.qZA()()())}function rn(o,s){if(1&o&&(e.TgZ(0,"div",69)(1,"span"),e._UZ(2,"i",70),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"peso"),e._UZ(8,"p-tag",71),e.qZA(),e._UZ(9,"hr"),e.qZA()),2&o){const t=s.$implicit;e.xp6(3),e.hij(" ",(null==t||null==t.clients?null:t.clients.length)>12?t.clients.substring(0,12)+"....":e.lcZ(4,4,t.clients)," : "),e.xp6(3),e.hij("",e.lcZ(7,6,null==t?null:t.budget)," - "),e.xp6(2),e.Q6J("severity",null!=t&&t.complete?"success":"warning")("value",null!=t&&t.complete?"Completed":"In Progress")}}function sn(o,s){1&o&&(e.TgZ(0,"div")(1,"span"),e._uU(2,"No Project Yet : "),e._UZ(3,"i",72),e.qZA()())}const dn=()=>({width:"400px"});function cn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"button",58),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.getObjectives(a.id,a._id,a.goallistsId,a.goals,a.remainingBudget,a))}),e._uU(3),e.ALo(4,"titlecase"),e.qZA()(),e.TgZ(5,"td")(6,"p-chip",59),e.NdJ("click",function(n){e.CHM(t);const a=e.MAs(8);return e.KtG(a.toggle(n))}),e.qZA(),e.TgZ(7,"p-overlayPanel",null,60)(9,"p-card",61),e.ALo(10,"peso"),e.ALo(11,"peso"),e.YNc(12,rn,10,8,"div",62),e._uU(13," \xa0 \xa0 "),e.YNc(14,sn,4,0,"div",43),e.qZA()()(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"titlecase"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"titlecase"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"titlecase"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.ALo(26,"date"),e.qZA(),e.TgZ(27,"td")(28,"div",63),e._UZ(29,"p-progressBar",64),e.qZA()(),e.TgZ(30,"td")(31,"div",65)(32,"i",66),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.updateGoal(a))}),e.qZA(),e.TgZ(33,"i",67),e.NdJ("click",function(n){const r=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.deleteGoalDialog(n,r._id))}),e.qZA()(),e._UZ(34,"p-confirmPopup",68),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,14,t.goals)," "),e.xp6(6),e.Akn(e.DdM(29,dn)),e.Q6J("header",e.lcZ(10,16,null==t?null:t.budget))("subheader","Budget Utilization:  "+((null==t?null:t.remainingPercentage)||0)+"% |  Remaining: "+e.lcZ(11,18,(null==t?null:t.remainingBudget)||"0")),e.xp6(3),e.Q6J("ngForOf",null==t?null:t.objectivesDetails),e.xp6(2),e.Q6J("ngIf",!t.objectivesDetails),e.xp6(2),e.hij(" ",e.lcZ(17,20,t.department)," "),e.xp6(3),e.hij(" ",e.lcZ(20,22,t.campus)," "),e.xp6(3),e.hij(" ",e.lcZ(23,24,t.users.username)," "),e.xp6(3),e.hij(" ",e.xi3(26,26,t.createdAt,"mediumDate")," "),e.xp6(4),e.Q6J("color","#1da750")("value",t.CompletePercentage)("showValue",!0)}}function pn(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2,"No Goals found."),e.qZA()())}function un(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2,"Loading Goals data. Please wait."),e.qZA()())}function gn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(43);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"p-button",74),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addSubGoal(n.objectiveDatas))}),e.qZA(),e.TgZ(3,"p-button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.printTableNeeds((null==n.subOnjectiveHeaderData?null:n.subOnjectiveHeaderData.department)||""))}),e.qZA(),e.TgZ(4,"span",46),e._UZ(5,"i",47),e.TgZ(6,"input",48,49),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(43);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}2&o&&(e.xp6(2),e.Q6J("outlined",!0),e.xp6(1),e.Q6J("outlined",!0))}function mn(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",50)(2,"div",51),e._uU(3," Percentage Complete "),e.qZA()(),e.TgZ(4,"th",50)(5,"div",51),e._uU(6," Target "),e._UZ(7,"p-columnFilter",76),e.qZA()(),e.TgZ(8,"th",50)(9,"div",51),e._uU(10," Functional Objective "),e._UZ(11,"p-columnFilter",77),e.qZA()(),e.TgZ(12,"th",50)(13,"div",51),e._uU(14," Performance Indicator "),e._UZ(15,"p-columnFilter",78),e.qZA()(),e.TgZ(16,"th",50)(17,"div",51),e._uU(18," Formula "),e._UZ(19,"p-columnFilter",79),e.qZA()(),e.TgZ(20,"th",50)(21,"div",51),e._uU(22," Programs "),e._UZ(23,"p-columnFilter",80),e.qZA()(),e.TgZ(24,"th",50)(25,"div",51),e._uU(26," Responsible Persons "),e._UZ(27,"p-columnFilter",81),e.qZA()(),e.TgZ(28,"th",50)(29,"div",51),e._uU(30," Clients "),e._UZ(31,"p-columnFilter",82),e.qZA()(),e.TgZ(32,"th",83)(33,"div",51),e._uU(34," Frequency Monitoring "),e._UZ(35,"p-columnFilter",84),e.qZA()(),e.TgZ(36,"th",50)(37,"div",51),e._uU(38," Data Source "),e._UZ(39,"p-columnFilter",85),e.qZA()(),e.TgZ(40,"th",50)(41,"div",51),e._uU(42," Budget "),e._UZ(43,"p-columnFilter",53),e.qZA()(),e.TgZ(44,"th",50)(45,"div",51),e._uU(46," Created At "),e._UZ(47,"p-columnFilter",57),e.qZA()(),e.TgZ(48,"th",50)(49,"div",51),e._uU(50," Remarks "),e._UZ(51,"p-columnFilter",86),e.qZA()(),e.TgZ(52,"th",50)(53,"div",51),e._uU(54," Submitted "),e._UZ(55,"p-columnFilter",87),e.qZA()(),e.TgZ(56,"th",88)(57,"div",51),e._uU(58," Files "),e._UZ(59,"p-columnFilter",89),e.qZA()(),e.TgZ(60,"th",90)(61,"div",51),e._uU(62," Options "),e.qZA()()())}function hn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-progressBar",91),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"titlecase"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"titlecase"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"titlecase"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.ALo(16,"titlecase"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"titlecase"),e.qZA(),e.TgZ(20,"td"),e._uU(21),e.ALo(22,"titlecase"),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.ALo(25,"titlecase"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.ALo(28,"titlecase"),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.ALo(31,"peso"),e.qZA(),e.TgZ(32,"td"),e._uU(33),e.ALo(34,"date"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.TgZ(37,"td")(38,"p-button",92),e.NdJ("loadingChange",function(n){const r=e.CHM(t).rowIndex,v=e.oxw();return e.KtG(v.onclickCompletionButton[r]=n)})("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.updateSubGoal(a))}),e.qZA(),e._UZ(39,"p-confirmPopup",93,94),e.qZA(),e.TgZ(41,"td")(42,"div",95)(43,"i",96),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.viewFiles(a))}),e.qZA(),e._uU(44," \xa0 \xa0 "),e.TgZ(45,"i",97),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.viewFilesHistory(a))}),e.qZA()()(),e.TgZ(46,"td")(47,"div",65)(48,"i",67),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteSubGoal(a.id,a.goalId))}),e.qZA(),e._UZ(49,"p-confirmPopup",98),e.qZA()()()}if(2&o){const t=s.$implicit,i=s.rowIndex,n=e.oxw();e.xp6(2),e.Q6J("color","#1da750")("value",t.completionPercentage),e.xp6(2),e.hij(" ",t.target," "),e.xp6(2),e.hij(" ",e.lcZ(7,17,t.functional_objective)," "),e.xp6(3),e.hij(" ",e.lcZ(10,19,t.performance_indicator)," "),e.xp6(3),e.hij(" ",e.lcZ(13,21,t.formula)," "),e.xp6(3),e.hij(" ",e.lcZ(16,23,t.programs)," "),e.xp6(3),e.hij(" ",e.lcZ(19,25,t.responsible_persons)," "),e.xp6(3),e.hij(" ",e.lcZ(22,27,t.clients)," "),e.xp6(3),e.hij(" ",e.lcZ(25,29,t.frequency_monitoring)," "),e.xp6(3),e.hij(" ",e.lcZ(28,31,t.data_source)," "),e.xp6(3),e.hij(" ",e.lcZ(31,33,t.budget)," "),e.xp6(3),e.hij(" ",e.xi3(34,35,t.createdAt,"mediumDate")," "),e.xp6(3),e.hij(" ",t.remarks," "),e.xp6(2),e.Q6J("text",!0)("raised",!0)("loading",n.onclickCompletionButton[i])}}function fn(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2,"No Objectives found."),e.qZA()())}function _n(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2," Loading Objectives data. Please wait. "),e.qZA()())}function bn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",99),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(55);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"p-button",100),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addFiles())}),e.qZA(),e.TgZ(3,"span",46),e._UZ(4,"i",47),e.TgZ(5,"input",101,49),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(55);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.blockedPanel),e.xp6(1),e.Q6J("disabled",t.blockedPanel)("outlined",!0),e.xp6(3),e.Q6J("disabled",t.blockedPanel)}}function vn(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",50)(2,"div",51),e._uU(3," File "),e.qZA()(),e.TgZ(4,"th",50)(5,"div",51),e._uU(6," Date Added "),e.qZA()(),e.TgZ(7,"th",90)(8,"div",51),e._uU(9," Options "),e.qZA()()())}function Cn(o,s){1&o&&e._UZ(0,"i",106)}function xn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"i",67),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw();return e.KtG(a.deleteSubGoalFile(n.id,n.source))}),e.qZA()}}function Zn(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td")(2,"a",102),e._UZ(3,"i",103),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td")(8,"div",65),e.YNc(9,Cn,1,0,"i",104)(10,xn,1,0),e._UZ(11,"p-confirmPopup",105),e.qZA()()()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Q6J("href",i.auth.domain+"/images/files/"+t.source,e.LSH),e.xp6(1),e.Q6J("ngClass",i.getIcon(t.source.split(".").pop().toLowerCase())),e.xp6(2),e.hij(" ",e.xi3(6,4,t.date_added,"mediumDate")," "),e.xp6(4),e.um2(9,i.blockedPanel?9:10)}}function An(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2,"No Files found."),e.qZA()())}function yn(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2,"Loading Files data. Please wait."),e.qZA()())}function On(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",107),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideViewFileDialogCard())}),e.qZA()}2&o&&e.Q6J("text",!0)}function Tn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(55);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"span",46),e._UZ(3,"i",47),e.TgZ(4,"input",48,49),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(55);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}}function jn(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",50)(2,"div",51),e._uU(3," File "),e.qZA()(),e.TgZ(4,"th",50)(5,"div",51),e._uU(6," Date Added "),e.qZA()(),e.TgZ(7,"th",50)(8,"div",51),e._uU(9," Date Deleted "),e.qZA()(),e.TgZ(10,"th",50)(11,"div",51),e._uU(12," Status "),e.qZA()()())}function wn(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td")(2,"a",102),e._UZ(3,"i",103),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"td")(12,"span"),e._uU(13),e.qZA()()()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Q6J("href",i.auth.domain+"/images/files/"+t.source,e.LSH),e.xp6(1),e.Q6J("ngClass",i.getIcon(t.source.split(".").pop().toLowerCase())),e.xp6(2),e.hij(" ",e.xi3(6,9,t.date_added,"medium")," "),e.xp6(3),e.Tol("cursor-pointer  customer-badge status-"+(t.status?"active":"inactive")),e.xp6(1),e.hij(" ",e.xi3(10,12,t.updatedAt,"medium"),""),e.xp6(3),e.Tol("cursor-pointer  customer-badge status-"+(t.status?"active":"inactive")),e.xp6(1),e.Oqu(t.status?"Active":"Deleted")}}function Gn(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2,"No Files found."),e.qZA()())}function Dn(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",73),e._uU(2,"Loading Files data. Please wait."),e.qZA()())}function qn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",107),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideViewFileHistoryDialogCard())}),e.qZA()}2&o&&e.Q6J("text",!0)}function Mn(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"titlecase"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"titlecase"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"titlecase"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"titlecase"),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.ALo(23,"date"),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.ALo(27,"titlecase"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.ALo(30,"titlecase"),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.ALo(33,"peso"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,12,t.functional_objective)),e.xp6(3),e.Oqu(e.lcZ(6,14,t.performance_indicator)),e.xp6(3),e.Oqu(t.target),e.xp6(2),e.Oqu(e.lcZ(11,16,t.formula)),e.xp6(3),e.Oqu(e.lcZ(14,18,t.programs)),e.xp6(3),e.Oqu(e.lcZ(17,20,t.responsible_persons)),e.xp6(3),e.Oqu(e.lcZ(20,22,t.clients)),e.xp6(3),e.AsE(" ",e.xi3(23,24,t.timetable[0],"MMM d yyyy")," - ",e.xi3(24,27,t.timetable[1],"MMM d yyyy")," "),e.xp6(4),e.Oqu(e.lcZ(27,30,t.frequency_monitoring)),e.xp6(3),e.Oqu(e.lcZ(30,32,t.data_source)),e.xp6(3),e.Oqu(e.lcZ(33,34,t.budget))}}function Un(o,s){if(1&o&&(e.TgZ(0,"tbody"),e.YNc(1,Mn,34,36,"tr",108),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.objectiveDatas)}}const Pn=()=>["goals","budget","department","campus","users.username","createdAt","options"],Fn=()=>({width:"60rem",overflow:"auto"}),Ce=()=>({"1199px":"75vw","575px":"90vw"}),kn=()=>["","target","functional_objective","performance_indicator","formula","programs","department","responsible_persons","clients","timetable","frequency_monitoring","data_source","budget","createdAt","Files","options"],xe=()=>({"min-width":"50rem"}),Ue=()=>({width:"60rem"}),Pe=()=>["name","code","options"],Sn=()=>({width:"25rem"}),In=o=>({hidden:o});let Nn=(()=>{class o{constructor(t,i,n,a,r,v,g,M,Y,ce){this.messageService=t,this.formBuilder=i,this.confirmationService=n,this.goal=a,this.auth=r,this.obj=v,this.dept=g,this.fileService=M,this.camp=Y,this.changeDetectorRef=ce,this.getGoalSubscription=new G.x,this.goals=[],this.Alldepts=[],this.AllObjectivesFiles=[],this.AllObjectivesHistoryFiles=[],this.ViewBudget=[],this.deptDropdownCampusValue=[],this.loading=!1,this.uploadedFiles=[],this.deptDropdownValue=[],this.ObjectivesGoals=[],this.subGoalObjective=!1,this.addGoalDialogCard=!1,this.addObjectiveGoalDialogCard=!1,this.updateGoalDialogCard=!1,this.viewObjectiveFileDialogCard=!1,this.viewObjectiveFileHistoryDialogCard=!1,this.valSwitch=!1,this.value=0,this.goalDataRemainingBudget=0,this.goalBudget=0,this.onclickCompletionButton=[],this.isPrintableVisible=!1,this.printingHead=!1,this.nameValue="",this.officeValue="",this.printingOfficeName="",this.parentAddnewGoal={},this.parentEditGoal={},this.parentupdateObjective={},this.parentAddnewObjective={},this.parentAddnewFile={},this.frequencyOptions=[{name:"yearly",code:"yearly"},{name:"quarterly",code:"quarterly"},{name:"semi_annual",code:"semi_annual"}],this.months=[],this.quarters=[],this.semi_annual=[],this.USERID=this.auth.getTokenUserID()}ngOnInit(){this.getAllObjectivesWithObjectives(),this.getAllDept(),this.dropdwonSelection=[{name:"daily",code:"Daily"},{name:"weekly",code:"Weekly"},{name:"monthly",code:"Monthly"},{name:"yearly",code:"Yearly"},{name:"quarterly",code:"Quarterly"},{name:"biannually",code:"Biannually"}],this.cols=[{field:"goals",header:"Goals"},{field:"budget",header:"Budget"},{field:"department",header:"Department"},{field:"campus",header:"Campus"},{field:"createdBy",header:"CreatedBy"},{field:"createdAt",header:"CreatedAt"},{field:"options",header:"Options"}],this.createAddGoalForm(),this.createUpdateGoalForm(),this.createAddObjectiveGoalform(),this.createaddFileForm(),this.getAllCampuses(),this.formGroupDropdown=new l.cw({selectedDropdown:new l.NI}),this.formGroupDemo=new l.cw({selectDepartment:new l.NI}),this.formGroupCampus=new l.cw({selectedCampus:new l.NI}),this.interval=setInterval(()=>{this.value=this.value+Math.floor(10*Math.random())+1,this.value>=100&&(this.value=100,clearInterval(this.interval))},2e3)}ngOnDestroy(){this.getGoalSubscription.unsubscribe()}createAddGoalForm(){this.addGoalform=this.formBuilder.group({goals:["",[l.kI.required]],budget:["",[l.kI.required]],campus:["",[l.kI.required]],department:["",[l.kI.required]]})}createaddFileForm(){this.addFileForm=this.formBuilder.group({files:["",[l.kI.required]]})}createAddObjectiveGoalform(){this.addObjectiveGoalform=this.formBuilder.group({userId:["",[l.kI.required]],goalId:["",[l.kI.required]],functional_objective:["",[l.kI.required]],performance_indicator:["",[l.kI.required]],target:["",[l.kI.required]],formula:["",[l.kI.required]],programs:["",[l.kI.required]],responsible_persons:["",[l.kI.required]],clients:["",[l.kI.required]],timetable:["",[l.kI.required]],frequency_monitoring:["",[l.kI.required]],data_source:["",[l.kI.required]],budget:["",[l.kI.required]]})}createUpdateGoalForm(){this.updateGoalform=this.formBuilder.group({goals:["",[l.kI.required]],budget:["",[l.kI.required]],campus:["",[l.kI.required]]})}getAllCampuses(){this.camp.getRoute("get","campus","getAllCampus").pipe((0,u.R)(this.getGoalSubscription)).subscribe(t=>{this.deptDropdownCampusValue=t.data[0]})}getAllObjectivesWithObjectives(){const t=new G.x;return this.loading=!0,this.goal.getRoute("get","goals","getAllObjectivesWithObjectives").pipe((0,u.R)(this.getGoalSubscription),(0,ct.b)(i=>{this.goals=i.goals,this.loading=!1,t.next(!0),t.complete()}),(0,pt.K)(i=>(this.loading=!1,this.messageService.add({severity:"error",summary:"Error getAllObjectivesWithObjectives",detail:i.message}),t.next(!1),t.complete(),(0,ut._)(i)))).subscribe(),t}getAllDept(){this.dept.getRoute("get","department","getAllDepartmentDropdown").pipe((0,u.R)(this.getGoalSubscription)).subscribe(t=>{this.deptDropdownValue=t?.data[0]})}getObjectives(t,i="",n="",a="",r=0,v=[]){var g=this;return(0,O.Z)(function*(){g.loading=!0,g.subObjectiveGoalID=t,g.goallistsId=n,g.goal_ObjectId=i||v._id||"",g.subGoalObjective=!0,g.subOnjectiveHeaderData=v,g.goalDataRemainingBudget=r||g.subOnjectiveHeaderData?.remainingBudget,g.goalBudget=g.subOnjectiveHeaderData?.budget,g.subObjectiveHeaders=g.customTitleCase(a||g.subObjectiveHeaders||""),g.loading=!1,t&&(g.loading=!0,g.obj.getRoute("get","objectives",`getAllByIdObjectives/${t}`).pipe((0,u.R)(g.getGoalSubscription)).subscribe(function(){var M=(0,O.Z)(function*(Y){console.log(Y.Objectives),g.objectiveDatas=Y.Objectives,g.loading=!1});return function(Y){return M.apply(this,arguments)}}()))})()}getObjectivesReload(t){var i=this;return(0,O.Z)(function*(){t&&(i.loading=!0,i.obj.getRoute("get","objectives",`getAllByIdObjectives/${t}`).pipe((0,u.R)(i.getGoalSubscription)).subscribe(n=>{i.objectiveDatas=n.Objectives;let a=n.Objectives.reduce((r,v)=>r+v.budget,0);i.goalDataRemainingBudget=i.goalBudget-a;for(let r=0;r<i.objectiveDatas.length.length;r++)i.onclickCompletionButton[r]=!1;i.changeDetectorRef.detectChanges(),i.loading=!1,i.makeChanges=!1}))})()}getAllFilesFromObjectiveLoad(t,i){var n=this;return(0,O.Z)(function*(){try{return n.loading=!0,n.fileService.getAllFilesFromObjective(t,i).pipe((0,u.R)(n.getGoalSubscription)).subscribe(a=>{n.AllObjectivesFiles=a.data,n.loading=!1}),!0}catch(a){return console.error(a),!1}})()}getAllFilesHistoryFromObjectiveLoad(t,i){var n=this;return(0,O.Z)(function*(){return n.loading=!0,n.fileService.getAllFilesHistoryFromObjectiveLoad(t,i).pipe((0,u.R)(n.getGoalSubscription)).subscribe(a=>{n.AllObjectivesHistoryFiles=a.data,n.changeDetectorRef.detectChanges(),n.loading=!1}),!0})()}addSubGoal(t){this.parentAddnewObjective={addObjective:!0,goallistsId:this.goallistsId,goalId:this.subObjectiveGoalID,goal_ObjectId:this.goal_ObjectId}}addFiles(t){this.parentAddnewFile={addFile:!0,objectiveId:this.childComponentAddfileObjectiveId}}addSubObjectiveGoalDialogExec(t){t.value.userId=this.USERID,t.value.goalId=this.subObjectiveGoalID,t.value.goal_Id=this.goal_ObjectId,t.value.frequency_monitoring=this.formGroupDropdown.value.selectedDropdown.name,t.value.createdBy=this.USERID,this.obj.getRoute("post","objectives","addObjectives",t.value).pipe((0,u.R)(this.getGoalSubscription)).subscribe(i=>{i.success?(this.addObjectiveGoalDialogCard=!1,this.getAllObjectivesWithObjectives(),this.getObjectivesReload(this.subObjectiveGoalID),this.messageService.add({severity:"success  ",summary:"Done",detail:i.message}),this.goal_ObjectId=i.data.goal_Id,this.addObjectiveGoalform.reset(),this.formGroupDropdown.reset(),this.goalDataRemainingBudget=0):this.messageService.add({severity:"warn  ",summary:"Error",detail:i.message})})}updateGoalDialogExec(t){this.goal.getRoute("put","goals","updateGoals",{id:this.updateGoalID,goals:t.value.goals,budget:t.value.budget,department:this.formGroupDemo.value.selectDepartment.name,campus:this.formGroupCampus.value.selectedCampus.name}).pipe((0,u.R)(this.getGoalSubscription)).subscribe(n=>{n.success?(this.getAllObjectivesWithObjectives(),this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.updateGoalDialogCard=!1,this.updateGoalform.reset()):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}addGoal(){this.parentAddnewGoal={addGoal:!0}}updateGoal(t){this.parentEditGoal={editGoal:!0,goal:t,updateGoalID:t.id}}updateSubGoal(t){this.parentupdateObjective={editGoal:!0,data:t}}updateObjectiveComplete(t,i,n=0,a){var r=this;this.onclickCompletionButton[n]=!0;let v=i.goalId;this.confirmationService.confirm({key:"updateObjectiveComplete",target:t.target,message:`Marking Objective ${a?"as Incomplete":" as Complete? Will Lock Files"}, Are You Sure?`,header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.obj.getRoute("put","objectives","updateobjectivecompletion",{id:i.id}).pipe((0,u.R)(this.getGoalSubscription)).subscribe(function(){var g=(0,O.Z)(function*(M){M.success?(r.getAllObjectivesWithObjectives(),r.getObjectivesReload(v),r.messageService.add({severity:"success  ",summary:"Done",detail:M.message,life:5e3}),r.hideviewObjectiveFileDialogCardID=v):r.messageService.add({severity:"error  ",summary:"Error",detail:M.message})});return function(M){return g.apply(this,arguments)}}()),this.onclickCompletionButton[n]=!1},reject:()=>{this.onclickCompletionButton[n]=!1,this.messageService.add({severity:"info",summary:"Done",detail:"Nothing happens",life:3e3})}})}receivedUpdateObjective(t){const{id:n}=t;this.makeChanges=!0,this.getObjectivesReload(n)}deleteGoalDialog(t,i){this.confirmationService.confirm({key:"deleteGoal",target:t.target||new EventTarget,message:"Stop! Deleting this goal will delete all objectives under it?",icon:"pi pi-exclamation-triangle",accept:()=>{this.goal.getRoute("put","goals","deleteGoals",{_id:i}).pipe((0,u.R)(this.getGoalSubscription)).subscribe(n=>{n.success?(this.getAllObjectivesWithObjectives(),this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.updateGoalDialogCard=!1,this.updateGoalform.reset()):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}})}deleteSubGoal(t,i){this.confirmationService.confirm({key:"deleteSubGoal",target:event.target||new EventTarget,message:"Deleting Objectives Will Delete All Files. Continue?",icon:"pi pi-exclamation-triangle",accept:()=>{this.loading=!0,this.goal.getRoute("put","objectives","setInactiveObjectives",{id:t}).pipe((0,u.R)(this.getGoalSubscription)).subscribe(n=>{n.success?(this.getObjectivesReload(i),this.makeChanges=!0,this.loading=!1,this.messageService.add({severity:"success  ",summary:"Done",detail:n.message})):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}})}deleteSubGoalFile(t,i){this.confirmationService.confirm({key:"deleteSubGoalFile",target:event.target||new EventTarget,message:"Delete File",icon:"pi pi-exclamation-triangle",accept:()=>{this.fileService.deleteFileObjective({id:t,source:i}).pipe((0,u.R)(this.getGoalSubscription)).subscribe(n=>{n.success?(this.getAllFilesFromObjectiveLoad(this.USERID,this.objectiveIDforFile),this.messageService.add({severity:"success  ",summary:"Done",detail:n.message})):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}})}viewFiles(t){this.blockedPanel=t.complete,this.viewObjectiveFileDialogCard=!0,this.objectiveIDforFile=t.id,this.childComponentAddfileObjectiveId=t.id,this.getAllFilesFromObjectiveLoad(this.USERID,t.id)}viewFilesHistory(t){this.viewObjectiveFileHistoryDialogCard=!0,this.getAllFilesHistoryFromObjectiveLoad(this.USERID,t.id)}clearAddObjectiveGoalDialogCardDatas(){this.addObjectiveGoalDialogCard=!1,this.updateObjectiveGoalFlag=!1,this.tobeUpdatedSubGoal=null,this.addObjectiveGoalform.reset()}hidviewObjectRefetch(){}hideViewObjectiveTable(t){this.subGoalObjective=!1,this.subObjectiveGoalID=null,this.objectiveDatas=[],this.makeChanges&&this.getAllObjectivesWithObjectives().subscribe(i=>{i&&(this.makeChanges=!1)})}hideViewFileDialogCard(){this.objectiveIDforFile=null,this.viewObjectiveFileDialogCard=!1}hideViewFileHistoryDialogCard(){this.viewObjectiveFileHistoryDialogCard=!1}getIcon(t){switch(t.split(".").pop()){case"jpg":case"jpeg":case"png":case"gif":case"svg":case"psd":case"dxf":return"pi pi-image";case"doc":case"docx":case"rtf":return"pi pi-file-word";case"pdf":return"pi pi-file-pdf";case"xls":case"xlsx":return"pi pi-file-excel";case"csv":return"pi pi-file-csv";case"ppt":case"pptx":return"pi pi-file-powerpoint";case"txt":return"pi pi-ticket";case"zip":return"pi pi-file-zip";case"mp3":case"wav":case"aac":return"pi pi-volume-up";default:return"pi pi-file"}}validateFileType(t){const i=["image/jpeg","image/png","image/svg+xml","image/gif","image/x-jif","image/x-jiff","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/csv","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","application/zip","image/x-photoshop","image/vnd.dxf","audio/mpeg","audio/wav","audio/aac"];for(const n of t)if(!i.includes(n.type))return console.log(`Invalid file type: ${n.type}`),!1;return!0}customTitleCase(t){return t.split(/\s+/).map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")}clear(t){t.clear(),this.filter.nativeElement.value=""}closeSubGoalTable(){this.subGoalObjective=!1,this.objectiveDatas=[]}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}printTableNeeds(t){this.printingHead=!0,this.printingOfficeName=t}receivedAddGoalEvent(t){this.makeChanges=!0,t.success&&this.getAllObjectivesWithObjectives().subscribe(i=>{i&&(this.makeChanges=!1)})}receivedAddFileEvent(t){const{USERID:i,objectiveId:n,viewObjectiveFileDialogCard:a}=t;this.loading=!0,this.getAllFilesFromObjectiveLoad(i,n).then(r=>{r.success&&(this.viewObjectiveFileDialogCard=a,this.loading=!1)}).catch(r=>{})}receivedEditGoalEvent(t){this.makeChanges=!0,this.getAllObjectivesWithObjectives().subscribe(i=>{i&&(this.makeChanges=!1)})}receivedAddObjectiveEvent(t){this.makeChanges=!0,this.getAllObjectivesWithObjectives().subscribe(i=>{i&&(this.makeChanges=!1)})}ngAfterViewInit(){}printTable(t="",i,n){let r,v,a=this.auth.domain+"/assets/layout/images/logo.png";this.isPrintableVisible=!0,r=document.getElementById("print").innerHTML,v=window.open("","_blank","top=0,left=0,height=100%,width=auto"),v.document.open(),v.document.write(`\n            <html lang="en">\n            <head>\n              <meta charset="UTF-8" />\n              <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n              <title>Document</title>\n            </head>\n            <style>\n            * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            font-family: Arial, Helvetica, sans-serif;\n            font-size: 12px;\n          }\n\n          body {\n            width: 11in;\n            height: 8.5in;\n          }\n\n          @media print {\n            body {\n              padding: unset;\n              width: unset;\n              height: unset;\n              -webkit-print-color-adjust: exact;\n              print-color-adjust: exact;\n            }\n            @page {\n              size: landscape;\n            }\n            margin: 1.5in 0in 0in 0in;\n          }\n\n          table {\n            border-collapse: collapse;\n            width: 100%;\n          }\n\n          table:not(:is(.nested-table)) {\n            border-top: 1px solid;\n            border-left: 1px solid;\n            table-layout: fixed;\n          }\n\n          table :is(th, td) {\n            padding: 4px 6px;\n            border-right: 1px solid;\n            border-bottom: 1px solid;\n          }\n\n          .nested-table {\n            tr {\n              td {\n                font-weight: 600;\n                &[rowspan="4"] {\n                  border-bottom: 0;\n                }\n                &:last-child {\n                  border-right: 0;\n                }\n              }\n              &:last-child {\n                td {\n                  &:last-child {\n                    border-bottom: 0;\n                  }\n                }\n              }\n            }\n          }\n\n          .logo {\n            border-right: 0;\n            img {\n              width: 80px;\n              height: 80px;\n              margin-left: auto;\n              display: block;\n            }\n            & + td {\n              & > div {\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: center;\n                > h1 {\n                  font-size: 26px;\n                }\n                > h5 {\n                  color: #064f7c;\n                }\n                > hr {\n                  margin-top: 8px;\n                  width: 80%;\n                  border: 1px solid;\n                }\n              }\n            }\n          }\n\n          tr.font-condensed {\n            & > th {\n              font-size: 18px;\n              padding: 8px 6px;\n              &:first-child {\n                background-color: #f57e3a;\n              }\n              &:nth-child(2) {\n                background-color: #057a40;\n              }\n              &:last-child {\n                background-color: #efdf10;\n              }\n            }\n            & + tr {\n              & > th {\n                padding: 8px;\n              }\n              & + tr {\n                & > th {\n                  padding: 0px 4px;\n                  font-stretch: condensed;\n                  font-size: 16px;\n                }\n                & + tr {\n                  & > th {\n                    padding: 2px;\n                  }\n                }\n              }\n            }\n          }\n\n          tbody.data-cells {\n            font-stretch: condensed;\n            & tr {\n              & > td {\n                height: 0;\n                & > div {\n                  height: 100%;\n                  display: flex;\n                  flex-direction: column;\n                  gap: 1rem;\n                  justify-content: space-evenly;\n                  text-align: center;\n                  & p {\n                    font-size: 14px;\n                  }\n                }\n              }\n            }\n          }\n\n          tfoot {\n            font-stretch: condensed;\n            & tr td {\n              padding: 0;\n              & > div {\n                display: grid;\n                grid-template-columns: repeat(3, 1fr);\n                & > div {\n                  &:not(:last-child) {\n                    border-right: 1px solid;\n                  }\n                  & > div {\n                    font-size: 14px;\n                    padding: 3px 6px;\n                    &:not(:last-child) {\n                      border-bottom: 1px solid;\n                    }\n                    &:nth-child(2) {\n                      text-align: center;\n                      font-size: 16px;\n                      padding-top: 32px;\n                      font-weight: 600;\n                      padding-bottom: 0px;\n                    }\n                    &:last-child {\n                      text-align: center;\n                      font-size: 14px;\n                    }\n                  }\n                }\n              }\n            }\n          }\n\n\n\n          .p-0 {\n            padding: 0px;\n          }\n\n          .text-align-end {\n            text-align: end;\n          }\n\n          .border-x-0 {\n            border-left: 1px solid white;\n            border-right: 1px solid white;\n          }\n\n          .font-condensed {\n            font-stretch: condensed;\n          }\n\n            </style>\n            <body>\n              <div id="tobeprinted">\n                <table>\n                  <thead>\n                    <tr>\n                      <th class="p-0" rowspan="4" colspan="10">\n                        <table class="nested-table">\n                          <tr>\n                            <td rowspan="4" class="logo">\n                              <img src="${a}" alt="CHMSU Logo" />\n                            </td>\n                            <td rowspan="4">\n                              <div>\n                                <h1>Carlos Hilado Memorial State University</h1>\n                                <h5>Alijis Campus . Binalbagan Campus . Fortune Towne Campus . Talisay Campus</h5>\n                                <hr />\n                              </div>\n                            </td>\n                            <td>Revision No.</td>\n                          </tr>\n                          <tr>\n                            <td>Date of Revision</td>\n                          </tr>\n                          <tr>\n                            <td>Date of Effectivity</td>\n                          </tr>\n                          <tr>\n                            <td>Page No.</td>\n                          </tr>\n                        </table>\n                      </th>\n                      <th>&nbsp;</th>\n                    </tr>\n                    <tr>\n                      <th>&nbsp;</th>\n                    </tr>\n                    <tr>\n                      <th>&nbsp;</th>\n                    </tr>\n                    <tr>\n                      <th class="text-align-end">Page 2</th>\n                    </tr>\n                    <tr class="font-condensed">\n                   <th colspan="5">${t.toUpperCase()||this.printingOfficeName.toUpperCase()}</th>\n                      <th colspan="5">QUALITY OBJECTIVES AND ACTION PLAN</th>\n                      <th class="text-align-end">CY</th>\n                    </tr>\n                    <tr>\n                      <th class="border-x-0" colspan="11"></th>\n                    </tr>\n                    <tr>\n                      <th class="border-x-0" colspan="11"></th>\n                    </tr>\n                  </thead>\n                  <body onload="window.print();window.close()">${r}</body>\n                  <tfoot>\n                    <tr>\n                      <td colspan="11">\n                        <div>\n                          <div>\n                            <div>Prepared by:</div>\n                            <div>${this.nameValue.toLocaleUpperCase()}</div>\n                            <div>${this.officeValue.toLocaleUpperCase()}</div>\n                          </div>\n                          <div>\n                            <div>Reviewed and verified by:</div>\n                            <div>YRIKA MARIE R. DUSARAN, PhDTM</div>\n                            <div>Director for Quality Management</div>\n                          </div>\n                          <div>\n                            <div>Approved by:</div>\n                            <div>ROSALINDA S. TUVILLA</div>\n                            <div>Vice President for Administrator and Finance</div>\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  </tfoot>\n                </table>\n              </div>\n            </body>\n          </html>\n              `),v.document.close(),this.isPrintableVisible=!1,this.printingOfficeName="",this.nameValue="",this.officeValue=""}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(x.ez),e.Y36(l.qu),e.Y36(x.YP),e.Y36(D.O),e.Y36(H.e),e.Y36(A.v),e.Y36(T.n),e.Y36(se.I),e.Y36(Z.j),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-goals"]],viewQuery:function(i,n){if(1&i&&(e.Gf(on,5),e.Gf(bt,5)),2&i){let a;e.iGM(a=e.CRH())&&(n.filter=a.first),e.iGM(a=e.CRH())&&(n.printTableComponent=a.first)}},decls:116,vars:97,consts:[[3,"autoZIndex"],[1,"grid"],[1,"col-12"],[1,"card"],[1,"add-user-heading"],[1,"text-xl","font-medium","mt-2","text-slate-950"],["pButton","","icon","pi pi-compass","label","Add Goal",3,"click"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[3,"addNewGoal","childAddGoalEvent"],[3,"editGoal","childEditGoalEvent"],["responsiveLayout","stack",3,"modal","visible","breakpoints","maximizable","visibleChange","onHide"],[1,"col-12","md:col-6","p-6","text-center","md:text-left","flex","align-items-center","surface-section","text-800"],[1,"block","text-6xl","font-bold","mb-1"],[1,"text-6xl","text-primary","font-bold","mb-3"],[1,"mt-0","mb-4","text-700","line-height-3"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields","tableStyle"],["dt2",""],[3,"addNewObjective","childAddObjectiveEvent"],[3,"updateObjective","childUpdateObjective"],["responsiveLayout","stack","position","top",3,"header","modal","visible","breakpoints","maximizable","closable","visibleChange"],["dt3",""],["pTemplate","footer"],[3,"addNewFile","childAddFile"],["header","Office Head",3,"modal","visible","visibleChange"],[1,"p-text-secondary","block","mb-5"],[1,"flex","align-items-center","gap-3","mb-3"],["for","username",1,"font-semibold","w-6rem"],["pInputText","","id","name","placeholder","e.g Benrie Nufable, PHD. TM","autocomplete","off",1,"flex-auto",3,"ngModel","ngModelChange"],["nameInput",""],[1,"flex","align-items-center","gap-3","mb-5"],["for","email",1,"font-semibold","w-6rem"],["pInputText","","id","office","placeholder","e.g MIS Head - DPO","autocomplete","off",1,"flex-auto",3,"ngModel","ngModelChange"],["officeInput",""],[1,"flex","justify-content-end","gap-2"],["label","Cancel","severity","secondary",3,"onClick"],["label","Save",3,"onClick"],["id","print",3,"ngClass"],[4,"ngIf"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Keyword",1,"p-inputtext","p-component","p-element","w-full",3,"input"],["filter",""],[2,"min-width","12rem"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","goals","display","menu","placeholder","Search by Goals"],["type","text","field","budget","display","menu","placeholder","Search by Budget"],["type","text","field","department","display","menu","placeholder","Search by Department"],["type","text","field","campus","display","menu","placeholder","Search by Campus"],["type","text","field","users.username","display","menu","placeholder","Search by Created By"],["type","text","field","createdAt","display","menu","placeholder","eg. 2024-06-28"],["pButton","","pRipple","","type","button","pTooltip","Show/Add objectives","tooltipPosition","top",1,"p-button-help","p-button-text",3,"click"],["label","View Budget","icon","pi pi-wallet ","styleClass","m-1 cursor-pointer bg-teal-200 ",3,"click"],["op",""],[3,"header","subheader"],["class","mb-1",4,"ngFor","ngForOf"],[1,"col"],[3,"color","value","showValue"],[1,"options-users"],[1,"pi","pi-file-edit","text-xl",2,"color","#0ea5e9","cursor","pointer",3,"click"],[1,"pi","pi-trash","text-xl",2,"color","#ef4444","cursor","pointer",3,"click"],["key","deleteGoal"],[1,"mb-1"],[1,"pi","pi-money-bill","bg-green-400"],[3,"severity","value"],[1,"pi","pi-wrench"],["colspan","8"],["icon","pi pi-plus","severity","success","pTooltip","Add Objectives","tooltipPosition","top",3,"outlined","click"],["icon","pi pi-file-pdf","severity","info","pTooltip","Print PDF","tooltipPosition","top",3,"outlined","click"],["type","text","field","target","display","menu","placeholder","Search by Target"],["type","text","field","functional_objective","display","menu","placeholder","Search by Functional Objective"],["type","text","field","performance_indicator","display","menu","placeholder","Search by Performance Indicator"],["type","text","field","formula","display","menu","placeholder","Search by Formula"],["type","text","field","programs","display","menu","placeholder","Search by Programs"],["type","text","field","responsible_persons","display","menu","placeholder","Search by Responsible Persons"],["type","text","field","clients","display","menu","placeholder","Search by Clients"],[2,"min-width","4rem"],["type","text","field","frequency_monitoring","display","menu","placeholder","Search by Frequency Monitoring"],["type","text","field","data_source","display","menu","placeholder","Search by Data Source"],["type","text","field","remarks","display","menu","placeholder","Search by Remarks"],["type","text","field","complete","display","menu","placeholder","Search by Completion"],[2,"min-width","6rem"],["type","text","field","createdAt","display","menu","placeholder","Search by Files"],[2,"min-width","9rem"],[3,"color","value"],["severity","help","icon","\n                                  pi pi-external-link\n                                ","label","View",3,"text","raised","loading","loadingChange","click"],["key","updateObjectiveComplete"],["confirmPopupRef",""],[1,"flex","flex-row","align-items-center"],["pTooltip","File List","tooltipPosition","top",1,"pi","pi-folder","text-2xl","hover:text-4xl","text-yellow-400","transition","ease-in-out","duration-200","hover:pi-folder-open","cursor-pointer",3,"click"],["pTooltip","File History","tooltipPosition","top",1,"pi","pi-cog","text-2xl","hover:text-4xl","text-yellow-400","transition","ease-in-out","duration-200","hover:pi-cog","cursor-pointer",3,"click"],["key","deleteSubGoal"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"disabled","click"],["icon","pi pi-upload","severity","success","pTooltip","Add Objectives","tooltipPosition","top",3,"disabled","outlined","click"],["pInputText","","type","text","placeholder","Search Keyword",1,"p-inputtext","p-component","p-element","w-full",3,"disabled","input"],["target","_blank",3,"href"],[1,"text-4xl",3,"ngClass"],["class","pi pi-trash text-xl","style","color: #868585"],["key","deleteSubGoalFile"],[1,"pi","pi-trash","text-xl",2,"color","#868585"],["label","Cancel","severity","secondary",3,"text","click"],[4,"ngFor","ngForOf"]],template:function(i,n){1&i&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6,"Goals"),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return n.addGoal()}),e.qZA()(),e.TgZ(8,"p-table",7,8),e.YNc(10,an,6,0,"ng-template",9)(11,ln,31,0,"ng-template",10)(12,cn,35,30,"ng-template",11)(13,pn,3,0,"ng-template",12)(14,un,3,0,"ng-template",13),e.qZA()()()(),e.TgZ(15,"app-adding-goal",14),e.NdJ("childAddGoalEvent",function(r){return n.receivedAddGoalEvent(r)}),e.qZA(),e.TgZ(16,"app-update-goal",15),e.NdJ("childEditGoalEvent",function(r){return n.receivedEditGoalEvent(r)}),e.qZA(),e.TgZ(17,"p-dialog",16),e.NdJ("visibleChange",function(r){return n.subGoalObjective=r})("onHide",function(){return n.hideViewObjectiveTable()}),e.TgZ(18,"div",1)(19,"div",17)(20,"section")(21,"span",18),e._uU(22),e.ALo(23,"titlecase"),e.qZA(),e.TgZ(24,"div",19),e._uU(25),e.ALo(26,"titlecase"),e.qZA(),e.TgZ(27,"p",20),e._uU(28),e.ALo(29,"titlecase"),e.qZA()()(),e.TgZ(30,"div",17)(31,"section")(32,"span",18),e._uU(33),e.ALo(34,"titlecase"),e.qZA(),e.TgZ(35,"div",19),e._uU(36),e.ALo(37,"peso"),e.qZA(),e.TgZ(38,"p",20),e._uU(39),e.ALo(40,"peso"),e.qZA()()(),e.TgZ(41,"div",2)(42,"p-table",21,22),e.YNc(44,gn,8,2,"ng-template",9)(45,mn,63,0,"ng-template",10)(46,hn,50,38,"ng-template",11)(47,fn,3,0,"ng-template",12)(48,_n,3,0,"ng-template",13),e.qZA()()()(),e.TgZ(49,"app-add-objective",23),e.NdJ("childAddObjectiveEvent",function(r){return n.receivedAddObjectiveEvent(r)}),e.qZA(),e.TgZ(50,"app-update-objective",24),e.NdJ("childUpdateObjective",function(r){return n.receivedUpdateObjective(r)}),e.qZA(),e.TgZ(51,"p-dialog",25),e.NdJ("visibleChange",function(r){return n.viewObjectiveFileDialogCard=r}),e.TgZ(52,"div",1)(53,"div",2)(54,"p-table",21,26),e.YNc(56,bn,7,4,"ng-template",9)(57,vn,10,0,"ng-template",10)(58,Zn,12,7,"ng-template",11)(59,An,3,0,"ng-template",12)(60,yn,3,0,"ng-template",13),e.qZA()()(),e.YNc(61,On,1,1,"ng-template",27),e.qZA(),e.TgZ(62,"app-add-files",28),e.NdJ("childAddFile",function(r){return n.receivedAddFileEvent(r)}),e.qZA(),e.TgZ(63,"p-dialog",25),e.NdJ("visibleChange",function(r){return n.viewObjectiveFileHistoryDialogCard=r}),e.TgZ(64,"div",1)(65,"div",2)(66,"p-table",21,26),e.YNc(68,Tn,6,0,"ng-template",9)(69,jn,13,0,"ng-template",10)(70,wn,14,15,"ng-template",11)(71,Gn,3,0,"ng-template",12)(72,Dn,3,0,"ng-template",13),e.qZA()()(),e.YNc(73,qn,1,1,"ng-template",27),e.qZA(),e.TgZ(74,"p-dialog",29),e.NdJ("visibleChange",function(r){return n.printingHead=r}),e.TgZ(75,"span",30),e._uU(76,"Update your information."),e.qZA(),e.TgZ(77,"div",31)(78,"label",32),e._uU(79,"Name"),e.qZA(),e.TgZ(80,"input",33,34),e.NdJ("ngModelChange",function(r){return n.nameValue=r}),e.qZA()(),e.TgZ(82,"div",35)(83,"label",36),e._uU(84,"Office"),e.qZA(),e.TgZ(85,"input",37,38),e.NdJ("ngModelChange",function(r){return n.officeValue=r}),e.qZA()(),e.TgZ(87,"div",39)(88,"p-button",40),e.NdJ("onClick",function(){return n.printingHead=!1}),e.qZA(),e.TgZ(89,"p-button",41),e.NdJ("onClick",function(){return n.printTable(),n.printingHead=!1}),e.qZA()()(),e.TgZ(90,"table",42)(91,"thead")(92,"tr")(93,"th"),e._uU(94,"Functional Objectives"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Performance Indicators"),e.qZA(),e.TgZ(97,"th"),e._uU(98,"Target"),e.qZA(),e.TgZ(99,"th"),e._uU(100,"Formula"),e.qZA(),e.TgZ(101,"th"),e._uU(102,"Programs, Projects or Activities"),e.qZA(),e.TgZ(103,"th"),e._uU(104,"Responsible Persons & Partners"),e.qZA(),e.TgZ(105,"th"),e._uU(106,"Target Participants or Clients"),e.qZA(),e.TgZ(107,"th"),e._uU(108,"Timetable"),e.qZA(),e.TgZ(109,"th"),e._uU(110,"Frequency of Monitoring"),e.qZA(),e.TgZ(111,"th"),e._uU(112,"Means of Verification (Data Source)"),e.qZA(),e.TgZ(113,"th"),e._uU(114,"Budget"),e.qZA()()(),e.YNc(115,Un,2,1,"tbody",43),e.qZA()),2&i&&(e.Q6J("autoZIndex",!0),e.xp6(8),e.Q6J("value",n.goals)("rows",10)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(81,Pn)),e.xp6(7),e.Q6J("addNewGoal",n.parentAddnewGoal),e.xp6(1),e.Q6J("editGoal",n.parentEditGoal),e.xp6(1),e.Akn(e.DdM(82,Fn)),e.Q6J("modal",!0)("visible",n.subGoalObjective)("breakpoints",e.DdM(83,Ce))("maximizable",!0),e.xp6(5),e.hij(" ",e.lcZ(23,69,null==n.subOnjectiveHeaderData||null==n.subOnjectiveHeaderData.users?null:n.subOnjectiveHeaderData.users.username)," "),e.xp6(3),e.hij(" ",e.lcZ(26,71,(null==n.subOnjectiveHeaderData?null:n.subOnjectiveHeaderData.campus)||"Campus")," "),e.xp6(3),e.hij(" ",e.lcZ(29,73,(null==n.subOnjectiveHeaderData?null:n.subOnjectiveHeaderData.department)||"Department")," "),e.xp6(5),e.hij(" ",e.lcZ(34,75,n.subObjectiveHeaders)," "),e.xp6(3),e.hij(" ",e.lcZ(37,77,n.goalBudget||0)," "),e.xp6(3),e.hij(" Remaining: ",e.lcZ(40,79,n.goalDataRemainingBudget||"0")," "),e.xp6(3),e.Q6J("value",n.objectiveDatas)("rows",10)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(84,kn))("tableStyle",e.DdM(85,xe)),e.xp6(7),e.Q6J("addNewObjective",n.parentAddnewObjective),e.xp6(1),e.Q6J("updateObjective",n.parentupdateObjective),e.xp6(1),e.Akn(e.DdM(86,Ue)),e.Q6J("header",n.blockedPanel?"Files Locked: Objective Marked Complete":"File List")("modal",!0)("visible",n.viewObjectiveFileDialogCard)("breakpoints",e.DdM(87,Ce))("maximizable",!0)("closable",!1),e.xp6(3),e.Q6J("value",n.AllObjectivesFiles)("rows",5)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(88,Pe))("tableStyle",e.DdM(89,xe)),e.xp6(8),e.Q6J("addNewFile",n.parentAddnewFile),e.xp6(1),e.Akn(e.DdM(90,Ue)),e.Q6J("header","File HistoryList")("modal",!0)("visible",n.viewObjectiveFileHistoryDialogCard)("breakpoints",e.DdM(91,Ce))("maximizable",!0)("closable",!1),e.xp6(3),e.Q6J("value",n.AllObjectivesHistoryFiles)("rows",5)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(92,Pe))("tableStyle",e.DdM(93,xe)),e.xp6(8),e.Akn(e.DdM(94,Sn)),e.Q6J("modal",!0)("visible",n.printingHead),e.xp6(6),e.Q6J("ngModel",n.nameValue),e.xp6(5),e.Q6J("ngModel",n.officeValue),e.xp6(5),e.Q6J("ngClass",e.VKq(95,In,!n.isPrintableVisible)),e.xp6(25),e.Q6J("ngIf",0!=(null==n.objectiveDatas?null:n.objectiveDatas.length)))},dependencies:[b.mk,b.sg,b.O5,l.Fj,l.JJ,l.On,ge.u,c.iA,x.jx,c.xl,J.Hq,J.zx,W.V,ee.o,vt.FN,be.P,De.k,Ct.A,xt.T,qe.Z,Zt.V,yt,Pt,kt,nn,Me,b.rS,b.uU,C.vZ],styles:['@charset "UTF-8";.options-users[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.customer-badge.status-active[_ngcontent-%COMP%]{background:#c8e6c9;color:#256029}.customer-badge.status-inactive[_ngcontent-%COMP%]{background:#ffcdd2;color:#c63737}.customer-badge.status-pending[_ngcontent-%COMP%]{background:#ffd8b2;color:#805b36}  .p-dialog-content{overflow-y:visible!important}  .footer-button{display:flex;justify-content:space-evenly}.add-user-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 0 1.5rem}  .footer-button{gap:8rem!important}  .addObjective{overflow-y:auto}  .pi-folder:hover{transform:scale(1.2)}  .hover\\:pi-folder-open:hover:before{content:"\\1f4c2"}  .hover\\:pi-cog:hover:before{content:"\\2699\\fe0f"}  .p-fileupload-row>div:first-child{display:none!important}  .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background:#41c5b7}  .p-overlaypanel .p-overlaypanel-content{padding:0!important}  p-panel{width:100%!important;z-index:9999999999}  .p-blockui{z-index:9999999999;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;align-items:center;justify-content:center}  .p-blockui.p-component-overlay{position:absolute;display:flex}']})}return o})();var En=d(981);function Jn(o,s){if(1&o&&e._UZ(0,"p-chart",3),2&o){const t=e.oxw();e.Q6J("data",t.donutData)("options",t.donutOptions)}}function Ln(o,s){1&o&&e._UZ(0,"p-skeleton",18)}function Rn(o,s){1&o&&e._UZ(0,"div")}function Qn(o,s){1&o&&(e.TgZ(0,"tr"),e._UZ(1,"th",19),e.TgZ(2,"th"),e._uU(3,"Goal Name"),e.qZA(),e.TgZ(4,"th"),e._uU(5,"Budget"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Total Objectives"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Completed Objectives"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Incomplete Objectives"),e.qZA()())}function Hn(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"button",20),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA()()),2&o){const t=s.$implicit,i=s.expanded,n=e.oxw();e.xp6(2),e.Q6J("pRowToggler",t)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),e.xp6(2),e.Oqu(t.goals),e.xp6(2),e.Oqu(e.Dn7(7,7,t.budget,"PHP","symbol")),e.xp6(3),e.Oqu((null==t.objectivesDetails?null:t.objectivesDetails.length)||0),e.xp6(2),e.Oqu(n.getCompletedObjectives(t)),e.xp6(2),e.Oqu(n.getIncompleteObjectives(t))}}function Bn(o,s){1&o&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Objective"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Budget"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Complete"),e.qZA()())}const Yn=(o,s)=>({"pi-check-circle text-green-500":o,"pi-times-circle text-red-500":s});function $n(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"i",24),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.hij(" ",t.functional_objective," "),e.xp6(2),e.hij(" ",e.Dn7(5,3,t.budget,"PHP","symbol")," "),e.xp6(3),e.Q6J("ngClass",e.WLB(7,Yn,t.complete,!t.complete))}}function Vn(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td",21)(2,"div",22)(3,"p-table",23),e.YNc(4,Bn,7,0,"ng-template",15)(5,$n,8,10,"ng-template",16),e.qZA()()()()),2&o){const t=s.$implicit;e.xp6(3),e.Q6J("value",t.objectivesDetails)}}let zn=(()=>{class o{constructor(t,i,n,a){this.goal=t,this.goalService=i,this.obj=n,this.productService=a,this.dashboardSubscription=new G.x,this.goals=[],this.products=[],this.loading=!0,this.isExpanded=!1,this.expandedRows={},this.getGoals(),this.getObjectiveViewPieChart(),this.getAllObjectives()}ngOnInit(){this.productService.getProductsWithOrdersSmall().then(t=>this.products=t),this.getAllObjectivesForTable()}getCompletedObjectives(t){return t.objectivesDetails?.filter(i=>i.complete&&!i.deleted).length||0}getIncompleteObjectives(t){return t.objectivesDetails?.filter(i=>!i.complete&&!i.deleted).length||0}getGoals(){this.goal.getRoute("get","goals","getGoalsForDashboard").pipe((0,u.R)(this.dashboardSubscription)).subscribe(t=>{this.goalForTables=t?.data[0]?.totalBudget[0]?.totalAmount||0,this.goalCount=t?.data[0]?.goalCount,this.loading=!1})}getAllObjectives(){this.obj.getRoute("get","objectives","getAllObjectivesBudget").pipe((0,u.R)(this.dashboardSubscription)).subscribe(t=>{this.objectiveBudget=t.data})}getAllObjectivesForTable(){this.obj.getRoute("get","goals","getAllObjectivesWithObjectives").pipe((0,u.R)(this.dashboardSubscription)).subscribe(t=>{this.goals=t.goals})}getObjectiveViewPieChart(){this.goalService.getRoute("get","goals","getObjectivesViewTable").pipe((0,u.R)(this.dashboardSubscription)).subscribe(t=>{this.initBarCharts(t?.data)})}ngOnDestroy(){this.dashboardSubscription.unsubscribe()}initBarCharts(t){t?.map(M=>M.objectives);let n=t?.map(M=>M.objectives.filter(Y=>0==Y.deleted));const a=getComputedStyle(document.documentElement),r=a.getPropertyValue("--text-color"),v=a.getPropertyValue("--text-color-secondary"),g=a.getPropertyValue("--surface-border");this.donutData={labels:[...t?.map(M=>M.goals)],datasets:[{label:"Goals",backgroundColor:a.getPropertyValue("--primary-500"),borderColor:a.getPropertyValue("--primary-500"),data:[...t?.map(M=>1)]},{label:"Objectives",backgroundColor:a.getPropertyValue("--primary-200"),borderColor:a.getPropertyValue("--primary-200"),data:[...n.map(M=>M.length?M.length:0)]}]},this.donutOptions={plugins:{legend:{labels:{fontColor:r}}},scales:{x:{ticks:{color:v,font:{weight:500}},grid:{display:!1,drawBorder:!1}},y:{ticks:{color:v},grid:{color:g,drawBorder:!1}}}}}expandAll(){this.isExpanded?this.expandedRows={}:this.products.forEach(t=>t&&t.name?this.expandedRows[t.name]=!0:""),this.isExpanded=!this.isExpanded}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(D.O),e.Y36(D.O),e.Y36(A.v),e.Y36(En.M))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:38,vars:16,consts:[[1,"grid"],[1,"col-12","xl:col-6"],[1,"card"],["type","bar",3,"data","options"],["header","Goal Summary"],[1,"flex","flex-column","align-items-center"],[3,"value","showValue"],[1,"mt-3","text-center","text-6xl",2,"font-family","'Figtree', 'Roboto', 'Noto Sans Hebrew',\n                            'Noto Kufi Arabic', 'Noto Sans JP', sans-serif"],[1,"text-2xl","text-color-secondary"],[1,"mt-3","text-xl"],[1,"my-6"],["header","Objective Summary Budget"],[4,"ngIf"],[1,"col-12"],["dataKey","id","responsiveLayout","scroll",3,"value","expandedRowKeys"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["width","18rem","height","18rem",1,"my-auto"],[2,"width","3rem"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],["colspan","7"],[1,"p-3"],[3,"value"],[1,"pi",3,"ngClass"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5"),e._uU(4,"Goals with Objectives"),e.qZA(),e.YNc(5,Jn,1,2,"p-chart",3)(6,Ln,1,0),e.qZA()(),e.TgZ(7,"div",1)(8,"p-card",4)(9,"div",5),e._UZ(10,"p-progressBar",6),e.TgZ(11,"p",7),e._uU(12),e.ALo(13,"peso"),e.qZA(),e.TgZ(14,"p",8),e._uU(15,"Total Budget"),e.qZA(),e.TgZ(16,"p",9),e._uU(17),e.qZA(),e.TgZ(18,"p",9),e._uU(19),e.ALo(20,"peso"),e.qZA()()(),e._UZ(21,"div",10),e.TgZ(22,"p-card",11)(23,"div",5),e.YNc(24,Rn,1,0,"div",12),e.TgZ(25,"p",7),e._uU(26),e.ALo(27,"peso"),e.qZA(),e.TgZ(28,"p",8),e._uU(29,"Total Budget"),e.qZA()()()(),e.TgZ(30,"div",13)(31,"div",2)(32,"h5"),e._uU(33,"Goals & Objectives"),e.qZA(),e.TgZ(34,"p-table",14),e.YNc(35,Qn,12,0,"ng-template",15)(36,Hn,14,11,"ng-template",16)(37,Vn,6,1,"ng-template",17),e.qZA()()()()),2&i&&(e.xp6(5),e.um2(5,n.donutData?5:6),e.xp6(5),e.Q6J("value",n.objectiveBudget/n.goalForTables*100)("showValue",!1),e.xp6(2),e.hij(" ",e.lcZ(13,10,n.goalForTables)," "),e.xp6(5),e.hij("",n.goalCount," Goals"),e.xp6(2),e.hij(" Remaining Budget: ",e.lcZ(20,12,n.goalForTables-n.objectiveBudget)," "),e.xp6(5),e.Q6J("ngIf",!n.loading),e.xp6(2),e.hij(" ",e.lcZ(27,14,n.objectiveBudget)," "),e.xp6(8),e.Q6J("value",n.goals)("expandedRowKeys",n.expandedRows))},dependencies:[b.mk,b.O5,p.C,c.iA,x.jx,c.jB,J.Hq,De.k,qe.Z,h.O,b.H9,C.vZ]})}return o})();const Kn=["filter"];function Wn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",21)(1,"button",22),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(7);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"p-button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addDept())}),e.qZA(),e.TgZ(3,"span",24),e._UZ(4,"i",25),e.TgZ(5,"input",26,27),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(7);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}2&o&&(e.xp6(2),e.Q6J("outlined",!0))}function Xn(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",28)(2,"div",29),e._uU(3," Department "),e._UZ(4,"p-columnFilter",30),e.qZA()(),e.TgZ(5,"th",28)(6,"div",29),e._uU(7," Status "),e._UZ(8,"p-columnFilter",31),e.qZA()(),e.TgZ(9,"th",28)(10,"div",29),e._uU(11," Options "),e.qZA()()())}function ei(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td")(5,"span",32),e.NdJ("click",function(n){const r=e.CHM(t).$implicit,v=e.oxw();return e.KtG(v.changeDeptStatus(n,r.id))}),e._uU(6),e.qZA(),e._UZ(7,"p-confirmPopup",33,34),e.qZA(),e.TgZ(9,"td")(10,"div",35)(11,"i",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.updateDept(a))}),e.qZA(),e.TgZ(12,"i",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteDept(a.id))}),e.qZA()()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,4,t.department)," "),e.xp6(3),e.Tol("cursor-pointer  customer-badge status-"+t.status),e.xp6(1),e.Oqu(t.status)}}function ti(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2,"No Department found."),e.qZA()())}function ni(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",38),e._uU(2," Loading Department data. Please wait. "),e.qZA()())}function ii(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changeUserStatuExecution())}),e.qZA()}}const oi=()=>["department","status","options"],ai=()=>({width:"20vw"}),li=()=>({"960px":"50vw"}),ri=()=>({width:"25rem"});let si=(()=>{class o{constructor(t,i,n,a){this.messageService=t,this.formBuilder=i,this.department=n,this.confirmationService=a,this.getdepartmenttSubscription=new G.x,this.depts=[],this.loading=!0,this.changeStatusCard=!1,this.cardCrudDialog=!1,this.departmentName=""}ngOnInit(){this.getDepartments(),this.cols=[{field:"department",header:"Department"},{field:"status",header:"Status"},{field:"options",header:"Options"}]}ngOnDestroy(){this.getdepartmenttSubscription.unsubscribe()}getDepartments(){this.department.getRoute("get","department","getAllDepartment").pipe((0,u.R)(this.getdepartmenttSubscription)).subscribe(t=>{this.depts=t.departments,this.loading=!1})}addDept(){this.cardCrudDialog=!0,this.updatingDept=!1}updateDept(t){this.departmentName=t.department,this.updateDepartmentId=t.id,this.updatingDept=!0,this.cardCrudDialog=!0}updateDepartmentExec(){if(""==this.departmentName)return this.messageService.add({severity:"error",summary:"Error",detail:"Please provide Department Name"});this.loading=!0,this.department.getRoute("put","department","updateDepartment",{id:this.updateDepartmentId,department:this.departmentName}).pipe((0,u.R)(this.getdepartmenttSubscription)).subscribe(t=>{this.cardCrudDialog=!1,this.getDepartments(),this.loading=!1,this.messageService.add({severity:"success  ",summary:"Done",detail:t.message,life:5e3}),this.departmentName="",this.updateDepartmentId="",this.updatingDept=!1})}deleteDept(t){this.confirmationService.confirm({key:"updateDepartment",target:event.target,message:"This will remove completely on the database?",header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.department.getRoute("put","department","deleteDepartment",{id:t}).pipe((0,u.R)(this.getdepartmenttSubscription)).subscribe(i=>{this.getDepartments(),this.messageService.add({severity:"success  ",summary:"Done",detail:i.message,life:5e3})})},reject:()=>{this.messageService.add({severity:"info",summary:"Done",detail:"Got it...",life:3e3})}})}changeDeptStatus(t,i){this.confirmationService.confirm({key:"updateDepartment",target:t.target,message:"Change Status?",header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.department.getRoute("put","department","changeDepartmentStatus",{id:i}).pipe((0,u.R)(this.getdepartmenttSubscription)).subscribe(n=>{this.getDepartments(),this.messageService.add({severity:"success  ",summary:"Done",detail:n.message,life:5e3})})},reject:()=>{this.messageService.add({severity:"info",summary:"Done",detail:"Nothing happens",life:3e3})}})}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}addDeptDialogExec(){if(""==this.departmentName)return this.messageService.add({severity:"error",summary:"Error",detail:"Please provide Department Name"});this.loading=!0,this.department.getRoute("post","department","addDepartment",{department:this.departmentName}).pipe((0,u.R)(this.getdepartmenttSubscription)).subscribe(t=>{this.cardCrudDialog=!1,this.getDepartments(),this.loading=!1,this.messageService.add({severity:"success  ",summary:"Done",detail:t.message,life:5e3}),this.departmentName=""})}clear(t){t.clear(),this.filter.nativeElement.value=""}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(x.ez),e.Y36(l.qu),e.Y36(T.n),e.Y36(x.YP))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-departments"]],viewQuery:function(i,n){if(1&i&&e.Gf(Kn,5),2&i){let a;e.iGM(a=e.CRH())&&(n.filter=a.first)}},decls:23,vars:22,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"add-user-heading"],[1,"text-xl","font-medium","mt-2","text-slate-950"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["header","Dialog","id","tester","showEffect","fade",3,"visible","modal","breakpoints","visibleChange"],[1,"line-height-3","m-0"],["pTemplate","footer"],[3,"header","modal","visible","visibleChange"],[1,"flex","align-items-center","gap-3","mb-5"],["pInputText","","id","deparment_name","autocomplete","off","placeholder","Department Name",1,"flex-auto",3,"ngModel","ngModelChange"],[1,"flex","justify-content-end","gap-2"],["label","Cancel","severity","secondary",3,"click"],["label","Save",3,"disabled","click"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],["icon","pi pi-plus","severity","success","pTooltip","Add Objectives","tooltipPosition","top",3,"outlined","click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Keyword",1,"p-inputtext","p-component","p-element","w-full",3,"input"],["filter",""],[2,"min-width","12rem"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","department","display","menu","placeholder","Search by Department"],["type","text","field","status","display","menu","placeholder","Search by Status"],[3,"click"],["key","updateDepartment"],["confirmPopupRef",""],[1,"options-users"],[1,"pi","pi-file-edit","text-xl",2,"color","#0ea5e9","cursor","pointer",3,"click"],[1,"pi","pi-trash","text-xl",2,"color","#ef4444","cursor","pointer",3,"click"],["colspan","8"],["pButton","","icon","pi pi-check","label","Ok",1,"p-button-outlined",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"Departments"),e.qZA()(),e.TgZ(6,"p-table",5,6),e.YNc(8,Wn,7,1,"ng-template",7)(9,Xn,12,0,"ng-template",8)(10,ei,13,6,"ng-template",9)(11,ti,3,0,"ng-template",10)(12,ni,3,0,"ng-template",11),e.qZA()()()(),e.TgZ(13,"p-dialog",12),e.NdJ("visibleChange",function(r){return n.changeStatusCard=r}),e.TgZ(14,"p",13),e._uU(15,"Change Department Status"),e.qZA(),e.YNc(16,ii,1,0,"ng-template",14),e.qZA(),e.TgZ(17,"p-dialog",15),e.NdJ("visibleChange",function(r){return n.cardCrudDialog=r}),e.TgZ(18,"div",16)(19,"input",17),e.NdJ("ngModelChange",function(r){return n.departmentName=r}),e.qZA()(),e.TgZ(20,"div",18)(21,"p-button",19),e.NdJ("click",function(){return n.cardCrudDialog=!1}),e.qZA(),e.TgZ(22,"p-button",20),e.NdJ("click",function(){return n.updatingDept?n.updateDepartmentExec():n.addDeptDialogExec()}),e.qZA()()()),2&i&&(e.xp6(6),e.Q6J("value",n.depts)("rows",10)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(18,oi)),e.xp6(7),e.Akn(e.DdM(19,ai)),e.Q6J("visible",n.changeStatusCard)("modal",!0)("breakpoints",e.DdM(20,li)),e.xp6(4),e.Akn(e.DdM(21,ri)),e.Q6J("header",n.updatingDept?"Update ":"Add Department")("modal",!0)("visible",n.cardCrudDialog),e.xp6(2),e.Q6J("ngModel",n.departmentName),e.xp6(3),e.Q6J("disabled",""===n.departmentName))},dependencies:[l.Fj,l.JJ,l.On,ge.u,c.iA,x.jx,c.xl,J.Hq,J.zx,W.V,ee.o,be.P,b.rS],styles:[".options-users[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.customer-badge.status-active[_ngcontent-%COMP%]{background:#c8e6c9;color:#256029}.customer-badge.status-inactive[_ngcontent-%COMP%]{background:#ffcdd2;color:#c63737}.customer-badge.status-pending[_ngcontent-%COMP%]{background:#ffd8b2;color:#805b36}  .p-dialog-content{overflow-y:visible!important}  .footer-button{display:flex;justify-content:space-evenly}.add-user-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 0 1.5rem}  .footer-button{gap:8rem!important}"]})}return o})();var Fe=d(2034),di=d(6489);const ci=["filter"],pi=o=>({"surface-ground":o});function ui(o,s){if(1&o&&(e.TgZ(0,"div",6),e._UZ(1,"img",7),e.TgZ(2,"span",8),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e._uU(5," \xa0 \xa0 "),e.TgZ(6,"span",9),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e._uU(9," \xa0 "),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"titlecase"),e.qZA(),e._uU(13," \xa0 | \xa0 "),e.TgZ(14,"span",10),e._uU(15),e.ALo(16,"titlecase"),e.qZA(),e._uU(17," \xa0 \xa0 | \xa0 "),e.TgZ(18,"span",11),e._uU(19),e.ALo(20,"date"),e.qZA()()),2&o){const t=s.$implicit,i=s.options,n=e.oxw();e.Q6J("ngClass",e.VKq(20,pi,i.odd)),e.xp6(1),e.Q6J("alt",null==t||null==t.user?null:t.user.username)("src",n.auth.domain+"/images/"+n.getUserProfilePic(t),e.LSH),e.xp6(2),e.hij("",(null==t||null==t.user?null:t.user.username)===n.USERNAME?"You":e.lcZ(4,9,null==t||null==t.user?null:t.user.username)," "),e.xp6(4),e.Oqu(e.lcZ(8,11,null==t?null:t.actionMade)),e.xp6(4),e.AsE("",n.getArticle(null==t?null:t.resource)," ",e.lcZ(12,13,null==t?null:t.resource),""),e.xp6(4),e.hij(" ",e.lcZ(16,15,n.getLogDisplayValue(t))," "),e.xp6(4),e.hij(" ",e.xi3(20,17,null==t?null:t.createdAt,"medium")," ")}}const gi=()=>({width:"70vw",height:"50vh"});let mi=(()=>{class o{constructor(t,i){this.log=t,this.auth=i,this.getdepartmenttSubscription=new G.x,this.logs=[],this.loading=!0,this.first=0,this.rows=10,this.USERNAME=this.auth.getTokenUsername()||localStorage.getItem("username"),this.getAllLogs(),this.cols=[{field:"method",header:"Action"},{field:"status",header:"Results"},{field:"url",header:" Api Call"},{field:"user.username",header:"User"},{field:"createdAt",header:"Date"}]}getAllLogs(){var t=this;return(0,O.Z)(function*(){t.loading=!0,t.log.getAllLogs("get","logs","getAllLogs/"+t.auth.getTokenUserID()).pipe((0,u.R)(t.getdepartmenttSubscription)).subscribe(i=>{t.logs=i.data[0],t.loading=!1})})()}onPageChange(t){this.first=t.first,this.rows=t.rows}clear(t){t.clear(),this.filter.nativeElement.value=""}getArticle(t){return t?["a","e","i","o","u"].includes(t[0].toLowerCase())?"an":"a":""}getLogDisplayValue(t){return t?t?.objectives?.[0]?.functional_objective?t.objectives[0].functional_objective:t?.ParamsObjectives?.[0]?.functional_objective?t.ParamsObjectives[0].functional_objective:t?.body?._id?"ID: "+t.body._id:t?.body?.username&&t?.user?.username&&t.body.username===t.user.username?"For Himself":t?.body?.functional_objective?t.body.functional_objective:t?.goals?.[0]?.goals||t?.body?.goals?t?.goals?.[0]?.goals||t?.body?.goals:"for Himself":"Unknown"}getUserProfilePic(t){return"no-photo.png"===t?.user?.profile_pic&&t?.body?.profile_pic?t?.body?.profile_pic:t?.user?.profile_pic}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(Fe.$),e.Y36(H.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-logs"]],viewQuery:function(i,n){if(1&i&&e.Gf(ci,5),2&i){let a;e.iGM(a=e.CRH())&&(n.filter=a.first)}},decls:7,vars:7,consts:[[1,"grid"],[1,"card"],[1,"add-user-heading","my-4"],[1,"text-xl","font-medium","my-4","text-slate-950"],["styleClass","border-1 surface-border",3,"items","itemSize","showLoader","delay"],["pTemplate","item"],[1,"flex","align-items-center","p-2",2,"height","50px",3,"ngClass"],["width","32",1,"border-circle",2,"vertical-align","middle",3,"alt","src"],[1,"font-bold","ml-2"],[1,"underline"],[1,"font-medium"],[1,"text-orange-500"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4,"Activity Logs"),e.qZA()(),e.TgZ(5,"p-scroller",4),e.YNc(6,ui,21,22,"ng-template",5),e.qZA()()()),2&i&&(e.xp6(5),e.Akn(e.DdM(6,gi)),e.Q6J("items",n.logs)("itemSize",50)("showLoader",!0)("delay",250))},dependencies:[b.mk,x.jx,di.T,b.rS,b.uU],styles:["[_nghost-%COMP%]     .p-scroller-viewport{flex:none}[_nghost-%COMP%]     p-skeleton{width:100%}"]})}return o})();var hi=d(5118),fi=d(6760);const _i=["filter"];function bi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(7);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"span",40),e._UZ(3,"i",41),e.TgZ(4,"input",42,43),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(7);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}}function vi(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",44)(2,"div",45),e._uU(3," Created By "),e._UZ(4,"p-columnFilter",46),e.qZA()(),e.TgZ(5,"th",44)(6,"div",45),e._uU(7," Campus "),e._UZ(8,"p-columnFilter",47),e.qZA()(),e.TgZ(9,"th",44)(10,"div",45),e._uU(11," Office "),e._UZ(12,"p-columnFilter",48),e.qZA()(),e.TgZ(13,"th",44)(14,"div",45),e._uU(15," Goal "),e._UZ(16,"p-columnFilter",49),e.qZA()(),e.TgZ(17,"th",44)(18,"div",45),e._uU(19," Goal Budget "),e._UZ(20,"p-columnFilter",50),e.qZA()(),e.TgZ(21,"th",44)(22,"div",45),e._uU(23," Functional Objective "),e._UZ(24,"p-columnFilter",51),e.qZA()(),e.TgZ(25,"th",44)(26,"div",45),e._uU(27," Performance Indicator "),e._UZ(28,"p-columnFilter",52),e.qZA()(),e.TgZ(29,"th",44)(30,"div",45),e._uU(31," Target "),e._UZ(32,"p-columnFilter",53),e.qZA()(),e.TgZ(33,"th",44)(34,"div",45),e._uU(35," Programs "),e._UZ(36,"p-columnFilter",54),e.qZA()(),e.TgZ(37,"th",44)(38,"div",45),e._uU(39," Responsible Persons "),e._UZ(40,"p-columnFilter",55),e.qZA()(),e.TgZ(41,"th",44)(42,"div",45),e._uU(43," Clients "),e._UZ(44,"p-columnFilter",56),e.qZA()(),e.TgZ(45,"th",44)(46,"div",45),e._uU(47," Timetable "),e._UZ(48,"p-columnFilter",57),e.qZA()(),e.TgZ(49,"th",58)(50,"div",45),e._uU(51," Frequency Monitoring "),e._UZ(52,"p-columnFilter",59),e.qZA()(),e.TgZ(53,"th",44)(54,"div",45),e._uU(55," Data Source "),e._UZ(56,"p-columnFilter",60),e.qZA()(),e.TgZ(57,"th",44)(58,"div",45),e._uU(59," Budget "),e._UZ(60,"p-columnFilter",61),e.qZA()(),e.TgZ(61,"th",44)(62,"div",45),e._uU(63," Created At "),e._UZ(64,"p-columnFilter",62),e.qZA()(),e.TgZ(65,"th",44)(66,"div",45),e._uU(67," Submitted "),e._UZ(68,"p-columnFilter",63),e.qZA()(),e.TgZ(69,"th",64)(70,"div",45),e._uU(71," Files "),e._UZ(72,"p-columnFilter",65),e.qZA()(),e.TgZ(73,"th",66)(74,"div",45),e._uU(75," Options "),e.qZA()()())}function Ci(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"titlecase"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"titlecase"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"peso"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"titlecase"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.ALo(21,"titlecase"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.ALo(24,"titlecase"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.ALo(27,"titlecase"),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.ALo(30,"titlecase"),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.ALo(33,"titlecase"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.ALo(36,"date"),e.ALo(37,"date"),e.qZA(),e.TgZ(38,"td"),e._uU(39),e.ALo(40,"titlecase"),e.qZA(),e.TgZ(41,"td"),e._uU(42),e.ALo(43,"titlecase"),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.ALo(46,"peso"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.ALo(49,"date"),e.qZA(),e.TgZ(50,"td")(51,"p-button",67),e.NdJ("loadingChange",function(n){const r=e.CHM(t).rowIndex,v=e.oxw();return e.KtG(v.onclickCompletionButton[r]=n)})("click",function(n){const a=e.CHM(t),r=a.$implicit,v=a.rowIndex,g=e.oxw();return e.KtG(g.updateObjectiveComplete(n,r,v,null==r?null:r.complete))}),e.qZA(),e._UZ(52,"p-confirmPopup",68,69),e.qZA(),e.TgZ(54,"td")(55,"div",70)(56,"i",71),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.viewFiles(a))}),e.qZA(),e._uU(57," \xa0 \xa0 "),e.TgZ(58,"i",72),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.viewFilesHistory(a))}),e.qZA()()(),e.TgZ(59,"td")(60,"div",73)(61,"i",74),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.updateSubGoal(a))}),e.qZA(),e.TgZ(62,"i",75),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteSubGoal(null==a?null:a.id,null==a?null:a.goalId))}),e.qZA(),e._UZ(63,"p-confirmPopup",76),e.qZA()()()}if(2&o){const t=s.$implicit,i=s.rowIndex,n=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,23,null==t?null:t.users.username)," "),e.xp6(3),e.hij(" ",e.lcZ(6,25,null==t?null:t.goals.campus)," "),e.xp6(3),e.hij(" ",e.lcZ(9,27,null==t?null:t.users.department)," "),e.xp6(3),e.hij(" ",e.lcZ(12,29,null==t?null:t.goals.goals)," "),e.xp6(3),e.hij(" ",e.lcZ(15,31,null==t?null:t.goals.budget)," "),e.xp6(3),e.hij(" ",e.lcZ(18,33,null==t?null:t.functional_objective)," "),e.xp6(3),e.hij(" ",e.lcZ(21,35,null==t?null:t.performance_indicator)," "),e.xp6(3),e.hij(" ",e.lcZ(24,37,null==t?null:t.target)," "),e.xp6(3),e.hij(" ",e.lcZ(27,39,null==t?null:t.formula)," "),e.xp6(3),e.hij(" ",e.lcZ(30,41,null==t?null:t.responsible_persons)," "),e.xp6(3),e.hij(" ",e.lcZ(33,43,null==t?null:t.clients)," "),e.xp6(3),e.AsE(" ",e.xi3(36,45,null==t?null:t.timetable[0],"shortDate")," - ",e.xi3(37,48,null==t?null:t.timetable[1],"shortDate")," "),e.xp6(4),e.hij(" ",e.lcZ(40,51,null==t?null:t.frequency_monitoring)," "),e.xp6(3),e.hij(" ",e.lcZ(43,53,null==t?null:t.data_source)," "),e.xp6(3),e.hij(" ",e.lcZ(46,55,null==t?null:t.budget)," "),e.xp6(3),e.hij(" ",e.xi3(49,57,null==t?null:t.createdAt,"mediumDate")," "),e.xp6(3),e.Q6J("text",!0)("raised",!0)("severity",null!=t&&t.complete?"success":"warning")("icon",null!=t&&t.complete?"pi pi-check":"pi pi-times")("label",null!=t&&t.complete?"Yes":"No")("loading",n.onclickCompletionButton[i])}}function xi(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",77),e._uU(2,"No Objectives found."),e.qZA()())}function Zi(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",77),e._uU(2," Loading Objectives data. Please wait. "),e.qZA()())}function Ai(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",78),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(17);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"p-button",79),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addFiles())}),e.qZA(),e.TgZ(3,"span",40),e._UZ(4,"i",41),e.TgZ(5,"input",80,43),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(17);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.blockedPanel),e.xp6(1),e.Q6J("disabled",t.blockedPanel)("outlined",!0),e.xp6(3),e.Q6J("disabled",t.blockedPanel)}}function yi(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",44)(2,"div",45),e._uU(3," File "),e.qZA()(),e.TgZ(4,"th",44)(5,"div",45),e._uU(6," Date Added "),e.qZA()(),e.TgZ(7,"th",66)(8,"div",45),e._uU(9," Options "),e.qZA()()())}function Oi(o,s){1&o&&e._UZ(0,"i",85)}function Ti(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"i",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw();return e.KtG(a.deleteSubGoalFile(n.id,n.source))}),e.qZA()}}function ji(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td")(2,"a",81),e._UZ(3,"i",82),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td")(8,"div",73),e.YNc(9,Oi,1,0,"i",83)(10,Ti,1,0),e._UZ(11,"p-confirmPopup",84),e.qZA()()()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Q6J("href",i.auth.domain+"/images/files/"+t.source,e.LSH),e.xp6(1),e.Q6J("ngClass",i.getIcon(t.source.split(".").pop().toLowerCase())),e.xp6(2),e.hij(" ",e.xi3(6,4,t.date_added,"mediumDate")," "),e.xp6(4),e.um2(9,i.blockedPanel?9:10)}}function wi(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",77),e._uU(2,"No Files found."),e.qZA()())}function Gi(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",77),e._uU(2,"Loading Files data. Please wait."),e.qZA()())}function Di(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideViewFileDialogCard())}),e.qZA()}2&o&&e.Q6J("text",!0)}function qi(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",39),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),a=e.MAs(17);return e.KtG(n.clear(a))}),e.qZA(),e.TgZ(2,"span",40),e._UZ(3,"i",41),e.TgZ(4,"input",42,43),e.NdJ("input",function(n){e.CHM(t);const a=e.oxw(),r=e.MAs(17);return e.KtG(a.onGlobalFilter(r,n))}),e.qZA()()()}}function Mi(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",44)(2,"div",45),e._uU(3," File "),e.qZA()(),e.TgZ(4,"th",44)(5,"div",45),e._uU(6," Date Added "),e.qZA()(),e.TgZ(7,"th",44)(8,"div",45),e._uU(9," Date Deleted "),e.qZA()(),e.TgZ(10,"th",44)(11,"div",45),e._uU(12," Status "),e.qZA()()())}function Ui(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td")(2,"a",81),e._UZ(3,"i",82),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"td")(12,"span"),e._uU(13),e.qZA()()()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(2),e.Q6J("href",i.auth.domain+"/images/files/"+t.source,e.LSH),e.xp6(1),e.Q6J("ngClass",i.getIcon(t.source.split(".").pop().toLowerCase())),e.xp6(2),e.hij(" ",e.xi3(6,9,t.date_added,"medium")," "),e.xp6(3),e.Tol("cursor-pointer  customer-badge status-"+(t.status?"active":"inactive")),e.xp6(1),e.hij(" ",e.xi3(10,12,t.updatedAt,"medium"),""),e.xp6(3),e.Tol("cursor-pointer  customer-badge status-"+(t.status?"active":"inactive")),e.xp6(1),e.Oqu(t.status?"Active":"Deleted")}}function Pi(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",77),e._uU(2,"No Files found."),e.qZA()())}function Fi(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",77),e._uU(2,"Loading Files data. Please wait."),e.qZA()())}function ki(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"p-button",86),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.hideViewFileHistoryDialogCard())}),e.qZA()}2&o&&e.Q6J("text",!0)}const Si=()=>["users.username","goals.campus","users.department","goals.goals","goals.budget","functional_objective","performance_indicator","target","formula","programs","department","responsible_persons","clients","timetable","frequency_monitoring","data_source","budget","createdAt","Files","options"],Ze=()=>({"min-width":"50rem"}),ke=()=>({width:"60rem"}),he=()=>({"1199px":"75vw","575px":"90vw"}),Se=()=>["name","code","options"],Ie=()=>({width:"50rem"});let Ii=(()=>{class o{constructor(t,i,n,a,r,v,g,M){this.obj=t,this.messageService=i,this.confirmationService=n,this.dialogService=a,this.fileService=r,this.formBuilder=v,this.auth=g,this.goal=M,this.objectiveSubscription=new G.x,this.objectives=[],this.objectiveDatas=[],this.onclickCompletionButton=[],this.AllObjectivesFiles=[],this.uploadedFiles=[],this.AllObjectivesHistoryFiles=[],this.loading=!0,this.addObjectiveGoalDialogCard=!1,this.USERID=this.auth.getTokenUserID(),this.getAllobjectivesGoalsUsers()}ngOnInit(){this.getAllobjectivesGoalsUsers(),this.createaddFileForm(),this.dropdwonSelection=[{name:"daily",code:"Daily"},{name:"weekly",code:"Weekly"},{name:"monthly",code:"Monthly"},{name:"yearly",code:"Yearly"},{name:"quarterly",code:"Quarterly"},{name:"biannually",code:"Biannually"}],this.createAddObjectiveGoalform(),this.formGroupDropdown=new l.cw({selectedDropdown:new l.NI})}createaddFileForm(){this.addFileForm=this.formBuilder.group({files:["",[l.kI.required]]})}getAllobjectives(){this.loading=!0,this.obj.getRoute("get","objectives","getAllObjectives").pipe((0,u.R)(this.objectiveSubscription)).subscribe(t=>{this.objectiveDatas=t.Objectives;for(let i=0;i<this.objectiveDatas.length;i++)this.onclickCompletionButton[i]=!1;this.loading=!1})}getAllobjectivesGoalsUsers(){this.loading=!0,this.obj.getRoute("get","objectives","getAllByIdObjectivesWithGoalsAndUsers").pipe((0,u.R)(this.objectiveSubscription)).subscribe(t=>{this.objectiveDatas=t.data,this.loading=!1})}createAddObjectiveGoalform(){this.addObjectiveGoalform=this.formBuilder.group({userId:["",[l.kI.required]],goalId:["",[l.kI.required]],functional_objective:["",[l.kI.required]],performance_indicator:["",[l.kI.required]],target:["",[l.kI.required]],formula:["",[l.kI.required]],programs:["",[l.kI.required]],responsible_persons:["",[l.kI.required]],clients:["",[l.kI.required]],timetable:["",[l.kI.required]],frequency_monitoring:["",[l.kI.required]],data_source:["",[l.kI.required]],budget:["",[l.kI.required]]})}updateObjectiveComplete(t,i,n=0,a){var r=this;this.onclickCompletionButton[n]=!0,this.confirmationService.confirm({key:"updateObjectiveComplete",target:t.target,message:`Marking Objective ${a?"as Incomplete":" as Complete? Will Lock Files"}, Are You Sure?`,header:"Confirmation",icon:"pi pi-exclamation-triangle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.loading=!0,this.obj.getRoute("put","objectives","updateobjectivecompletion",{id:i.id}).pipe((0,u.R)(this.objectiveSubscription)).subscribe(function(){var g=(0,O.Z)(function*(M){M.success?(r.messageService.add({severity:"success  ",summary:"Done",detail:M.message,life:5e3}),r.getAllobjectivesGoalsUsers(),r.loading=!1):r.messageService.add({severity:"error  ",summary:"Error",detail:M.message})});return function(M){return g.apply(this,arguments)}}()),this.onclickCompletionButton[n]=!1},reject:()=>{this.onclickCompletionButton[n]=!1,this.messageService.add({severity:"info",summary:"Done",detail:"Nothing happens",life:3e3})}})}viewFiles(t){var i=this;return(0,O.Z)(function*(){i.blockedPanel=t.complete,i.viewObjectiveFileDialogCard=!0,i.objectiveIDforFile=t.id,i.getAllFilesFromObjectiveLoad(i.USERID,t.id)})()}hideViewFileDialogCard(){this.objectiveIDforFile=null,this.viewObjectiveFileDialogCard=!1}addFiles(t){this.addObjectiveFileDialogCard=!0}getAllFilesFromObjectiveLoad(t,i){var n=this;return(0,O.Z)(function*(){return n.loading=!0,n.fileService.getAllFilesFromObjective(t,i).pipe((0,u.R)(n.objectiveSubscription)).subscribe(a=>{n.AllObjectivesFiles=a.data,n.loading=!1}),!0})()}onUpload(t){for(const i of t.files)this.uploadedFiles.push(i);this.validateFileType(this.uploadedFiles)||(this.messageService.add({severity:"error",summary:"File Unsupported",detail:"Unsupported file type! Please select only images, documents, or spreadsheets"}),t.preventDefault()),this.fileService.addMultipleFiles(this.USERID,this.objectiveIDforFile,this.uploadedFiles).pipe((0,u.R)(this.objectiveSubscription)).subscribe(i=>{this.AllObjectivesFiles=[],this.getAllFilesFromObjectiveLoad(this.USERID,this.objectiveIDforFile),i.success?(this.messageService.add({severity:"success  ",summary:"View the files",detail:"Files added successfully"}),this.addObjectiveFileDialogCard=!1,this.addFileForm.reset(),this.uploadedFiles=[],this.viewObjectiveFileDialogCard=!1):this.messageService.add({severity:"error  ",summary:"Error",detail:i.message})})}clearAddObjectiveGoalDialogCardDatas(){this.addObjectiveGoalDialogCard=!1,this.updateObjectiveGoalFlag=!1,this.tobeUpdatedSubGoal=null,this.addObjectiveGoalform.reset()}updateSubGoal(t){this.tobeUpdatedSubGoal=t.id,this.addObjectiveGoalform.reset(),this.updateObjectiveGoalFlag=!0,this.addObjectiveGoalDialogCard=!0,this.formGroupDropdown.setValue({selectedDropdown:this.dropdwonSelection.find(i=>i.name===t.frequency_monitoring)||{name:"daily",code:"Daily"}}),this.addObjectiveGoalform.patchValue({userId:t.userId,goalId:t.goalId,functional_objective:t.functional_objective,performance_indicator:t.performance_indicator,target:t.target,formula:t.formula,programs:t.programs,responsible_persons:t.responsible_persons,clients:t.clients,timetable:[new Date(t.timetable[0]),new Date(t.timetable[1])],frequency_monitoring:t.frequency_monitoring,data_source:t.data_source,budget:t.budget})}updateSubObjectiveGoalDialogExec(t){this.loading=!0,t.value.id=this.tobeUpdatedSubGoal,t.value.frequency_monitoring=this.formGroupDropdown.value.selectedDropdown.name,this.obj.getRoute("put","objectives","updateObjectives",t.value).pipe((0,u.R)(this.objectiveSubscription)).subscribe(i=>{i.success?(this.getAllobjectivesGoalsUsers(),this.getAllFilesFromObjectiveLoad(this.USERID,this.objectiveIDforFile),this.addObjectiveGoalDialogCard=!1,this.messageService.add({severity:"success  ",summary:"Done",detail:i.message}),this.loading=!1):this.messageService.add({severity:"error  ",summary:"Error",detail:i.message})})}validateFileType(t){const i=["image/jpeg","image/png","image/svg+xml","image/gif","image/x-jif","image/x-jiff","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/csv","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain","application/zip","image/x-photoshop","image/vnd.dxf","audio/mpeg","audio/wav","audio/aac"];for(const n of t)if(!i.includes(n.type))return console.log(`Invalid file type: ${n.type}`),!1;return!0}viewFilesHistory(t){this.viewObjectiveFileHistoryDialogCard=!0,this.getAllFilesHistoryFromObjectiveLoad(this.USERID,t.id)}getAllFilesHistoryFromObjectiveLoad(t,i){var n=this;return(0,O.Z)(function*(){return n.loading=!0,n.fileService.getAllFilesHistoryFromObjectiveLoad(t,i).pipe((0,u.R)(n.objectiveSubscription)).subscribe(a=>{n.AllObjectivesHistoryFiles=a.data,n.loading=!1}),!0})()}hideViewFileHistoryDialogCard(){this.viewObjectiveFileHistoryDialogCard=!1}getIcon(t){switch(t.split(".").pop()){case"jpg":case"jpeg":case"png":case"gif":case"svg":case"psd":case"dxf":return"pi pi-image";case"doc":case"docx":case"rtf":return"pi pi-file-word";case"pdf":return"pi pi-file-pdf";case"xls":case"xlsx":return"pi pi-file-excel";case"csv":return"pi pi-file-csv";case"ppt":case"pptx":return"pi pi-file-powerpoint";case"txt":return"pi pi-ticket";case"zip":return"pi pi-file-zip";case"mp3":case"wav":case"aac":return"pi pi-volume-up";default:return"pi pi-file"}}deleteSubGoal(t,i){this.confirmationService.confirm({key:"deleteSubGoal",target:event.target||new EventTarget,message:"Deleting Objectives Will Delete All Files. Continue?",icon:"pi pi-exclamation-triangle",accept:()=>{this.loading=!0,this.goal.getRoute("put","objectives","setInactiveObjectives",{id:t}).pipe((0,u.R)(this.objectiveSubscription)).subscribe(n=>{n.success?(this.getAllobjectives(),this.loading=!1,this.messageService.add({severity:"success  ",summary:"Done",detail:n.message})):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}})}deleteSubGoalFile(t,i){this.confirmationService.confirm({key:"deleteSubGoalFile",target:event.target||new EventTarget,message:"Delete File",icon:"pi pi-exclamation-triangle",accept:()=>{this.fileService.deleteFileObjective({id:t,source:i}).pipe((0,u.R)(this.objectiveSubscription)).subscribe(n=>{n.success?(this.getAllobjectives(),this.messageService.add({severity:"success  ",summary:"Done",detail:n.message}),this.viewObjectiveFileDialogCard=!1):this.messageService.add({severity:"error  ",summary:"Error",detail:n.message})})}})}clear(t){t.clear(),this.filter.nativeElement.value=""}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}ngOnDestroy(){this.objectiveSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(A.v),e.Y36(x.ez),e.Y36(x.YP),e.Y36(hi.xA),e.Y36(se.I),e.Y36(l.qu),e.Y36(H.e),e.Y36(D.O))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-objectives"]],viewQuery:function(i,n){if(1&i&&e.Gf(_i,5),2&i){let a;e.iGM(a=e.CRH())&&(n.filter=a.first)}},decls:92,vars:79,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"add-user-heading"],[1,"text-xl","font-medium","mt-2","text-slate-950"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rows","loading","rowHover","paginator","globalFilterFields","tableStyle"],["dt2",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["responsiveLayout","stack","position","top",3,"header","modal","visible","breakpoints","maximizable","closable","visibleChange"],["dt3",""],["pTemplate","footer"],["styleClass","addObjective","header","Drag and Drop Files","position","top",3,"visible","modal","breakpoints","visibleChange"],[1,"p-fluid"],[3,"formGroup"],["name","files","customUpload","true","multiple","true","maxFileSize","20000000","formControlName","files","ngDefaultControl","",3,"files","uploadHandler"],["styleClass","addObjective","position","top",3,"header","visible","modal","breakpoints","visibleChange","onHide"],[1,"field","col-10","md:col-10"],[1,"field"],["htmlFor","name1"],["pInputText","","id","functional_objective","autocomplete","off","formControlName","functional_objective","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","performance_indicator","autocomplete","off","formControlName","performance_indicator","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","target","autocomplete","off","formControlName","target","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","formula","autocomplete","off","formControlName","formula","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","programs","autocomplete","off","formControlName","programs","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","responsible_persons","autocomplete","off","formControlName","responsible_persons","required","",1,"flex-auto",3,"ngClass"],["pInputText","","id","clients","autocomplete","off","formControlName","clients","required","",1,"flex-auto",3,"ngClass"],["formControlName","timetable","selectionMode","range",3,"readonlyInput"],["htmlFor","department"],["formControlName","selectedDropdown","optionLabel","name","placeholder","Select a Frequency",3,"options"],["pInputText","","id","data_source","autocomplete","off","formControlName","data_source","required","",1,"flex-auto",3,"ngClass"],["mode","decimal","formControlName","budget",3,"min","showButtons"],[1,"flex","justify-space-between","gap-2"],["label","Cancel","severity","secondary",3,"click"],[3,"label","click"],[1,"flex","justify-content-between","flex-column","sm:flex-row"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"click"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search Keyword",1,"p-inputtext","p-component","p-element","w-full",3,"input"],["filter",""],[2,"min-width","12rem"],[1,"flex","justify-content-between","align-items-center"],["type","text","field","users.username","display","menu","placeholder","Search by Created By"],["type","text","field","goals.campus","display","menu","placeholder","Search by Campus"],["type","text","field","users.department","display","menu","placeholder","Search by Office"],["type","text","field","goals.goals","display","menu","placeholder","Search by Office"],["type","text","field","goals.budget","display","menu","placeholder","Search by Goal Budget"],["type","text","field","functional_objective","display","menu","placeholder","Search by Functional Objective"],["type","text","field","performance_indicator","display","menu","placeholder","Search by Performance Indicator"],["type","text","field","target","display","menu","placeholder","Search by Target"],["type","text","field","programs","display","menu","placeholder","Search by Programs"],["type","text","field","responsible_persons","display","menu","placeholder","Search by Responsible Persons"],["type","text","field","clients","display","menu","placeholder","Search by Clients"],["type","text","field","timetable","display","menu","placeholder","Search by Timetable"],[2,"min-width","4rem"],["type","text","field","frequency_monitoring","display","menu","placeholder","Search by Frequency Monitoring"],["type","text","field","data_source","display","menu","placeholder","Search by Data Source"],["type","text","field","budget","display","menu","placeholder","Search by Budget"],["type","text","field","createdAt","display","menu","placeholder","eg. 2024-06-28"],["type","text","field","complete","display","menu","placeholder","Search by Completion"],[2,"min-width","6rem"],["type","text","field","createdAt","display","menu","placeholder","Search by Files"],[2,"min-width","9rem"],[3,"text","raised","severity","icon","label","loading","loadingChange","click"],["key","updateObjectiveComplete"],["confirmPopupRef",""],[1,"flex","flex-row","align-items-center"],["pTooltip","File List","tooltipPosition","top",1,"pi","pi-folder","text-2xl","hover:text-4xl","text-yellow-400","transition","ease-in-out","duration-200","hover:pi-folder-open","cursor-pointer",3,"click"],["pTooltip","File History","tooltipPosition","top",1,"pi","pi-cog","text-2xl","hover:text-4xl","text-yellow-400","transition","ease-in-out","duration-200","hover:pi-cog","cursor-pointer",3,"click"],[1,"options-users"],[1,"pi","pi-file-edit","text-xl",2,"color","#0ea5e9","cursor","pointer",3,"click"],[1,"pi","pi-trash","text-xl",2,"color","#ef4444","cursor","pointer",3,"click"],["key","deleteSubGoal"],["colspan","8"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined","mb-2",3,"disabled","click"],["icon","pi pi-upload","severity","success","pTooltip","Add Files","tooltipPosition","top",3,"disabled","outlined","click"],["pInputText","","type","text","placeholder","Search Keyword",1,"p-inputtext","p-component","p-element","w-full",3,"disabled","input"],["target","_blank",3,"href"],[1,"text-4xl",3,"ngClass"],["class","pi pi-trash text-xl","style","color: #868585"],["key","deleteSubGoalFile"],[1,"pi","pi-trash","text-xl",2,"color","#868585"],["label","Cancel","severity","secondary",3,"text","click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"Objectives"),e.qZA()(),e.TgZ(6,"p-table",5,6),e.YNc(8,bi,6,0,"ng-template",7)(9,vi,76,0,"ng-template",8)(10,Ci,64,60,"ng-template",9)(11,xi,3,0,"ng-template",10)(12,Zi,3,0,"ng-template",11),e.qZA()()()(),e.TgZ(13,"p-dialog",12),e.NdJ("visibleChange",function(r){return n.viewObjectiveFileDialogCard=r}),e.TgZ(14,"div",0)(15,"div",1)(16,"p-table",5,13),e.YNc(18,Ai,7,4,"ng-template",7)(19,yi,10,0,"ng-template",8)(20,ji,12,7,"ng-template",9)(21,wi,3,0,"ng-template",10)(22,Gi,3,0,"ng-template",11),e.qZA()()(),e.YNc(23,Di,1,1,"ng-template",14),e.qZA(),e.TgZ(24,"p-dialog",15),e.NdJ("visibleChange",function(r){return n.addObjectiveFileDialogCard=r}),e.TgZ(25,"div",16)(26,"form",17)(27,"p-fileUpload",18),e.NdJ("uploadHandler",function(r){return n.onUpload(r)}),e.qZA()()(),e._uU(28," \xa0\xa0\n"),e.qZA(),e.TgZ(29,"p-dialog",19),e.NdJ("visibleChange",function(r){return n.addObjectiveGoalDialogCard=r})("onHide",function(){return n.clearAddObjectiveGoalDialogCardDatas()}),e.TgZ(30,"div",16)(31,"div",20)(32,"form",17)(33,"div",21)(34,"label",22),e._uU(35,"Functional Objective"),e.qZA(),e._UZ(36,"input",23),e.qZA(),e.TgZ(37,"div",21)(38,"label",22),e._uU(39,"Performance Indicator"),e.qZA(),e._UZ(40,"input",24),e.qZA(),e.TgZ(41,"div",21)(42,"label",22),e._uU(43,"Target"),e.qZA(),e._UZ(44,"input",25),e.qZA(),e.TgZ(45,"div",21)(46,"label",22),e._uU(47,"Formula"),e.qZA(),e._UZ(48,"input",26),e.qZA(),e.TgZ(49,"div",21)(50,"label",22),e._uU(51,"Programs"),e.qZA(),e._UZ(52,"input",27),e.qZA(),e.TgZ(53,"div",21)(54,"label",22),e._uU(55,"Responsible Persons"),e.qZA(),e._UZ(56,"input",28),e.qZA(),e.TgZ(57,"div",21)(58,"label",22),e._uU(59,"Clients"),e.qZA(),e._UZ(60,"input",29),e.qZA(),e.TgZ(61,"div",21)(62,"label",22),e._uU(63,"Timetable"),e.qZA(),e._UZ(64,"p-calendar",30),e.qZA(),e.TgZ(65,"div",21)(66,"label",31),e._uU(67,"Frequency Monitoring"),e.qZA(),e.TgZ(68,"form",17),e._UZ(69,"p-dropdown",32),e.qZA()(),e.TgZ(70,"div",21)(71,"label",22),e._uU(72,"Means of Verification(Data Source)"),e.qZA(),e._UZ(73,"input",33),e.qZA(),e.TgZ(74,"div",21)(75,"label",22),e._uU(76," budget "),e.qZA(),e._UZ(77,"p-inputNumber",34),e.qZA()()()(),e.TgZ(78,"div",35)(79,"p-button",36),e.NdJ("click",function(){return n.clearAddObjectiveGoalDialogCardDatas()}),e.qZA(),e.TgZ(80,"p-button",37),e.NdJ("click",function(){return n.updateSubObjectiveGoalDialogExec(n.addObjectiveGoalform)}),e.qZA()()(),e.TgZ(81,"p-dialog",12),e.NdJ("visibleChange",function(r){return n.viewObjectiveFileHistoryDialogCard=r}),e.TgZ(82,"div",0)(83,"div",1)(84,"p-table",5,13),e.YNc(86,qi,6,0,"ng-template",7)(87,Mi,13,0,"ng-template",8)(88,Ui,14,15,"ng-template",9)(89,Pi,3,0,"ng-template",10)(90,Fi,3,0,"ng-template",11),e.qZA()()(),e.YNc(91,ki,1,1,"ng-template",14),e.qZA()),2&i&&(e.xp6(6),e.Q6J("value",n.objectiveDatas)("rows",10)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(65,Si))("tableStyle",e.DdM(66,Ze)),e.xp6(7),e.Akn(e.DdM(67,ke)),e.Q6J("header",n.blockedPanel?"Files Locked: Objective Marked Complete":"File List")("modal",!0)("visible",n.viewObjectiveFileDialogCard)("breakpoints",e.DdM(68,he))("maximizable",!0)("closable",!1),e.xp6(3),e.Q6J("value",n.AllObjectivesFiles)("rows",5)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(69,Se))("tableStyle",e.DdM(70,Ze)),e.xp6(8),e.Akn(e.DdM(71,Ie)),e.Q6J("visible",n.addObjectiveFileDialogCard)("modal",!0)("breakpoints",e.DdM(72,he)),e.xp6(2),e.Q6J("formGroup",n.addFileForm),e.xp6(1),e.Q6J("files",n.uploadedFiles),e.xp6(2),e.Akn(e.DdM(73,Ie)),e.Q6J("header","Add  Objectives")("visible",n.addObjectiveGoalDialogCard)("modal",!0)("breakpoints",e.DdM(74,he)),e.xp6(3),e.Q6J("formGroup",n.addObjectiveGoalform),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("functional_objective").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.functional_objective.errors&&n.addObjectiveGoalform.controls.functional_objective.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("performance_indicator").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.performance_indicator.errors&&n.addObjectiveGoalform.controls.performance_indicator.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("target").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.target.errors&&n.addObjectiveGoalform.controls.target.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("formula").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.formula.errors&&n.addObjectiveGoalform.controls.formula.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("programs").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.programs.errors&&n.addObjectiveGoalform.controls.programs.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("responsible_persons").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.responsible_persons.errors&&n.addObjectiveGoalform.controls.responsible_persons.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("clients").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.clients.errors&&n.addObjectiveGoalform.controls.clients.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("readonlyInput",!0),e.xp6(4),e.Q6J("formGroup",n.formGroupDropdown),e.xp6(1),e.Q6J("options",n.dropdwonSelection),e.xp6(4),e.Q6J("ngClass",null!=n.addObjectiveGoalform&&n.addObjectiveGoalform.get("data_source").touched&&null!=n.addObjectiveGoalform&&null!=n.addObjectiveGoalform.controls.data_source.errors&&n.addObjectiveGoalform.controls.data_source.errors.required?"ng-invalid ng-dirty":""),e.xp6(4),e.Q6J("min",0)("showButtons",!0),e.xp6(3),e.Q6J("label",n.updateObjectiveGoalFlag?"Update":"Save"),e.xp6(1),e.Akn(e.DdM(75,ke)),e.Q6J("header","File History List")("modal",!0)("visible",n.viewObjectiveFileHistoryDialogCard)("breakpoints",e.DdM(76,he))("maximizable",!0)("closable",!1),e.xp6(3),e.Q6J("value",n.AllObjectivesHistoryFiles)("rows",5)("loading",n.loading)("rowHover",!0)("paginator",!0)("globalFilterFields",e.DdM(77,Se))("tableStyle",e.DdM(78,Ze)))},dependencies:[b.mk,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,ge.u,c.iA,x.jx,c.xl,J.Hq,J.zx,W.V,fi.f,ee.o,m.Lt,de.Rn,be.P,ve.p,b.rS,b.uU,C.vZ],styles:['@charset "UTF-8";.options-users[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}.customer-badge.status-active[_ngcontent-%COMP%]{background:#c8e6c9;color:#256029}.customer-badge.status-inactive[_ngcontent-%COMP%]{background:#ffcdd2;color:#c63737}.customer-badge.status-pending[_ngcontent-%COMP%]{background:#ffd8b2;color:#805b36}  .p-dialog-content{overflow-y:visible!important}  .footer-button{display:flex;justify-content:space-evenly}.add-user-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0 0 1.5rem}  .footer-button{gap:8rem!important}  .addObjective{overflow-y:auto}  .pi-folder:hover{transform:scale(1.2)}  .hover\\:pi-folder-open:hover:before{content:"\\1f4c2"}  .hover\\:pi-cog:hover:before{content:"\\2699\\fe0f"}  .p-fileupload-row>div:first-child{display:none!important}  .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background:#41c5b7}  .p-overlaypanel .p-overlaypanel-content{padding:0!important}  p-panel{width:100%!important;z-index:9999999999}  .p-blockui{z-index:9999999999;top:0;left:0;width:100%;height:100%;background-color:transparent;transition-property:background-color;align-items:center;justify-content:center}  .p-blockui.p-component-overlay{position:absolute;display:flex}']})}return o})();var Ne=d(3491),Ni=d(949),Ee=d(3380);const Ei=["messageInput"],Ji=["messagesContent"];function Li(o,s){1&o&&(e.TgZ(0,"div",18),e._UZ(1,"span"),e.qZA())}const Ri=(o,s,t,i)=>({"message-personal":o,"message-ai":s,loading:t,"greeting-message":i});function Qi(o,s){if(1&o&&(e.TgZ(0,"div",14),e._UZ(1,"markdown",15),e.ALo(2,"async"),e.ALo(3,"markdown"),e._UZ(4,"div",16),e.YNc(5,Li,2,0,"div",17),e.qZA()),2&o){const t=s.$implicit;e.Q6J("ngClass",e.l5B(7,Ri,t.isPersonal,!t.isPersonal,t.isLoading,!t.isPersonal&&t.text.includes("Chmsu QOAP"))),e.xp6(1),e.Q6J("data",e.lcZ(2,3,e.lcZ(3,5,t.text))),e.xp6(4),e.Q6J("ngIf",t.isLoading)}}let Hi=(()=>{class o{constructor(t,i){this.chatService=t,this.auth=i,this.messages=[],this.newMessageText="",this.getAisub=new G.x,this.initialGreetingShown=!1,this.userId=this.auth.getTokenUserID()}ngOnInit(){this.getAllMessages(),this.cities=[{name:"New Chat",code:"newChat"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}]}showInitialGreeting(){this.initialGreetingShown||(this.messages.push({text:"Hey there! \u{1f44b} I'm your CHMSU QOAP Assistant, here to help you reach for the stars! \u2728 Let's set some awesome goals together. \u{1f680}",isPersonal:!1,isLoading:!1}),this.initialGreetingShown=!0)}getAllMessages(){var t=this;return(0,O.Z)(function*(){t.chatService.getRoute("get","ai",`get-all-chat/${t.userId}`).pipe((0,u.R)(t.getAisub)).subscribe(i=>{i.chats.map(n=>{t.messages.push({text:n.prompt,isPersonal:!0,isLoading:!1,mark:(0,Ne.TU)(n.prompt)}),t.messages.push({text:n.responseAi,isPersonal:!1,isLoading:!1,mark:(0,Ne.TU)(n.responseAi)})}),t.scrollToBottom(),t.showInitialGreeting()}),t.scrollToBottom()})()}sendMessage(){let t="";""!==this.newMessageText.trim()&&(this.messages.push({text:this.newMessageText,isPersonal:!0}),t=this.newMessageText,this.newMessageText=null,this.messages.push({text:"",isPersonal:!1,isLoading:!0}),this.chatService.getRoute("post","ai","chat-with-gemini",{message:t,newChat:this.newChatFlag,userId:this.auth.getTokenUserID()}).pipe((0,u.R)(this.getAisub)).subscribe(i=>{this.messages.pop(),this.messages.push({text:i.response,isPersonal:!1,isLoading:!1}),t="",this.newChatFlag=!1,this.scrollToBottom()}))}scrollToBottom(){this.messagesContent?.nativeElement&&(this.messagesContent.nativeElement.scrollTop=this.messagesContent.nativeElement.scrollHeight)}ngAfterViewChecked(){this.scrollToBottom()}ngOnDestroy(){this.getAisub.unsubscribe()}onEnter(t){this.sendMessage()}onCityChange(t){"newChat"===t.value.code?this.newChat():this.selectedCity=t.value}newChat(){this.messages=[],this.newChatFlag=!0,this.ngAfterViewChecked(),this.scrollToBottom()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(Ni.p),e.Y36(H.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-ai"]],viewQuery:function(i,n){if(1&i&&(e.Gf(Ei,5),e.Gf(Ji,5)),2&i){let a;e.iGM(a=e.CRH())&&(n.messageInput=a.first),e.iGM(a=e.CRH())&&(n.messagesContent=a.first)}},decls:16,vars:2,consts:[[1,"col-12"],[1,"card"],[1,"text-xs","font-italic","bg-[#dbdbdb]"],[1,"chat"],[1,"chat-title"],[1,"pi","pi-google"],[1,"messages"],["messagesContent",""],[1,"messages-content"],["class","message",3,"ngClass",4,"ngFor","ngForOf"],[1,"message-box",3,"keydown.enter"],["type","text","placeholder","Type message...",1,"message-input",3,"ngModel","ngModelChange"],["messageInput",""],[1,"message-submit",3,"click"],[1,"message",3,"ngClass"],[3,"data"],[1,"my-1"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3," Note: Dont post sensitive data"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4),e._UZ(6,"i",5),e.qZA(),e.TgZ(7,"div",6,7)(9,"div",8),e.YNc(10,Qi,6,12,"div",9),e.qZA()(),e.TgZ(11,"div",10),e.NdJ("keydown.enter",function(r){return n.onEnter(r)}),e.TgZ(12,"textarea",11,12),e.NdJ("ngModelChange",function(r){return n.newMessageText=r}),e.qZA(),e.TgZ(14,"button",13),e.NdJ("click",function(){return n.sendMessage()}),e._uU(15," Send "),e.qZA()()()()()),2&i&&(e.xp6(10),e.Q6J("ngForOf",n.messages),e.xp6(2),e.Q6J("ngModel",n.newMessageText))},dependencies:[b.mk,b.sg,b.O5,l.Fj,l.JJ,l.On,Ee.lF,b.Ov,C.NO],styles:['*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box;padding:0;margin:0}body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-size:12px;line-height:1.3;overflow:hidden}.layout-main-container[_ngcontent-%COMP%]{max-height:100dvh!important}.card[_ngcontent-%COMP%]{max-height:calc(100dvh - 180px);overflow:hidden}.chat[_ngcontent-%COMP%]{width:100%;height:calc(100dvh - 252px);z-index:2;overflow:hidden;background:#fff;display:flex;justify-content:space-between;flex-direction:column}.chat-title[_ngcontent-%COMP%]{flex:0 1 45px;position:relative;z-index:2;background:#dbdbdb;color:#444;text-transform:uppercase;text-align:left;padding:20px}.messages[_ngcontent-%COMP%]{flex:1 1 auto;color:#ffffff80;overflow:auto;position:relative;width:100%}.messages[_ngcontent-%COMP%]   .messages-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:101%;width:100%;padding:10px}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{clear:both;float:left;padding:10px 15px 7.5px;border-radius:10px 10px 10px 0;background:rgba(0,0,0,.3);font-size:14px;line-height:1.4;margin:8px 0 8px 20px;position:relative;text-shadow:0 1px 1px rgba(0,0,0,.2)}.messages[_ngcontent-%COMP%]   .message.timestamp[_ngcontent-%COMP%]{position:absolute;bottom:-15px;font-size:9px;color:#ffffff4d}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-6px;border-top:6px solid rgba(0,0,0,.3);left:0;border-right:7px solid transparent}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{position:absolute;z-index:1;bottom:-15px;left:-35px;border-radius:30px;width:30px;height:30px;overflow:hidden;margin:0;padding:0;border:2px solid rgba(255,255,255,.24)}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.messages[_ngcontent-%COMP%]   .message.message-personal[_ngcontent-%COMP%]{float:right;text-align:right;border-radius:10px 10px 0}.messages[_ngcontent-%COMP%]   .message.message-personal[_ngcontent-%COMP%]:before{left:auto;right:0;border-right:none;border-left:5px solid transparent;border-top:4px solid #9ff4ff;bottom:-4px}.messages[_ngcontent-%COMP%]   .message.message-ai[_ngcontent-%COMP%]{float:left;color:#444;text-align:left;border-radius:10px 10px 10px 0}.messages[_ngcontent-%COMP%]   .message.message-ai[_ngcontent-%COMP%]:before{right:auto;left:0;border-left:none;border-right:5px solid transparent;border-top:4px solid #f5f5f5;bottom:-4px}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]:last-child{margin-bottom:30px}.messages[_ngcontent-%COMP%]   .message.new[_ngcontent-%COMP%]{transform:scale(0);transform-origin:0 0;animation:_ngcontent-%COMP%_bounce .5s linear both}.messages[_ngcontent-%COMP%]   .message-personal[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]   .message-ai[_ngcontent-%COMP%]{float:none;margin-left:0}.messages[_ngcontent-%COMP%]   .message-personal[_ngcontent-%COMP%]{background-color:#9ff4ff;color:#006064;align-self:flex-end;text-align:left}.messages[_ngcontent-%COMP%]   .message-ai[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#212121;align-self:flex-start;text-align:left}.messages[_ngcontent-%COMP%]   .message.new[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .5s linear both}.messages[_ngcontent-%COMP%]   .message.loading[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);content:"";display:block;width:3px;height:3px;border-radius:50%;background:rgba(0,0,0,.8);z-index:2;margin-top:4px;animation:_ngcontent-%COMP%_ball .45s cubic-bezier(0,0,.15,1) alternate infinite;border:none;animation-delay:.15s}.messages[_ngcontent-%COMP%]   .message.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:0;width:20px;height:10px;position:relative}.messages[_ngcontent-%COMP%]   .message.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);content:"";display:block;width:3px;height:3px;border-radius:50%;background:rgba(0,0,0,.8);z-index:2;margin-top:4px;animation:_ngcontent-%COMP%_ball .45s cubic-bezier(0,0,.15,1) alternate infinite;margin-left:-7px}.messages[_ngcontent-%COMP%]   .message.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);content:"";display:block;width:3px;height:3px;border-radius:50%;background:rgba(0,0,0,.8);z-index:2;margin-top:4px;animation:_ngcontent-%COMP%_ball .45s cubic-bezier(0,0,.15,1) alternate infinite;margin-left:7px;animation-delay:.3s}.messages[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .messages-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.message-box[_ngcontent-%COMP%]{flex:0 1 40px;width:100%;background:rgba(0,0,0,.3);padding:10px 20px;position:relative;height:70px;display:flex;gap:10px}.message-box[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{background:white;border-radius:50px;border:none;outline:none!important;resize:none;color:#444;font-size:14px;height:100%;margin:0;display:flex;padding:15px 0 0 20px;width:100%}.message-box[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus:-webkit-placeholder{color:transparent}.message-box[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]{z-index:1;color:#fff;border:none;background-color:#248a52;font-size:14px;text-transform:uppercase;line-height:1;padding:0 20px;border-radius:10px;outline:none!important;transition:background .2s ease}.message-box[_ngcontent-%COMP%]   .message-submit[_ngcontent-%COMP%]:hover{background:#1d7745}.mCSB_scrollTools[_ngcontent-%COMP%]{margin:1px -3px 1px 0;opacity:0}.mCSB_inside[_ngcontent-%COMP%] > .mCSB_container[_ngcontent-%COMP%]{margin-right:0;padding:0 10px}.mCSB_scrollTools[_ngcontent-%COMP%]   .mCSB_dragger[_ngcontent-%COMP%]   .mCSB_dragger_bar[_ngcontent-%COMP%]{background-color:#00000080!important}@keyframes _ngcontent-%COMP%_bounce{0%{transform:scale3d(0,0,1)}4.7%{transform:scale3d(.45,.45,1)}9.41%{transform:scale3d(.883,.883,1)}14.11%{transform:scale3d(1.141,1.141,1)}18.72%{transform:scale3d(1.212,1.212,1)}24.32%{transform:scale3d(1.151,1.151,1)}29.93%{transform:scale3d(1.048,1.048,1)}35.54%{transform:scale3d(.979,.979,1)}41.04%{transform:scale3d(.961,.961,1)}52.15%{transform:scale3d(.991,.991,1)}63.26%{transform:scale3d(1.007,1.007,1)}85.49%{transform:scale3d(.999,.999,1)}to{transform:scaleZ(1)}}@keyframes _ngcontent-%COMP%_ball{0%{transform:translateY(0) scaleY(.8)}to{transform:translateY(-10px)}}.variable-binding[_ngcontent-%COMP%], .variable-textarea[_ngcontent-%COMP%]{width:49%}.variable-binding[_ngcontent-%COMP%]{display:block;float:right}.greeting-message[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:10px;border-radius:5px}']})}return o})();var Je=d(2495),Bi=d(6111),Yi=d(5932),$i=d(3023),Vi=d(1086);function zi(o,s){if(1&o&&(e.TgZ(0,"ul")(1,"li"),e._uU(2),e.qZA()()),2&o){const t=s.$implicit,i=s.index;e.xp6(2),e.AsE("",i+1," - ",t.title,"")}}function Ki(o,s){if(1&o&&(e.TgZ(0,"i"),e._uU(1),e.qZA(),e.TgZ(2,"i"),e._uU(3),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",t.event.image_url," "),e.xp6(2),e.AsE("",t.event.extendedProps.user," - ",t.event.title,"")}}function Wi(o,s){if(1&o&&(e.TgZ(0,"full-calendar",11),e.YNc(1,Ki,4,3,"ng-template",null,12,e.W1O),e.qZA()),2&o){const t=e.oxw();e.Q6J("options",t.calendarOptions())}}let Xi=(()=>{class o{constructor(t,i,n){this.changeDetector=t,this.obj=i,this.auth=n,this.COLORS=["#f06292","#ba68c8","#4dd0e1","#aed581","#ffca28"],this.calendarVisible=(0,e.tdS)(!0),this.objectiveSubscription=new G.x,this.calendarOptions=(0,e.tdS)({plugins:[Bi.ZP,Yi.Z,$i.Z,Vi.Z],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},initialView:"dayGridMonth",weekends:!0,editable:!1,selectable:!1,selectMirror:!0,dayMaxEvents:!1,select:this.handleDateSelect.bind(this),eventClick:this.handleEventClick.bind(this),eventsSet:this.handleEvents.bind(this)}),this.currentEvents=(0,e.tdS)([]),this.loading=!0}ngOnInit(){this.getAllobjectivesGoalsUsers()}getAllobjectivesGoalsUsers(){this.loading=!0,this.obj.getRoute("get","objectives","getObjectiveForCalendar").pipe((0,u.R)(this.objectiveSubscription)).subscribe(t=>{const i=this.transformEvents(t.data);this.updateCalendarEvents(i),this.loading=!1},t=>{console.error("Error fetching events",t),this.loading=!1})}transformEvents(t){return t.map(i=>({id:i.id,user:i.users.username,image_url:this.auth.domain+i.users.profile_pic,title:i.goals.goals,start:i.timetable[0],end:i.timetable[1],backgroundColor:i.backgroundColor||this.COLORS[Math.floor(Math.random()*this.COLORS.length)],borderColor:i.backgroundColor||this.COLORS[Math.floor(Math.random()*this.COLORS.length)],allDay:!0}))}updateCalendarEvents(t){this.calendarOptions.update(i=>({...i,events:t}))}ngOnDestroy(){this.objectiveSubscription.unsubscribe()}handleCalendarToggle(){this.calendarVisible.update(t=>!t)}handleWeekendsToggle(){this.calendarOptions.update(t=>({...t,weekends:!t.weekends}))}handleDateSelect(t){}handleEventClick(t){}handleEvents(t){this.currentEvents.set(t),this.changeDetector.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36(A.v),e.Y36(H.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-calendar"]],standalone:!0,features:[e.jDz],decls:14,vars:3,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"add-user-heading"],[1,"text-xl","font-medium","mt-2","text-slate-950"],[1,"demo-app"],[1,"demo-app-sidebar"],[1,"demo-app-sidebar-section"],[4,"ngFor","ngForOf"],[1,"demo-app-main"],[3,"options",4,"ngIf"],[3,"options"],["eventContent",""]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"Calendar"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h2"),e._uU(10),e.qZA(),e.YNc(11,zi,3,2,"ul",8),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,Wi,3,1,"full-calendar",10),e.qZA()()()()()()),2&i&&(e.xp6(10),e.hij("All Events (",n.currentEvents().length,")"),e.xp6(1),e.Q6J("ngForOf",n.currentEvents()),e.xp6(2),e.Q6J("ngIf",n.calendarVisible()))},dependencies:[b.ez,b.sg,b.O5,Je.z,Je.w],styles:["h2[_ngcontent-%COMP%]{margin:0;font-size:16px}ul[_ngcontent-%COMP%]{margin:0;padding:0 0 0 1.5em}li[_ngcontent-%COMP%]{margin:1.5em 0;padding:0}b[_ngcontent-%COMP%]{margin-right:3px}.demo-app[_ngcontent-%COMP%]{display:flex;min-height:100%;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:14px}.demo-app-sidebar[_ngcontent-%COMP%]{width:300px;line-height:1.5;background:#eaf9ff;border-right:1px solid #d3e2e8}.demo-app-sidebar-section[_ngcontent-%COMP%]{padding:2em}.demo-app-main[_ngcontent-%COMP%]{flex-grow:1;padding:3em}.fc[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto}.demo-app[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.demo-app-sidebar[_ngcontent-%COMP%]{width:100%!important}"]})}return o})();var eo=d(8840);let to=(()=>{class o{constructor(t,i){this.goalService=t,this.messageService=i,this.multi=[],this.view=[void 0,void 0],this.showXAxis=!0,this.showYAxis=!0,this.showLegend=!0,this.showXAxisLabel=!0,this.xAxisLabel="Goals",this.showYAxisLabel=!0,this.yAxisLabel="Budgets",this.legendTitle="Objectives",this.gradient=!1,this.colorScheme={domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},this.loading=!1,this.getDashboardSubscription=new G.x}ngOnInit(){this.getBarCharstData()}getBarCharstData(t=void 0){var i=this;return(0,O.Z)(function*(){i.loading=!0,i.multi=[],i.goalService.getRoute("get","goals",`getAllObjectivesWithObjectivesForBarChartsDashboard/${t}`).pipe((0,u.R)(i.getDashboardSubscription)).subscribe({next:n=>{i.multi=n.multi},error:n=>{console.error("Error fetching data:",n),i.messageService.add({severity:"error",summary:"Error",detail:"Failed to fetch goals"}),i.loading=!1}})})()}ngOnDestroy(){this.getDashboardSubscription.next(),this.getDashboardSubscription.complete()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(D.O),e.Y36(x.ez))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-reporting"]],decls:9,vars:12,consts:[[1,"grid"],[1,"col-12"],[1,"card"],[1,"add-user-heading"],[1,"text-xl","font-medium","mt-2","text-slate-950"],[1,"chart-parents",2,"max-height","50vh"],[3,"groupPadding","scheme","results","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","legendTitle","gradient"],["myBarChart",""]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._uU(5,"Charts"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"ngx-charts-bar-vertical-2d",6,7),e.qZA()()()()()),2&i&&(e.xp6(7),e.Q6J("groupPadding",0)("scheme",n.colorScheme)("results",n.multi)("xAxis",n.showXAxis)("yAxis",n.showYAxis)("legend",n.showLegend)("showXAxisLabel",n.showXAxisLabel)("showYAxisLabel",n.showYAxisLabel)("xAxisLabel",n.xAxisLabel)("yAxisLabel",n.yAxisLabel)("legendTitle",n.legendTitle)("gradient",n.gradient))},dependencies:[eo.H5],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#505c754d}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:#505c75}app[_ngcontent-%COMP%]{height:100%}.arrow-down[_ngcontent-%COMP%]{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #fff;display:inline-block;margin-right:5px}.arrow-right[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;width:0;height:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid #fff}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{font-size:16px;padding:5px;display:block;background:transparent;color:#fff;width:100%;border:none;border-bottom:1px solid #5264ae}input[_ngcontent-%COMP%]:focus{outline:none}select[_ngcontent-%COMP%]{width:100%;height:30px;margin:5px 0}main[_ngcontent-%COMP%]{justify-content:center;height:100%}main[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]{width:75%;height:100vh;position:absolute;inset:0 0 0 25%}main[_ngcontent-%COMP%]   .chart-col[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{overflow-y:auto;box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f;width:25%;height:100vh;inset:0 75% 0 0;background:#2f3646;color:#fff;font-size:.6em}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-weight:100;text-transform:uppercase;display:block;margin:0;background:#1f89ff;padding:15px}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.5em;line-height:1.3em;color:#fff}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   small.subtitle[_ngcontent-%COMP%]{display:block}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:0;margin:10px 0 0;text-transform:uppercase;color:#a8b2c7;-webkit-user-select:none;user-select:none}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#a8b2c7;text-decoration:none}main[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#1b1e27;font-size:12px;line-height:1em;max-height:400px;overflow:auto;padding:15px}.dark[_ngcontent-%COMP%]{background:#1b1e27}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#a0aabe}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .tooltip-anchor[_ngcontent-%COMP%]{fill:#fff}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .gridline-path[_ngcontent-%COMP%]{stroke:#2f3646}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .refline-path[_ngcontent-%COMP%]{stroke:#455066}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .reference-area[_ngcontent-%COMP%]{fill:#fff}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .grid-panel.odd[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#ffffff0d}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .number-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f0f1f6}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .gauge[_ngcontent-%COMP%]   .background-arc[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#2f3646}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .gauge[_ngcontent-%COMP%]   .gauge-tick[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#a0aabe}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .gauge[_ngcontent-%COMP%]   .gauge-tick[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#a0aabe}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .linear-gauge[_ngcontent-%COMP%]   .background-bar[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#2f3646}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .linear-gauge[_ngcontent-%COMP%]   .units[_ngcontent-%COMP%]{fill:#72809b}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   .brush-background[_ngcontent-%COMP%]{fill:#ffffff0d}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .timeline[_ngcontent-%COMP%]   .brush[_ngcontent-%COMP%]   .selection[_ngcontent-%COMP%]{fill:#ffffff1a;stroke:#aaa}.dark[_ngcontent-%COMP%]   .ngx-charts[_ngcontent-%COMP%]   .polar-chart[_ngcontent-%COMP%]   .polar-chart-background[_ngcontent-%COMP%]{fill:#1e222e}.dark[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-labels[_ngcontent-%COMP%]{background:rgba(255,255,255,.05)!important}.dark[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]:hover{color:#fff}.dark[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]:hover, .dark[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .legend-label-text[_ngcontent-%COMP%]{color:#fff!important}.dark[_ngcontent-%COMP%]   .chart-legend[_ngcontent-%COMP%]   .scale-legend-label[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .advanced-pie-legend[_ngcontent-%COMP%]{color:#a0aabe}.dark[_ngcontent-%COMP%]   .advanced-pie-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]:hover{color:#fff!important}.dark[_ngcontent-%COMP%]   .number-card[_ngcontent-%COMP%]   .number-card-label[_ngcontent-%COMP%]{font-size:.8em;color:#a0aabe}"]})}return o})();function no(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addObjective())}),e.qZA(),e.BQk()}}function io(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().index,a=e.oxw();return e.KtG(a.removeObjective(n))}),e.qZA(),e.BQk()}}function oo(o,s){if(1&o&&(e.TgZ(0,"div",10)(1,"label",11),e._uU(2),e.qZA(),e.TgZ(3,"div",12),e._UZ(4,"input",13),e._uU(5," \xa0 "),e.YNc(6,no,2,0,"ng-container",14),e._uU(7," \xa0 "),e.YNc(8,io,2,0,"ng-container",14),e.qZA()()),2&o){const t=s.index;e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("htmlFor","objective"+t),e.xp6(1),e.hij(" Objective ",t+1," "),e.xp6(2),e.Q6J("id","objective"+t),e.xp6(2),e.Q6J("ngIf",0===t),e.xp6(2),e.Q6J("ngIf",t>0)}}let Le=(()=>{class o{constructor(t,i,n,a){this.formBuilder=t,this.goallistService=i,this.messageService=n,this.auth=a,this.addGoalEvent=new e.vpe,this.editing=!1,this.products=[],this.goallistSubscription=new G.x,this.createAddGoalForm()}ngOnInit(){this.addGoalform.get("goals")?.valueChanges.subscribe(t=>{""===t&&this.initialGoalValue&&(this.editing=!1,this.initialGoalValue=null)})}ngOnChanges(t){t.editGoalNameData&&(this.newData=t.editGoalNameData.currentValue,this.newData&&this.newData.goals&&this.newData.objectives?(this.addGoalform.patchValue({goals:this.newData.goals}),Array.isArray(this.newData.objectives)&&(this.objectivesArray.clear(),this.newData.objectives.forEach(i=>{this.objectivesArray.push(this.formBuilder.group({objective:i.objective}))})),this.initialGoalValue=this.newData.goals,this.editing=!0):(this.addGoalform.reset(),this.editing=!1))}createAddGoalForm(){this.addGoalform=this.formBuilder.group({goals:["",[l.kI.required]],objectives:this.formBuilder.array([this.createObjective()])})}createObjective(){return this.formBuilder.group({objective:["",l.kI.required]})}get objectivesArray(){return this.addGoalform.get("objectives")}addObjective(){this.objectivesArray.push(this.createObjective())}removeObjective(t){this.objectivesArray.removeAt(t)}addGoalExec(t){let{objectives:a}=t.value;[].push(a.map(v=>({objective:v.objective,createdBy:this.auth.getTokenUserID()}))),this.auth.getTokenUserID(),this.goallistService.getRoute("post","goallists","addGoal",t.value).pipe((0,u.R)(this.goallistSubscription)).subscribe({next:v=>{this.messageService.add({severity:"success",summary:"Success",detail:`${t.value.goals} added successfully`}),this.clearForm(),this.addGoalEvent.emit({success:!0,data:v.data})},error:v=>{console.error("Error fetching data:",v),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to add goal"})}})}updateGoal(t){this.goallistService.getRoute("put","goallists","updateGoalList",{id:this.newData.id,goals:t.value.goals,objectives:t.value.objectives}).pipe((0,u.R)(this.goallistSubscription)).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Success",detail:`${t.value.goals} updated successfully`}),this.clearForm(),this.addGoalEvent.emit({success:!0,data:i.data}),this.editing=!1},error:i=>{console.error("Error updating data:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update goal"})}})}clearForm(){this.addGoalform.reset(),this.objectivesArray.clear(),this.objectivesArray.push(this.createObjective()),this.editing=!1}ngOnDestroy(){this.goallistSubscription.next(),this.goallistSubscription.complete()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(l.qu),e.Y36(me.i),e.Y36(x.ez),e.Y36(H.e))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-goal"]],inputs:{editGoalNameData:"editGoalNameData",addGoalMessageResults:"addGoalMessageResults"},outputs:{addGoalEvent:"addGoalEvent"},features:[e.TTD],decls:12,vars:5,consts:[[1,"p-fluid"],[1,"field","col-10","md:col-10"],[3,"formGroup"],[1,"field"],["htmlFor","name1"],["pInputText","","id","goals","autocomplete","off","formControlName","goals","required","",1,"flex-auto",3,"ngClass"],["formArrayName","objectives",1,"field"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"mt-4",3,"label","severity","click"],["type","button","pButton","","label","Clear",1,"p-button-outlined",3,"click"],[3,"formGroupName"],[3,"htmlFor"],[1,"flex","align-items-center"],["pInputText","","formControlName","objective","required","",3,"id"],[4,"ngIf"],["type","button","pButton","","icon","pi pi-plus",3,"click"],["type","button","pButton","","icon","pi pi-trash",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"label",4),e._uU(5,"Goal name"),e.qZA(),e._UZ(6,"input",5),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,oo,9,6,"div",7),e.qZA(),e.TgZ(9,"p-button",8),e.NdJ("click",function(){return n.editing?n.updateGoal(n.addGoalform):n.addGoalExec(n.addGoalform)}),e.qZA(),e._uU(10," \xa0 "),e.TgZ(11,"button",9),e.NdJ("click",function(){return n.clearForm()}),e.qZA()()()()),2&i&&(e.xp6(2),e.Q6J("formGroup",n.addGoalform),e.xp6(4),e.Q6J("ngClass",null!=n.addGoalform&&n.addGoalform.get("goals").touched&&null!=n.addGoalform&&null!=n.addGoalform.controls.goals.errors&&n.addGoalform.controls.goals.errors.required?"ng-invalid ng-dirty":""),e.xp6(2),e.Q6J("ngForOf",n.objectivesArray.controls),e.xp6(1),e.Q6J("label",n.editing?"Edit":"Save")("severity",n.editing?"warning":"primary"))},dependencies:[b.mk,b.sg,b.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,l.x0,l.CE,J.Hq,J.zx,ee.o]})}return o})();var ao=d(7680),lo=d(3904);function ro(o,s){1&o&&e._UZ(0,"p-progressSpinner",0)}function so(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.expandAll())}),e.qZA(),e._UZ(1,"div",11)}if(2&o){const t=e.oxw(3);e.MGl("icon","pi pi-fw ",t.isExpanded?"pi-minus":"pi-plus",""),e.s9C("label",t.isExpanded?"Collapse All":"Expand All")}}function co(o,s){1&o&&(e.TgZ(0,"tr"),e._UZ(1,"th",12),e.TgZ(2,"th",13),e._uU(3," Goal "),e._UZ(4,"p-sortIcon",14),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Options"),e.qZA()())}function po(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"button",15),e.qZA(),e.TgZ(3,"td",16),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div",17)(7,"i",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.updateGoal(a))}),e.qZA(),e._uU(8," \xa0 "),e.TgZ(9,"i",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.deleteGoal(a.id))}),e.qZA()()()()}if(2&o){const t=s.$implicit,i=s.expanded;e.xp6(2),e.Q6J("pRowToggler",t)("icon",i?"pi pi-chevron-down":"pi pi-chevron-right"),e.xp6(2),e.Oqu(t.goals)}}function uo(o,s){1&o&&(e.TgZ(0,"tr")(1,"th",24),e._uU(2," Objectives "),e._UZ(3,"p-sortIcon",25),e.qZA()())}function go(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Oqu(t.objective)}}function mo(o,s){1&o&&(e.TgZ(0,"tr")(1,"td",26),e._uU(2," There are no Objectives for this goal yet. "),e.qZA()())}function ho(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td",20)(2,"div",21)(3,"p-table",22),e.YNc(4,uo,4,0,"ng-template",7)(5,go,3,1,"ng-template",8)(6,mo,3,0,"ng-template",23),e.qZA()()()()),2&o){const t=s.$implicit;e.xp6(3),e.Q6J("value",t.objectives)}}function fo(o,s){if(1&o&&(e.TgZ(0,"div",3)(1,"div",4)(2,"p-table",5),e.YNc(3,so,2,2,"ng-template",6)(4,co,7,0,"ng-template",7)(5,po,10,3,"ng-template",8)(6,ho,7,1,"ng-template",9),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("value",t.goals)("expandedRowKeys",t.expandedRows)}}function _o(o,s){1&o&&(e.TgZ(0,"span",27),e._uU(1,"No Goals Found"),e.qZA())}function bo(o,s){if(1&o&&e.YNc(0,fo,7,2,"div",2)(1,_o,2,0),2&o){const t=e.oxw();e.um2(0,0!==t.goals.length?0:1)}}let vo=(()=>{class o{constructor(t,i,n,a){this.goalService=t,this.messageService=i,this.confirmationService=n,this.cdRef=a,this.goals=[],this.editGoalName=new e.vpe,this.filteredGoals=[],this.loading=!1,this.position="top",this.goalTableSubscription=new G.x,this.expandedRows={},this.isExpanded=!1,this.getAllGoalLists()}ngOnChanges(t){if(t.newGoalDataFromParent&&t.newGoalDataFromParent.currentValue){this.loading=!0;const i=t.newGoalDataFromParent.currentValue;if(i.data&&"object"==typeof i.data){const n=this.goals.findIndex(a=>a.id===i.data.id);-1!==n?this.goals[n]=i.data:this.goals.unshift(i.data),this.cdRef.detectChanges(),this.loading=!1}else console.error("Invalid newGoalDataFromParent format:",i)}}getAllGoalLists(t){if(t)return this.goals=t,void(this.loading=!1);this.loading=!0,this.goalService.getRoute("get","goallists","getAllGoalLists").pipe((0,u.R)(this.goalTableSubscription)).subscribe({next:i=>{this.goals=i.data[0]||[],this.loading=!1},error:i=>{console.error("Error fetching data:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to Fetch goal"})}})}updateGoal(t){this.editGoalName.emit(t)}deleteGoal(t){this.filteredGoals=this.goals.filter(i=>i.id!==t),setTimeout(()=>{this.confirmationService.confirm({message:"Are you sure you want to proceed?",header:"Delete",icon:"pi pi-info-circle",acceptIcon:"none",rejectIcon:"none",rejectButtonStyleClass:"p-button-text",accept:()=>{this.loading=!0,this.goalService.getRoute("put","goallists","deleteGoalLists",{id:t}).pipe((0,u.R)(this.goalTableSubscription)).subscribe({next:i=>{i.success&&(this.messageService.add({severity:"info",summary:"Confirmed",detail:"Delete submitted"}),this.getAllGoalLists(this.filteredGoals))},error:i=>{console.error("Error fetching data:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to Delete goal"})}})},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"Process incomplete",life:3e3})},key:"positionDialog"})},0)}expandAll(){this.isExpanded?this.expandedRows={}:this.goals.forEach(t=>t.goals?this.expandedRows[t.goals]=!0:""),this.isExpanded=!this.isExpanded}ngOnDestroy(){this.goalTableSubscription.next(),this.goalTableSubscription.complete()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(D.O),e.Y36(x.ez),e.Y36(x.YP),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-goal-table"]],inputs:{goals:"goals",newGoalDataFromParent:"newGoalDataFromParent"},outputs:{editGoalName:"editGoalName"},features:[e.TTD],decls:3,vars:2,consts:[["ariaLabel","loading"],["key","positionDialog","rejectButtonStyleClass","p-button-outlined",3,"position"],["class","col-12"],[1,"col-12"],[1,"card"],["dataKey","goals","responsiveLayout","scroll",3,"value","expandedRowKeys"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pButton","",3,"icon","label","click"],[1,"flex","table-header"],[2,"width","3rem"],["pSortableColumn","goals"],["field","goals"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],[2,"min-width","12rem"],[1,"options-users"],[1,"pi","pi-file-edit","text-xl",2,"color","#0ea5e9","cursor","pointer",3,"click"],[1,"pi","pi-trash","text-xl",2,"color","#ef4444","cursor","pointer",3,"click"],["colspan","7"],[1,"p-3"],["dataKey","id","responsiveLayout","scroll",3,"value"],["pTemplate","emptymessage"],["pSortableColumn","id"],["field","price"],["colspan","6"],[1,"flex","justify-content-between","mt-2"]],template:function(i,n){1&i&&(e.YNc(0,ro,1,0,"p-progressSpinner",0)(1,bo,2,1),e._UZ(2,"p-confirmDialog",1)),2&i&&(e.um2(0,n.loading?0:1),e.xp6(2),e.Q6J("position",n.position))},dependencies:[c.iA,x.jx,c.lQ,c.jB,c.fz,J.Hq,ao.G,lo.Q],styles:[".p-orderlist-item{cursor:default}"]})}return o})(),Co=(()=>{class o{constructor(){this.newGoalData={},this.editGoalNameDataParent={}}addGoalEvent(t){var i=this;return(0,O.Z)(function*(){i.newGoalData=t})()}editGoalName(t){var i=this;return(0,O.Z)(function*(){i.editGoalNameDataParent=t})()}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-goal-management"]],decls:12,vars:3,consts:[[1,"col-12"],[1,"card"],[1,"grid"],[1,"col-5","flex","align-items-center","justify-content-center",3,"addGoalMessageResults","editGoalNameData","addGoalEvent"],[1,"col-2"],["layout","vertical"],[1,"col-5","align-items-center","justify-content-center"],[3,"newGoalDataFromParent","editGoalName"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h5"),e._uU(3,"Goal Manager"),e.qZA(),e.TgZ(4,"div",2)(5,"app-add-goal",3),e.NdJ("addGoalEvent",function(r){return n.addGoalEvent(r)}),e.qZA(),e.TgZ(6,"div",4)(7,"p-divider",5)(8,"b"),e._uU(9,"OR"),e.qZA()()(),e.TgZ(10,"div",6)(11,"app-goal-table",7),e.NdJ("editGoalName",function(r){return n.editGoalName(r)}),e.qZA()()()()()),2&i&&(e.xp6(5),e.Q6J("addGoalMessageResults",n.addGoalMessageResultsPost)("editGoalNameData",n.editGoalNameDataParent),e.xp6(6),e.Q6J("newGoalDataFromParent",n.newGoalData))},dependencies:[f.i,Le,vo]})}return o})(),xo=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[j.Bz.forChild([{path:"",component:Oe},{path:"dashboard",component:Oe},{path:"users",component:dt},{path:"goals",component:Nn},{path:"goals/dashboard",component:zn},{path:"goals/objectives",component:Ii},{path:"goals/calendar",component:Xi},{path:"goals/reporting",component:to},{path:"departments",component:si},{path:"goal-management",component:Co},{path:"logs",component:mi},{path:"ai",component:Hi},{path:"**",redirectTo:"/dashboard"}]),j.Bz]})}return o})();var Zo=d(4724);d(9138),d(1457),d(6758),d(2927);let Ao=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({providers:[ve.p],imports:[xo,Zo.m,Ee.JP.forRoot()]})}return o})()},1457:()=>{!function(F){F.languages.typescript=F.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),F.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete F.languages.typescript.parameter,delete F.languages.typescript["literal-property"];var I=F.languages.extend("typescript",{});delete I["class-name"],F.languages.typescript["class-name"].inside=I,F.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:I}}}}),F.languages.ts=F.languages.typescript}(Prism)},2927:()=>{!function(){if(!(typeof Prism>"u"||typeof document>"u")&&document.querySelector){var A,F="line-numbers",I="linkable-line-numbers",d=/\n(?!$)/g,q=!0;Prism.plugins.lineHighlight={highlightLines:function(Z,P,x){var b=(P="string"==typeof P?P:Z.getAttribute("data-line")||"").replace(/\s+/g,"").split(",").filter(Boolean),l=+Z.getAttribute("data-line-offset")||0,c=(function(){if(typeof A>"u"){var Z=document.createElement("div");Z.style.fontSize="13px",Z.style.lineHeight="1.5",Z.style.padding="0",Z.style.border="0",Z.innerHTML="&nbsp;<br />&nbsp;",document.body.appendChild(Z),A=38===Z.offsetHeight,document.body.removeChild(Z)}return A}()?parseInt:parseFloat)(getComputedStyle(Z).lineHeight),m=Prism.util.isActive(Z,F),h=Z.querySelector("code"),f=m?Z:h||Z,C=[],w=h.textContent.match(d),y=w?w.length+1:1,U=h&&f!=h?function _(A,Z){var P=getComputedStyle(A),x=getComputedStyle(Z);function b(l){return+l.substr(0,l.length-2)}return Z.offsetTop+b(x.borderTopWidth)+b(x.paddingTop)-b(P.paddingTop)}(Z,h):0;b.forEach(function($){var K=$.split("-"),L=+K[0],R=+K[1]||L;if(!((R=Math.min(y+l,R))<L)){var N=Z.querySelector('.line-highlight[data-range="'+$+'"]')||document.createElement("div");if(C.push(function(){N.setAttribute("aria-hidden","true"),N.setAttribute("data-range",$),N.className=(x||"")+" line-highlight"}),m&&Prism.plugins.lineNumbers){var k=Prism.plugins.lineNumbers.getLine(Z,L),E=Prism.plugins.lineNumbers.getLine(Z,R);if(k){var V=k.offsetTop+U+"px";C.push(function(){N.style.top=V})}if(E){var X=E.offsetTop-k.offsetTop+E.offsetHeight+"px";C.push(function(){N.style.height=X})}}else C.push(function(){N.setAttribute("data-start",String(L)),R>L&&N.setAttribute("data-end",String(R)),N.style.top=(L-l-1)*c+U+"px",N.textContent=new Array(R-L+2).join(" \n")});C.push(function(){N.style.width=Z.scrollWidth+"px"}),C.push(function(){f.appendChild(N)})}});var S=Z.id;if(m&&Prism.util.isActive(Z,I)&&S){O(Z,I)||C.push(function(){Z.classList.add(I)});var B=parseInt(Z.getAttribute("data-start")||"1");j(".line-numbers-rows > span",Z).forEach(function($,K){var L=K+B;$.onclick=function(){q=!1,location.hash=S+"."+L,setTimeout(function(){q=!0},1)}})}return function(){C.forEach(G)}}};var T=0;Prism.hooks.add("before-sanity-check",function(A){var Z=A.element.parentElement;if(e(Z)){var P=0;j(".line-highlight",Z).forEach(function(x){P+=x.textContent.length,x.parentNode.removeChild(x)}),P&&/^(?: \n)+$/.test(A.code.slice(-P))&&(A.code=A.code.slice(0,-P))}}),Prism.hooks.add("complete",function A(Z){var P=Z.element.parentElement;if(e(P)){clearTimeout(T);var x=Prism.plugins.lineNumbers,b=Z.plugins&&Z.plugins.lineNumbers;O(P,F)&&x&&!b?Prism.hooks.add("line-numbers",A):(Prism.plugins.lineHighlight.highlightLines(P)(),T=setTimeout(D,1))}}),window.addEventListener("hashchange",D),window.addEventListener("resize",function(){j("pre").filter(e).map(function(Z){return Prism.plugins.lineHighlight.highlightLines(Z)}).forEach(G)})}function j(A,Z){return Array.prototype.slice.call((Z||document).querySelectorAll(A))}function O(A,Z){return A.classList.contains(Z)}function G(A){A()}function e(A){return!(!A||!/pre/i.test(A.nodeName)||!(A.hasAttribute("data-line")||A.id&&Prism.util.isActive(A,I)))}function D(){var A=location.hash.slice(1);j(".temporary.line-highlight").forEach(function(l){l.parentNode.removeChild(l)});var Z=(A.match(/\.([\d,-]+)$/)||[,""])[1];if(Z&&!document.getElementById(A)){var P=A.slice(0,A.lastIndexOf(".")),x=document.getElementById(P);x&&(x.hasAttribute("data-line")||x.setAttribute("data-line",""),Prism.plugins.lineHighlight.highlightLines(x,Z,"temporary ")(),q&&document.querySelector(".temporary.line-highlight").scrollIntoView())}}}()},6758:()=>{!function(){if(!(typeof Prism>"u"||typeof document>"u")){var F="line-numbers",I=/\n(?!$)/g,d=Prism.plugins.lineNumbers={getLine:function(u,_){if("PRE"===u.tagName&&u.classList.contains(F)){var e=u.querySelector(".line-numbers-rows");if(e){var q=parseInt(u.getAttribute("data-start"),10)||1,D=q+(e.children.length-1);return _<q&&(_=q),_>D&&(_=D),e.children[_-q]}}},resize:function(u){j([u])},assumeViewportIndependence:!0},G=void 0;window.addEventListener("resize",function(){d.assumeViewportIndependence&&G===window.innerWidth||(G=window.innerWidth,j(Array.prototype.slice.call(document.querySelectorAll("pre."+F))))}),Prism.hooks.add("complete",function(u){if(u.code){var _=u.element,e=_.parentNode;if(e&&/pre/i.test(e.nodeName)&&!_.querySelector(".line-numbers-rows")&&Prism.util.isActive(_,F)){_.classList.remove(F),e.classList.add(F);var T,q=u.code.match(I),A=new Array((q?q.length+1:1)+1).join("<span></span>");(T=document.createElement("span")).setAttribute("aria-hidden","true"),T.className="line-numbers-rows",T.innerHTML=A,e.hasAttribute("data-start")&&(e.style.counterReset="linenumber "+(parseInt(e.getAttribute("data-start"),10)-1)),u.element.appendChild(T),j([e]),Prism.hooks.run("line-numbers",u)}}}),Prism.hooks.add("line-numbers",function(u){u.plugins=u.plugins||{},u.plugins.lineNumbers=!0})}function j(u){if(0!=(u=u.filter(function(e){var q=function O(u){return u?window.getComputedStyle?getComputedStyle(u):u.currentStyle||null:null}(e),D=q["white-space"];return"pre-wrap"===D||"pre-line"===D})).length){var _=u.map(function(e){var q=e.querySelector("code"),D=e.querySelector(".line-numbers-rows");if(q&&D){var T=e.querySelector(".line-numbers-sizer"),A=q.textContent.split(I);T||((T=document.createElement("span")).className="line-numbers-sizer",q.appendChild(T)),T.innerHTML="0",T.style.display="block";var Z=T.getBoundingClientRect().height;return T.innerHTML="",{element:e,lines:A,lineHeights:[],oneLinerHeight:Z,sizer:T}}}).filter(Boolean);_.forEach(function(e){var q=e.sizer,D=e.lines,T=e.lineHeights,A=e.oneLinerHeight;T[D.length-1]=void 0,D.forEach(function(Z,P){if(Z&&Z.length>1){var x=q.appendChild(document.createElement("span"));x.style.display="block",x.textContent=Z}else T[P]=A})}),_.forEach(function(e){for(var q=e.sizer,D=e.lineHeights,T=0,A=0;A<D.length;A++)void 0===D[A]&&(D[A]=q.children[T++].getBoundingClientRect().height)}),_.forEach(function(e){var q=e.sizer,D=e.element.querySelector(".line-numbers-rows");q.style.display="none",q.innerHTML="",e.lineHeights.forEach(function(T,A){D.children[A].style.height=T+"px"})})}}}()},9138:F=>{var d=function(j){var O=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,G=0,u={},_={manual:j.Prism&&j.Prism.manual,disableWorkerMessageHandler:j.Prism&&j.Prism.disableWorkerMessageHandler,util:{encode:function p(c){return c instanceof e?new e(c.type,p(c.content),c.alias):Array.isArray(c)?c.map(p):c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++G}),p.__id},clone:function p(c,m){var h,f;switch(m=m||{},_.util.type(c)){case"Object":if(f=_.util.objId(c),m[f])return m[f];for(var C in m[f]=h={},c)c.hasOwnProperty(C)&&(h[C]=p(c[C],m));return h;case"Array":return f=_.util.objId(c),m[f]?m[f]:(m[f]=h=[],c.forEach(function(w,y){h[y]=p(w,m)}),h);default:return c}},getLanguage:function(p){for(;p;){var c=O.exec(p.className);if(c)return c[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,c){p.className=p.className.replace(RegExp(O,"gi"),""),p.classList.add("language-"+c)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(h){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(h.stack)||[])[1];if(p){var c=document.getElementsByTagName("script");for(var m in c)if(c[m].src==p)return c[m]}return null}},isActive:function(p,c,m){for(var h="no-"+c;p;){var f=p.classList;if(f.contains(c))return!0;if(f.contains(h))return!1;p=p.parentElement}return!!m}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(p,c){var m=_.util.clone(_.languages[p]);for(var h in c)m[h]=c[h];return m},insertBefore:function(p,c,m,h){var f=(h=h||_.languages)[p],C={};for(var w in f)if(f.hasOwnProperty(w)){if(w==c)for(var y in m)m.hasOwnProperty(y)&&(C[y]=m[y]);m.hasOwnProperty(w)||(C[w]=f[w])}var U=h[p];return h[p]=C,_.languages.DFS(_.languages,function(S,B){B===U&&S!=p&&(this[S]=C)}),C},DFS:function p(c,m,h,f){f=f||{};var C=_.util.objId;for(var w in c)if(c.hasOwnProperty(w)){m.call(c,w,c[w],h||w);var y=c[w],U=_.util.type(y);"Object"!==U||f[C(y)]?"Array"===U&&!f[C(y)]&&(f[C(y)]=!0,p(y,m,w,f)):(f[C(y)]=!0,p(y,m,null,f))}}},plugins:{},highlightAll:function(p,c){_.highlightAllUnder(document,p,c)},highlightAllUnder:function(p,c,m){var h={callback:m,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};_.hooks.run("before-highlightall",h),h.elements=Array.prototype.slice.apply(h.container.querySelectorAll(h.selector)),_.hooks.run("before-all-elements-highlight",h);for(var C,f=0;C=h.elements[f++];)_.highlightElement(C,!0===c,h.callback)},highlightElement:function(p,c,m){var h=_.util.getLanguage(p),f=_.languages[h];_.util.setLanguage(p,h);var C=p.parentElement;C&&"pre"===C.nodeName.toLowerCase()&&_.util.setLanguage(C,h);var y={element:p,language:h,grammar:f,code:p.textContent};function U(B){y.highlightedCode=B,_.hooks.run("before-insert",y),y.element.innerHTML=y.highlightedCode,_.hooks.run("after-highlight",y),_.hooks.run("complete",y),m&&m.call(y.element)}if(_.hooks.run("before-sanity-check",y),(C=y.element.parentElement)&&"pre"===C.nodeName.toLowerCase()&&!C.hasAttribute("tabindex")&&C.setAttribute("tabindex","0"),!y.code)return _.hooks.run("complete",y),void(m&&m.call(y.element));if(_.hooks.run("before-highlight",y),y.grammar)if(c&&j.Worker){var S=new Worker(_.filename);S.onmessage=function(B){U(B.data)},S.postMessage(JSON.stringify({language:y.language,code:y.code,immediateClose:!0}))}else U(_.highlight(y.code,y.grammar,y.language));else U(_.util.encode(y.code))},highlight:function(p,c,m){var h={code:p,grammar:c,language:m};if(_.hooks.run("before-tokenize",h),!h.grammar)throw new Error('The language "'+h.language+'" has no grammar.');return h.tokens=_.tokenize(h.code,h.grammar),_.hooks.run("after-tokenize",h),e.stringify(_.util.encode(h.tokens),h.language)},tokenize:function(p,c){var m=c.rest;if(m){for(var h in m)c[h]=m[h];delete c.rest}var f=new T;return A(f,f.head,p),D(p,f,c,f.head,0),function P(p){for(var c=[],m=p.head.next;m!==p.tail;)c.push(m.value),m=m.next;return c}(f)},hooks:{all:{},add:function(p,c){var m=_.hooks.all;m[p]=m[p]||[],m[p].push(c)},run:function(p,c){var m=_.hooks.all[p];if(m&&m.length)for(var f,h=0;f=m[h++];)f(c)}},Token:e};function e(p,c,m,h){this.type=p,this.content=c,this.alias=m,this.length=0|(h||"").length}function q(p,c,m,h){p.lastIndex=c;var f=p.exec(m);if(f&&h&&f[1]){var C=f[1].length;f.index+=C,f[0]=f[0].slice(C)}return f}function D(p,c,m,h,f,C){for(var w in m)if(m.hasOwnProperty(w)&&m[w]){var y=m[w];y=Array.isArray(y)?y:[y];for(var U=0;U<y.length;++U){if(C&&C.cause==w+","+U)return;var S=y[U],B=S.inside,$=!!S.lookbehind,K=!!S.greedy,L=S.alias;if(K&&!S.pattern.global){var R=S.pattern.toString().match(/[imsuy]*$/)[0];S.pattern=RegExp(S.pattern.source,R+"g")}for(var N=S.pattern||S,k=h.next,E=f;k!==c.tail&&!(C&&E>=C.reach);E+=k.value.length,k=k.next){var V=k.value;if(c.length>p.length)return;if(!(V instanceof e)){var Q,X=1;if(K){if(!(Q=q(N,E,p,$))||Q.index>=p.length)break;var ne=Q.index,fe=Q.index+Q[0].length,z=E;for(z+=k.value.length;ne>=z;)z+=(k=k.next).value.length;if(E=z-=k.value.length,k.value instanceof e)continue;for(var te=k;te!==c.tail&&(z<fe||"string"==typeof te.value);te=te.next)X++,z+=te.value.length;X--,V=p.slice(E,z),Q.index-=E}else if(!(Q=q(N,0,V,$)))continue;var ie=Q[0],ae=V.slice(0,ne=Q.index),pe=V.slice(ne+ie.length),le=E+V.length;C&&le>C.reach&&(C.reach=le);var oe=k.prev;if(ae&&(oe=A(c,oe,ae),E+=ae.length),Z(c,oe,X),k=A(c,oe,new e(w,B?_.tokenize(ie,B):ie,L,ie)),pe&&A(c,k,pe),X>1){var re={cause:w+","+U,reach:le};D(p,c,m,k.prev,E,re),C&&re.reach>C.reach&&(C.reach=re.reach)}}}}}}function T(){var p={value:null,prev:null,next:null},c={value:null,prev:p,next:null};p.next=c,this.head=p,this.tail=c,this.length=0}function A(p,c,m){var h=c.next,f={value:m,prev:c,next:h};return c.next=f,h.prev=f,p.length++,f}function Z(p,c,m){for(var h=c.next,f=0;f<m&&h!==p.tail;f++)h=h.next;c.next=h,h.prev=c,p.length-=f}if(j.Prism=_,e.stringify=function p(c,m){if("string"==typeof c)return c;if(Array.isArray(c)){var h="";return c.forEach(function(U){h+=p(U,m)}),h}var f={type:c.type,content:p(c.content,m),tag:"span",classes:["token",c.type],attributes:{},language:m},C=c.alias;C&&(Array.isArray(C)?Array.prototype.push.apply(f.classes,C):f.classes.push(C)),_.hooks.run("wrap",f);var w="";for(var y in f.attributes)w+=" "+y+'="'+(f.attributes[y]||"").replace(/"/g,"&quot;")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'"'+w+">"+f.content+"</"+f.tag+">"},!j.document)return j.addEventListener&&(_.disableWorkerMessageHandler||j.addEventListener("message",function(p){var c=JSON.parse(p.data),m=c.language,f=c.immediateClose;j.postMessage(_.highlight(c.code,_.languages[m],m)),f&&j.close()},!1)),_;var x=_.util.currentScript();function b(){_.manual||_.highlightAll()}if(x&&(_.filename=x.src,x.hasAttribute("data-manual")&&(_.manual=!0)),!_.manual){var l=document.readyState;"loading"===l||"interactive"===l&&x&&x.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return _}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});F.exports&&(F.exports=d),typeof global<"u"&&(global.Prism=d),d.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},d.languages.markup.tag.inside["attr-value"].inside.entity=d.languages.markup.entity,d.languages.markup.doctype.inside["internal-subset"].inside=d.languages.markup,d.hooks.add("wrap",function(j){"entity"===j.type&&(j.attributes.title=j.content.replace(/&amp;/,"&"))}),Object.defineProperty(d.languages.markup.tag,"addInlined",{value:function(O,G){var u={};u["language-"+G]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:d.languages[G]},u.cdata=/^<!\[CDATA\[|\]\]>$/i;var _={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:u}};_["language-"+G]={pattern:/[\s\S]+/,inside:d.languages[G]};var e={};e[O]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return O}),"i"),lookbehind:!0,greedy:!0,inside:_},d.languages.insertBefore("markup","cdata",e)}}),Object.defineProperty(d.languages.markup.tag,"addAttribute",{value:function(j,O){d.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+j+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[O,"language-"+O],inside:d.languages[O]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),d.languages.html=d.languages.markup,d.languages.mathml=d.languages.markup,d.languages.svg=d.languages.markup,d.languages.xml=d.languages.extend("markup",{}),d.languages.ssml=d.languages.xml,d.languages.atom=d.languages.xml,d.languages.rss=d.languages.xml,function(j){var O=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;j.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+O.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+O.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+O.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+O.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:O,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},j.languages.css.atrule.inside.rest=j.languages.css;var G=j.languages.markup;G&&(G.tag.addInlined("style","css"),G.tag.addAttribute("style","css"))}(d),d.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},d.languages.javascript=d.languages.extend("clike",{"class-name":[d.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),d.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,d.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:d.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:d.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:d.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:d.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:d.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),d.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:d.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),d.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),d.languages.markup&&(d.languages.markup.tag.addInlined("script","javascript"),d.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),d.languages.js=d.languages.javascript,function(){if(!(typeof d>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var u={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},_="data-src-status",e="loading",q="loaded",T="pre[data-src]:not(["+_+'="'+q+'"]):not(['+_+'="'+e+'"])';d.hooks.add("before-highlightall",function(x){x.selector+=", "+T}),d.hooks.add("before-sanity-check",function(x){var b=x.element;if(b.matches(T)){x.code="",b.setAttribute(_,e);var l=b.appendChild(document.createElement("CODE"));l.textContent="Loading\u2026";var p=b.getAttribute("data-src"),c=x.language;if("none"===c){var m=(/\.(\w+)$/.exec(p)||[,"none"])[1];c=u[m]||m}d.util.setLanguage(l,c),d.util.setLanguage(b,c);var h=d.plugins.autoloader;h&&h.loadLanguages(c),function A(x,b,l){var p=new XMLHttpRequest;p.open("GET",x,!0),p.onreadystatechange=function(){4==p.readyState&&(p.status<400&&p.responseText?b(p.responseText):l(p.status>=400?function(x,b){return"\u2716 Error "+x+" while fetching file: "+b}(p.status,p.statusText):"\u2716 Error: File does not exist or is empty"))},p.send(null)}(p,function(f){b.setAttribute(_,q);var C=function Z(x){var b=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(x||"");if(b){var l=Number(b[1]),c=b[3];return b[2]?c?[l,Number(c)]:[l,void 0]:[l,l]}}(b.getAttribute("data-range"));if(C){var w=f.split(/\r\n?|\n/g),y=C[0],U=null==C[1]?w.length:C[1];y<0&&(y+=w.length),y=Math.max(0,Math.min(y-1,w.length)),U<0&&(U+=w.length),U=Math.max(0,Math.min(U,w.length)),f=w.slice(y,U).join("\n"),b.hasAttribute("data-start")||b.setAttribute("data-start",String(y+1))}l.textContent=f,d.highlightElement(l)},function(f){b.setAttribute(_,"failed"),l.textContent=f})}}),d.plugins.fileHighlight={highlight:function(b){for(var c,l=(b||document).querySelectorAll(T),p=0;c=l[p++];)d.highlightElement(c)}};var P=!1;d.fileHighlight=function(){P||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),P=!0),d.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}}]);